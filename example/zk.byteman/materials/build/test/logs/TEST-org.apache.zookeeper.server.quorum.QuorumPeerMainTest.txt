Testsuite: org.apache.zookeeper.server.quorum.QuorumPeerMainTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 120.136 sec
------------- Standard Output ---------------
2015-05-21 15:11:15,039 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testEarlyLeaderAbandonment
2015-05-21 15:11:15,044 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testEarlyLeaderAbandonment
2015-05-21 15:11:15,048 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11221
2015-05-21 15:11:15,048 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11222
2015-05-21 15:11:15,048 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11223
2015-05-21 15:11:15,048 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11224
2015-05-21 15:11:15,048 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11225
2015-05-21 15:11:15,048 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11226
2015-05-21 15:11:15,049 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11227
2015-05-21 15:11:15,049 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11228
2015-05-21 15:11:15,049 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11229
2015-05-21 15:11:15,060 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir clientPort = 11221 adminServerPort = 8080
2015-05-21 15:11:15,065 [myid:] - INFO  [Thread-0:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/zoo.cfg
2015-05-21 15:11:15,069 [myid:] - INFO  [main:Environment@109] - Client environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:11:15,069 [myid:] - INFO  [Thread-0:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11221
2015-05-21 15:11:15,069 [myid:] - INFO  [main:Environment@109] - Client environment:host.name=mitake-jiseki-PC
2015-05-21 15:11:15,071 [myid:] - INFO  [main:Environment@109] - Client environment:java.version=1.7.0_75
2015-05-21 15:11:15,069 [myid:] - INFO  [Thread-0:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:15,071 [myid:] - INFO  [main:Environment@109] - Client environment:java.vendor=Oracle Corporation
2015-05-21 15:11:15,071 [myid:] - INFO  [main:Environment@109] - Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:11:15,071 [myid:] - INFO  [main:Environment@109] - Client environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:java.io.tmpdir=/tmp
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:java.compiler=<NA>
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:os.name=Linux
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:os.arch=amd64
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:os.version=3.13.0-45-generic
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:user.name=mitake
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:user.home=/home/mitake
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:11:15,072 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.free=475MB
2015-05-21 15:11:15,073 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.max=491MB
2015-05-21 15:11:15,073 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.total=491MB
2015-05-21 15:11:15,074 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:15,077 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:15,077 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:15,077 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:15,086 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir clientPort = 11224 adminServerPort = 8080
2015-05-21 15:11:15,086 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:15,087 [myid:] - INFO  [Thread-2:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/zoo.cfg
2015-05-21 15:11:15,087 [myid:] - INFO  [Thread-2:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11224
2015-05-21 15:11:15,087 [myid:] - INFO  [Thread-2:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:15,087 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir clientPort = 11227 adminServerPort = 8080
2015-05-21 15:11:15,087 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:15,088 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:15,088 [myid:] - INFO  [Thread-3:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/zoo.cfg
2015-05-21 15:11:15,088 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:15,088 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:15,088 [myid:] - INFO  [Thread-3:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11227
2015-05-21 15:11:15,088 [myid:] - INFO  [Thread-3:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:15,089 [myid:2] - INFO  [Thread-3:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:15,089 [myid:2] - INFO  [Thread-3:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:15,089 [myid:2] - INFO  [Thread-3:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:15,089 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:15,089 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:15,089 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:15,095 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:15,095 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:15,095 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:15,129 [myid:2] - ERROR [Thread-3:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,129 [myid:0] - ERROR [Thread-0:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,129 [myid:1] - ERROR [Thread-2:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,130 [myid:2] - ERROR [Thread-3:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,131 [myid:1] - ERROR [Thread-2:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,132 [myid:2] - WARN  [Thread-3:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,133 [myid:0] - INFO  [Thread-0:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:15,133 [myid:1] - ERROR [Thread-2:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,133 [myid:2] - INFO  [Thread-3:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:15,134 [myid:1] - WARN  [Thread-2:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:15,135 [myid:1] - INFO  [Thread-2:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:15,138 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:15,138 [myid:2] - INFO  [Thread-3:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:15,138 [myid:1] - INFO  [Thread-2:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:15,141 [myid:1] - INFO  [Thread-2:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11224
2015-05-21 15:11:15,141 [myid:2] - INFO  [Thread-3:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11227
2015-05-21 15:11:15,141 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11221
2015-05-21 15:11:15,148 [myid:0] - INFO  [Thread-0:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:15,148 [myid:1] - INFO  [Thread-2:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:15,148 [myid:2] - INFO  [Thread-3:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:15,149 [myid:1] - INFO  [Thread-2:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:15,148 [myid:0] - INFO  [Thread-0:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:15,149 [myid:1] - INFO  [Thread-2:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:15,149 [myid:2] - INFO  [Thread-3:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:15,149 [myid:1] - INFO  [Thread-2:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:15,149 [myid:0] - INFO  [Thread-0:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:15,149 [myid:1] - INFO  [Thread-2:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:15,149 [myid:2] - INFO  [Thread-3:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:15,149 [myid:1] - INFO  [Thread-2:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:15,149 [myid:0] - INFO  [Thread-0:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:15,149 [myid:2] - INFO  [Thread-3:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:15,149 [myid:0] - INFO  [Thread-0:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:15,149 [myid:2] - INFO  [Thread-3:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:15,149 [myid:0] - INFO  [Thread-0:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:15,149 [myid:2] - INFO  [Thread-3:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:15,162 [myid:0] - INFO  [Thread-0:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:15,162 [myid:2] - INFO  [Thread-3:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:15,162 [myid:1] - INFO  [Thread-2:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:15,170 [myid:1] - INFO  [Thread-2:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:15,170 [myid:2] - INFO  [Thread-3:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:15,170 [myid:0] - INFO  [Thread-0:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:15,182 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11226
2015-05-21 15:11:15,185 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11223
2015-05-21 15:11:15,185 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11229
2015-05-21 15:11:15,191 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:15,191 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:15,191 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:15,192 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:11:15,192 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:11:15,192 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:11:15,195 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:44787
2015-05-21 15:11:15,195 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58435
2015-05-21 15:11:15,195 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:11:15,196 [myid:2] - INFO  [/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:40100
2015-05-21 15:11:15,196 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:11:15,196 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,197 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:44788
2015-05-21 15:11:15,197 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58438
2015-05-21 15:11:15,198 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:11:15,198 [myid:2] - INFO  [/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:40101
2015-05-21 15:11:15,198 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,198 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,199 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,199 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,199 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,199 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,200 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,200 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,200 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,200 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,200 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,201 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,201 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,201 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,201 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,201 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,202 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:15,402 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:11:15,402 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:11:15,402 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:11:15,402 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:15,402 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:15,403 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:11:15,410 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@63] - TCP NoDelay set to: true
2015-05-21 15:11:15,410 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@83] - zookeeper.leader.maxConcurrentSnapshots = 10
2015-05-21 15:11:15,410 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@85] - zookeeper.leader.maxConcurrentSnapshotTimeout = 5
2015-05-21 15:11:15,412 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@88] - TCP NoDelay set to: true
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:host.name=mitake-jiseki-PC
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:java.version=1.7.0_75
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:java.vendor=Oracle Corporation
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:java.io.tmpdir=/tmp
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:java.compiler=<NA>
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:os.name=Linux
2015-05-21 15:11:15,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:os.arch=amd64
2015-05-21 15:11:15,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:os.version=3.13.0-45-generic
2015-05-21 15:11:15,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:user.name=mitake
2015-05-21 15:11:15,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:user.home=/home/mitake
2015-05-21 15:11:15,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:11:15,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:os.memory.free=387MB
2015-05-21 15:11:15,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:os.memory.max=491MB
2015-05-21 15:11:15,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Environment@109] - Server environment:os.memory.total=491MB
2015-05-21 15:11:15,416 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:15,416 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:15,416 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:15,416 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:15,416 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:15,416 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2
2015-05-21 15:11:15,416 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:15,416 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2
2015-05-21 15:11:15,416 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2
2015-05-21 15:11:15,417 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 14
2015-05-21 15:11:15,417 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 14
2015-05-21 15:11:15,417 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 15
2015-05-21 15:11:15,421 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:15,429 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37446:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11225:11226:participant;0.0.0.0:11224
2015-05-21 15:11:15,429 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37447:LearnerHandler@361] - Follower sid: 0 : info : 127.0.0.1:11222:11223:participant;0.0.0.0:11221
2015-05-21 15:11:15,457 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37447:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:11:15,457 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37446:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:11:15,457 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37447:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:11:15,457 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37446:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:11:15,458 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:11:15,459 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:11:15,463 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:15,463 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:15,471 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:15,471 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:15,480 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 2],[0, 2] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:11:15,518 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:15,524 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:15,525 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:15,548 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:15,548 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:16,197 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:16,197 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:16,197 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:16,198 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45042, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:16,198 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45042
2015-05-21 15:11:16,198 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54008
2015-05-21 15:11:16,198 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60511
2015-05-21 15:11:16,198 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60511, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:11:16,198 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54008, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:16,216 [myid:0] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:45042
2015-05-21 15:11:16,216 [myid:2] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:60511
2015-05-21 15:11:16,216 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:54008
2015-05-21 15:11:16,219 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:16,219 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:11:16,219 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:11:16,219 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:16,219 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:16,234 [myid:0] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x62477a80000 with negotiated timeout 30000 for client /127.0.0.1:45042
2015-05-21 15:11:16,234 [myid:2] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x200062477d60000 with negotiated timeout 30000 for client /127.0.0.1:60511
2015-05-21 15:11:16,234 [myid:1] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x100062477a80000 with negotiated timeout 30000 for client /127.0.0.1:54008
2015-05-21 15:11:16,235 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x62477a80000, negotiated timeout = 30000
2015-05-21 15:11:16,235 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x200062477d60000, negotiated timeout = 30000
2015-05-21 15:11:16,236 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x100062477a80000, negotiated timeout = 30000
2015-05-21 15:11:18,090 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:11:18,091 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:18,093 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x62477a80000]
2015-05-21 15:11:18,093 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45042 which had sessionid 0x62477a80000
2015-05-21 15:11:18,094 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:11:18,094 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x62477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:18,094 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:18,094 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:11:18,095 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:18,095 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:11:18,095 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:18,096 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:18,096 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:11:18,097 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:18,097 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:18,098 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:18,098 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:18,098 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:18,098 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:18,099 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:18,100 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:18,100 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:18,101 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:18,101 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:11:18,100 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:18,102 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:18,100 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:18,102 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:18,100 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:11:18,100 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:18,103 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:18,100 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:18,104 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:11:18,104 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:18,105 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:11:18,103 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:11:18,103 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:18,105 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:11:18,200 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:18,202 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:19,526 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:11:19,526 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:11:19,526 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:19,527 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:19,527 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:11:19,527 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:11:19,528 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:11:19,528 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:11:19,528 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:11:19,529 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:19,530 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062477a80000]
2015-05-21 15:11:19,531 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54008 which had sessionid 0x100062477a80000
2015-05-21 15:11:19,531 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:11:19,531 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:19,531 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:19,532 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:11:19,532 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:19,532 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:11:19,532 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:19,533 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:19,534 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:11:19,534 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:19,534 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:19,535 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:19,535 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:19,535 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:19,535 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:19,536 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:19,536 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:11:19,537 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:11:19,537 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:19,537 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:19,537 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:19,537 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:19,539 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:11:19,538 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:19,539 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:19,540 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:11:20,010 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:20,010 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:21,202 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:21,202 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:21,505 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:21,506 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:21,526 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:11:21,526 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:11:21,526 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:21,527 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:21,527 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:11:21,527 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:11:21,528 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:11:21,528 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:11:21,528 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:11:21,529 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:11:21,529 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:21,531 [myid:2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11228:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:11:21,531 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x200062477d60000]
2015-05-21 15:11:21,531 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60511 which had sessionid 0x200062477d60000
2015-05-21 15:11:21,532 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:21,532 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x200062477d60000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:21,532 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:11:21,533 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:11:21,533 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:11:21,533 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:11:21,533 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:11:21,533 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:21,534 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:21,534 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:11:21,535 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:21,535 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:21,535 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:21,536 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:11:21,537 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:21,537 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:21,537 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:21,537 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:21,537 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37447:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37447 ********
2015-05-21 15:11:21,537 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37446:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37446 ********
2015-05-21 15:11:21,538 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:11:21,538 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37446:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:11:21,538 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37447:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:11:21,538 [myid:2] - INFO  [/127.0.0.1:11229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:21,538 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:11:21,540 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:11:21,540 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:11:21,540 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:21,541 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:11:21,541 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:21,541 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:11:21,542 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:11:21,542 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:11:21,542 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:11:21,618 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:21,619 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:22,239 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:11:22,746 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:22,747 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:22,766 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:22,766 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:23,080 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:23,081 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:23,543 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:23,544 [myid:] - INFO  [Thread-6:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/zoo.cfg
2015-05-21 15:11:23,544 [myid:] - INFO  [Thread-6:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:11:23,544 [myid:] - INFO  [Thread-6:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:23,545 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:23,545 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:23,545 [myid:] - INFO  [Thread-7:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/zoo.cfg
2015-05-21 15:11:23,545 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:23,546 [myid:] - INFO  [Thread-7:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:11:23,546 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:23,546 [myid:] - INFO  [Thread-8:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/zoo.cfg
2015-05-21 15:11:23,546 [myid:0] - INFO  [Thread-6:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:23,547 [myid:] - INFO  [Thread-8:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:11:23,546 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:23,547 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:23,547 [myid:] - INFO  [Thread-8:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:23,548 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:23,547 [myid:0] - INFO  [Thread-6:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:23,548 [myid:0] - INFO  [Thread-6:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:23,546 [myid:] - INFO  [Thread-7:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:23,548 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:23,549 [myid:2] - INFO  [Thread-8:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:23,549 [myid:0] - WARN  [Thread-6:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:23,550 [myid:1] - INFO  [Thread-7:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:23,550 [myid:0] - INFO  [Thread-6:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:23,549 [myid:2] - INFO  [Thread-8:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:23,550 [myid:1] - INFO  [Thread-7:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:23,551 [myid:0] - INFO  [Thread-6:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:23,551 [myid:2] - INFO  [Thread-8:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:23,551 [myid:1] - INFO  [Thread-7:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:23,551 [myid:0] - INFO  [Thread-6:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11221
2015-05-21 15:11:23,552 [myid:2] - WARN  [Thread-8:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:23,553 [myid:2] - INFO  [Thread-8:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:23,552 [myid:0] - INFO  [Thread-6:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:23,553 [myid:2] - INFO  [Thread-8:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:23,552 [myid:1] - WARN  [Thread-7:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:23,554 [myid:2] - INFO  [Thread-8:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11227
2015-05-21 15:11:23,553 [myid:0] - INFO  [Thread-6:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:23,554 [myid:1] - INFO  [Thread-7:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:23,555 [myid:2] - INFO  [Thread-8:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:23,555 [myid:1] - INFO  [Thread-7:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:23,554 [myid:0] - INFO  [Thread-6:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:23,555 [myid:2] - INFO  [Thread-8:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:23,555 [myid:1] - INFO  [Thread-7:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11224
2015-05-21 15:11:23,555 [myid:0] - INFO  [Thread-6:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:23,556 [myid:2] - INFO  [Thread-8:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:23,556 [myid:1] - INFO  [Thread-7:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:23,556 [myid:1] - INFO  [Thread-7:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:23,556 [myid:0] - INFO  [Thread-6:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:23,557 [myid:1] - INFO  [Thread-7:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:23,556 [myid:2] - INFO  [Thread-8:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:23,557 [myid:1] - INFO  [Thread-7:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:23,557 [myid:1] - INFO  [Thread-7:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:23,557 [myid:0] - INFO  [Thread-6:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:23,558 [myid:1] - INFO  [Thread-7:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:23,557 [myid:2] - INFO  [Thread-8:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:23,558 [myid:2] - INFO  [Thread-8:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:23,560 [myid:0] - INFO  [Thread-6:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:23,560 [myid:1] - INFO  [Thread-7:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:23,560 [myid:2] - INFO  [Thread-8:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:23,563 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11223
2015-05-21 15:11:23,563 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11229
2015-05-21 15:11:23,563 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11226
2015-05-21 15:11:23,565 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:23,565 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:23,565 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:23,565 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x100000003
2015-05-21 15:11:23,566 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x100000003
2015-05-21 15:11:23,566 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x100000003
2015-05-21 15:11:23,566 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:44806
2015-05-21 15:11:23,566 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:44807
2015-05-21 15:11:23,567 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58456
2015-05-21 15:11:23,567 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,568 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,569 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,569 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,570 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,570 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,570 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,571 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,571 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,571 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,571 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,572 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,572 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,572 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,572 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,573 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,573 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,573 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:23,773 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:11:23,773 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:11:23,773 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:23,774 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:23,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:23,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:23,774 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:11:23,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2
2015-05-21 15:11:23,774 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:23,775 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:11:23,774 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:11:23,775 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:23,775 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:23,775 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2
2015-05-21 15:11:23,775 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:23,776 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:11:23,776 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to /127.0.0.1:11228
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:11:23,776 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2
2015-05-21 15:11:23,777 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to /127.0.0.1:11228
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:11:23,777 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 2
2015-05-21 15:11:23,778 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2/snapshot.100000003
2015-05-21 15:11:24,199 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:24,203 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:24,271 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:24,271 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45059, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:24,271 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45059
2015-05-21 15:11:24,273 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:11:24,273 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45059 (no session established for client)
2015-05-21 15:11:24,274 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x62477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:24,530 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:24,531 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60527, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:11:24,531 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60527
2015-05-21 15:11:24,533 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:11:24,533 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60527 (no session established for client)
2015-05-21 15:11:24,534 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x200062477d60000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:24,626 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:24,626 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54026, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:24,626 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54026
2015-05-21 15:11:24,628 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:11:24,628 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54026 (no session established for client)
2015-05-21 15:11:24,629 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:24,646 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:24,647 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45062, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:24,647 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45062
2015-05-21 15:11:24,648 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:11:24,648 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:24,649 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45062 (no session established for client)
2015-05-21 15:11:24,649 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:24,649 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54028
2015-05-21 15:11:24,650 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:24,650 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54028, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:24,651 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60531
2015-05-21 15:11:24,651 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60531, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:11:24,652 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:11:24,652 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54028 (no session established for client)
2015-05-21 15:11:24,652 [myid:2] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:11:24,652 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:24,653 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60531 (no session established for client)
2015-05-21 15:11:24,653 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:24,778 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37471:LearnerHandler@361] - Follower sid: 0 : info : 127.0.0.1:11222:11223:participant;0.0.0.0:11221
2015-05-21 15:11:24,778 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37472:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11225:11226:participant;0.0.0.0:11224
2015-05-21 15:11:24,802 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37472:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2015-05-21 15:11:24,802 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37471:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2015-05-21 15:11:24,802 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37472:LearnerHandler@703] - Sending DIFF zxid=0x100000003 for peer sid: 1
2015-05-21 15:11:24,802 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:37471:LearnerHandler@703] - Sending DIFF zxid=0x100000003 for peer sid: 0
2015-05-21 15:11:24,804 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000003
2015-05-21 15:11:24,804 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000003
2015-05-21 15:11:24,805 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:24,806 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:24,807 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2/snapshot.100000003
2015-05-21 15:11:24,807 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2/snapshot.100000003
2015-05-21 15:11:24,819 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:11:24,820 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:24,822 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:24,822 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:24,823 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:24,823 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:25,926 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:25,927 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54032, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:25,927 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54032
2015-05-21 15:11:25,929 [myid:1] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:54032
2015-05-21 15:11:25,930 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:11:25,931 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:11:25,931 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:11:25,931 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:11:25,931 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:11:25,947 [myid:1] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x10006249c260000 with negotiated timeout 30000 for client /127.0.0.1:54032
2015-05-21 15:11:25,948 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x10006249c260000, negotiated timeout = 30000
2015-05-21 15:11:26,101 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:26,102 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54033
2015-05-21 15:11:26,102 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54033, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:26,103 [myid:1] - INFO  [NIOWorkerThread-5:ZooKeeperServer@936] - Client attempting to renew session 0x100062477a80000 at /127.0.0.1:54033
2015-05-21 15:11:26,104 [myid:1] - INFO  [NIOWorkerThread-5:Learner@110] - Revalidating client: 0x100062477a80000
2015-05-21 15:11:26,105 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@645] - Established session 0x100062477a80000 with negotiated timeout 30000 for client /127.0.0.1:54033
2015-05-21 15:11:26,106 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x100062477a80000, negotiated timeout = 30000
2015-05-21 15:11:26,188 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:26,188 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45069, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:26,188 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45069
2015-05-21 15:11:26,189 [myid:0] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x62477a80000 at /127.0.0.1:45069
2015-05-21 15:11:26,190 [myid:0] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x62477a80000
2015-05-21 15:11:26,191 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@645] - Established session 0x62477a80000 with negotiated timeout 30000 for client /127.0.0.1:45069
2015-05-21 15:11:26,192 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x62477a80000, negotiated timeout = 30000
2015-05-21 15:11:26,237 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:26,238 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45070, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:26,238 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45070
2015-05-21 15:11:26,239 [myid:0] - INFO  [NIOWorkerThread-5:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:45070
2015-05-21 15:11:26,251 [myid:0] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x6249c260000 with negotiated timeout 30000 for client /127.0.0.1:45070
2015-05-21 15:11:26,252 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x6249c260000, negotiated timeout = 30000
2015-05-21 15:11:26,343 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:26,343 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60538, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:11:26,343 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60538
2015-05-21 15:11:26,345 [myid:2] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:60538
2015-05-21 15:11:26,358 [myid:2] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x20006249c340000 with negotiated timeout 30000 for client /127.0.0.1:60538
2015-05-21 15:11:26,359 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x20006249c340000, negotiated timeout = 30000
2015-05-21 15:11:26,496 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:26,497 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60539, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:11:26,497 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60539
2015-05-21 15:11:26,498 [myid:2] - INFO  [NIOWorkerThread-5:ZooKeeperServer@936] - Client attempting to renew session 0x200062477d60000 at /127.0.0.1:60539
2015-05-21 15:11:26,499 [myid:2] - INFO  [NIOWorkerThread-5:ZooKeeperServer@645] - Established session 0x200062477d60000 with negotiated timeout 30000 for client /127.0.0.1:60539
2015-05-21 15:11:26,500 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x200062477d60000, negotiated timeout = 30000
2015-05-21 15:11:27,547 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:11:27,548 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:167)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:27,549 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x62477a80000]
2015-05-21 15:11:27,550 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45069 which had sessionid 0x62477a80000
2015-05-21 15:11:27,550 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x62477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:27,550 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x6249c260000]
2015-05-21 15:11:27,551 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45070 which had sessionid 0x6249c260000
2015-05-21 15:11:27,551 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:11:27,551 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x6249c260000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:27,551 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:27,552 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:11:27,552 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:27,552 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:11:27,552 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:27,553 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:27,554 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:11:27,554 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:27,555 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:27,555 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:27,556 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:27,556 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:27,556 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:27,557 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:27,558 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:27,560 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:27,559 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:11:27,559 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:27,560 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:11:27,559 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:27,561 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:27,559 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:27,561 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:27,558 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:27,561 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:27,558 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:27,562 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:27,561 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:27,560 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:11:27,563 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:11:27,563 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:11:27,562 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:11:28,699 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:28,700 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:28,823 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:11:28,823 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:11:28,824 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:28,824 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:28,824 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:11:28,824 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:11:28,825 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:11:28,825 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:11:28,825 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:11:28,826 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:167)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:28,827 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x10006249c260000]
2015-05-21 15:11:28,828 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54032 which had sessionid 0x10006249c260000
2015-05-21 15:11:28,828 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x10006249c260000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:28,828 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062477a80000]
2015-05-21 15:11:28,828 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54033 which had sessionid 0x100062477a80000
2015-05-21 15:11:28,828 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:11:28,829 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:28,829 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:28,829 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:11:28,829 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:28,830 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:11:28,830 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:28,831 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:28,831 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:11:28,832 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:28,832 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:28,832 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:28,833 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:28,833 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:28,833 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:28,834 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:28,834 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:28,834 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:11:28,834 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:28,834 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:28,835 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:28,835 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:11:28,834 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:28,835 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:11:28,836 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:28,836 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:11:29,009 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:29,010 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:29,572 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:29,573 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:29,573 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:29,573 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:29,935 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:29,935 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:30,456 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:30,456 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:30,660 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:30,660 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:30,823 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:11:30,824 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:11:30,824 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:30,824 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:30,824 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:11:30,825 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:11:30,825 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:11:30,825 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:11:30,909 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:30,909 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:31,202 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:31,202 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:31,822 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:31,823 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:31,887 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:31,888 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:32,347 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:32,348 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:32,603 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:32,604 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:33,357 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:33,358 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:33,460 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:33,461 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:33,703 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:33,704 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:34,227 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:34,227 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:34,591 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:34,592 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:35,073 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:35,074 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:35,643 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:35,643 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:36,003 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:36,003 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:36,294 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:36,294 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:36,340 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:36,341 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:37,109 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:37,110 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:37,916 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:37,917 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:38,068 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:38,069 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:38,313 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:38,314 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:38,916 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:38,916 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:39,085 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:39,085 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:39,320 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:39,320 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:39,617 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:39,617 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:40,234 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:40,235 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:41,174 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:41,174 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:41,175 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:41,176 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:41,242 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:41,243 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:41,591 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:41,591 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:42,354 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:42,354 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:42,616 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:42,617 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:42,690 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:42,690 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:43,009 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:43,010 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:43,794 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:43,795 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:44,246 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:44,246 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:44,371 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:44,372 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:44,523 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:44,524 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:45,326 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:45,327 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:45,836 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:45,836 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:46,033 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:46,034 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:46,364 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1209] - Client session timed out, have not heard from server in 20005ms for sessionid 0x20006249c340000, closing socket connection and attempting reconnect
2015-05-21 15:11:46,365 [myid:2] - WARN  [NIOWorkerThread-10:NIOServerCnxn@369] - Unable to read additional data from client sessionid 0x20006249c340000, likely client has closed socket
2015-05-21 15:11:46,365 [myid:2] - INFO  [NIOWorkerThread-10:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x20006249c340000]
2015-05-21 15:11:46,365 [myid:2] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60538 which had sessionid 0x20006249c340000
2015-05-21 15:11:46,511 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1209] - Client session timed out, have not heard from server in 20010ms for sessionid 0x200062477d60000, closing socket connection and attempting reconnect
2015-05-21 15:11:46,511 [myid:2] - WARN  [NIOWorkerThread-11:NIOServerCnxn@369] - Unable to read additional data from client sessionid 0x200062477d60000, likely client has closed socket
2015-05-21 15:11:46,512 [myid:2] - INFO  [NIOWorkerThread-11:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x200062477d60000]
2015-05-21 15:11:46,512 [myid:2] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60539 which had sessionid 0x200062477d60000
2015-05-21 15:11:46,622 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:46,623 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:47,068 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:47,069 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:47,189 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:47,189 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:47,466 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:11:47,467 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:11:47,467 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:186)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:47,468 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:47,468 [myid:2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11228:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:11:47,468 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:11:47,469 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:11:47,469 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:11:47,470 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:11:47,470 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:11:47,470 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:47,470 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:47,471 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:11:47,471 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:47,471 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:47,471 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:47,472 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:11:47,473 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37471:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37471 ********
2015-05-21 15:11:47,473 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:47,473 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37471:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:11:47,474 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:47,475 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:47,473 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37472:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37472 ********
2015-05-21 15:11:47,474 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:47,475 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:37472:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:11:47,476 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:11:47,476 [myid:2] - INFO  [/127.0.0.1:11229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:47,476 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:11:47,476 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:11:47,476 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:11:47,477 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:11:47,477 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:47,477 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:47,477 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:11:47,477 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:11:47,478 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:11:47,478 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:11:47,569 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:47,575 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:47,697 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:47,698 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:48,234 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:48,234 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:48,386 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:48,386 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x20006249c340000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:48,410 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:48,411 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:48,435 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:48,436 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:48,479 [myid:] - INFO  [Thread-11:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/zoo.cfg
2015-05-21 15:11:48,479 [myid:] - INFO  [Thread-12:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/zoo.cfg
2015-05-21 15:11:48,479 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:48,479 [myid:] - INFO  [Thread-11:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:11:48,480 [myid:] - INFO  [Thread-11:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:48,479 [myid:] - INFO  [Thread-12:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:11:48,480 [myid:] - INFO  [Thread-12:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:48,480 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:48,481 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:48,481 [myid:0] - INFO  [Thread-11:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:48,481 [myid:1] - INFO  [Thread-12:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:48,481 [myid:0] - INFO  [Thread-11:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:48,482 [myid:1] - INFO  [Thread-12:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:48,482 [myid:0] - INFO  [Thread-11:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:48,482 [myid:1] - INFO  [Thread-12:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:48,482 [myid:0] - WARN  [Thread-11:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:48,483 [myid:0] - INFO  [Thread-11:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:48,482 [myid:1] - WARN  [Thread-12:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:48,483 [myid:0] - INFO  [Thread-11:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:48,483 [myid:1] - INFO  [Thread-12:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:48,484 [myid:0] - INFO  [Thread-11:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11221
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:48,484 [myid:0] - INFO  [Thread-11:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11224
2015-05-21 15:11:48,484 [myid:0] - INFO  [Thread-11:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:48,484 [myid:0] - INFO  [Thread-11:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:48,484 [myid:0] - INFO  [Thread-11:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:48,484 [myid:0] - INFO  [Thread-11:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:48,484 [myid:0] - INFO  [Thread-11:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:48,484 [myid:1] - INFO  [Thread-12:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:48,485 [myid:0] - INFO  [Thread-11:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2/snapshot.100000003
2015-05-21 15:11:48,485 [myid:1] - INFO  [Thread-12:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2/snapshot.100000003
2015-05-21 15:11:48,487 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11223
2015-05-21 15:11:48,487 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11226
2015-05-21 15:11:48,488 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:48,488 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x200000003
2015-05-21 15:11:48,488 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:48,488 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x200000003
2015-05-21 15:11:48,489 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:44879
2015-05-21 15:11:48,489 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58528
2015-05-21 15:11:48,489 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:11:48,489 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:48,490 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:48,490 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:48,490 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:48,490 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:48,491 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:48,491 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:48,491 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:48,491 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:48,609 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:48,610 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45132, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:48,610 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45132
2015-05-21 15:11:48,611 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:11:48,611 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45132 (no session established for client)
2015-05-21 15:11:48,612 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x62477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:48,692 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:11:48,692 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:11:48,692 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:48,692 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:11:48,692 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:48,692 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:48,692 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:48,692 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:48,692 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2
2015-05-21 15:11:48,692 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2
2015-05-21 15:11:48,692 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:11:48,693 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:11:48,693 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x200000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test476904897141084702.junit.dir/data/version-2/snapshot.200000003
2015-05-21 15:11:48,695 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:33586:LearnerHandler@361] - Follower sid: 0 : info : 127.0.0.1:11222:11223:participant;0.0.0.0:11221
2015-05-21 15:11:48,718 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:33586:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x200000003 minCommittedLog=0x200000001 lastProcessedZxid=0x200000003 peerLastZxid=0x200000003
2015-05-21 15:11:48,718 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:33586:LearnerHandler@703] - Sending DIFF zxid=0x200000003 for peer sid: 0
2015-05-21 15:11:48,719 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x200000003
2015-05-21 15:11:48,720 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:48,721 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x200000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test6022913583963115240.junit.dir/data/version-2/snapshot.200000003
2015-05-21 15:11:48,733 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 1] ]; starting up and setting last processed zxid: 0x300000000
2015-05-21 15:11:48,734 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:48,735 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:48,736 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:49,582 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:49,582 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45134
2015-05-21 15:11:49,582 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45134, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:49,584 [myid:0] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:45134
2015-05-21 15:11:49,586 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:11:49,586 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:11:49,586 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:11:49,590 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:49,591 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54100, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:49,591 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54100
2015-05-21 15:11:49,592 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@936] - Client attempting to renew session 0x100062477a80000 at /127.0.0.1:54100
2015-05-21 15:11:49,593 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@645] - Established session 0x100062477a80000 with negotiated timeout 30000 for client /127.0.0.1:54100
2015-05-21 15:11:49,595 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x100062477a80000, negotiated timeout = 30000
2015-05-21 15:11:49,602 [myid:0] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x624f9910000 with negotiated timeout 30000 for client /127.0.0.1:45134
2015-05-21 15:11:49,603 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x624f9910000, negotiated timeout = 30000
2015-05-21 15:11:49,632 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:49,633 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54101, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:49,633 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54101
2015-05-21 15:11:49,634 [myid:1] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x10006249c260000 at /127.0.0.1:54101
2015-05-21 15:11:49,635 [myid:1] - INFO  [NIOWorkerThread-3:ZooKeeperServer@645] - Established session 0x10006249c260000 with negotiated timeout 30000 for client /127.0.0.1:54101
2015-05-21 15:11:49,636 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x10006249c260000, negotiated timeout = 30000
2015-05-21 15:11:49,775 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:49,775 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:49,784 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:49,785 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45138, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:49,785 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45138
2015-05-21 15:11:49,786 [myid:0] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x6249c260000 at /127.0.0.1:45138
2015-05-21 15:11:49,787 [myid:0] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x6249c260000
2015-05-21 15:11:49,788 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@645] - Established session 0x6249c260000 with negotiated timeout 30000 for client /127.0.0.1:45138
2015-05-21 15:11:49,789 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x6249c260000, negotiated timeout = 30000
2015-05-21 15:11:49,803 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:49,804 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45139, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:11:49,804 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45139
2015-05-21 15:11:49,805 [myid:0] - INFO  [NIOWorkerThread-6:ZooKeeperServer@936] - Client attempting to renew session 0x62477a80000 at /127.0.0.1:45139
2015-05-21 15:11:49,805 [myid:0] - INFO  [NIOWorkerThread-6:Learner@110] - Revalidating client: 0x62477a80000
2015-05-21 15:11:49,807 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@645] - Established session 0x62477a80000 with negotiated timeout 30000 for client /127.0.0.1:45139
2015-05-21 15:11:49,808 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x62477a80000, negotiated timeout = 30000
2015-05-21 15:11:49,998 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6677df17
2015-05-21 15:11:50,000 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:50,000 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:54105, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:11:50,000 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54105
2015-05-21 15:11:50,002 [myid:1] - INFO  [NIOWorkerThread-5:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:54105
2015-05-21 15:11:50,017 [myid:1] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x1000624f99e0000 with negotiated timeout 30000 for client /127.0.0.1:54105
2015-05-21 15:11:50,018 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x1000624f99e0000, negotiated timeout = 30000
2015-05-21 15:11:50,205 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:50,206 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x20006249c340000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:50,240 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:11:50,516 [myid:] - INFO  [Thread-14:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/zoo.cfg
2015-05-21 15:11:50,516 [myid:] - INFO  [Thread-14:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:11:50,517 [myid:] - INFO  [Thread-14:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:50,518 [myid:2] - INFO  [Thread-14:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:50,518 [myid:2] - INFO  [Thread-14:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:50,518 [myid:2] - INFO  [Thread-14:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:50,519 [myid:2] - WARN  [Thread-14:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:50,519 [myid:2] - INFO  [Thread-14:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:50,519 [myid:2] - INFO  [Thread-14:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:50,520 [myid:2] - INFO  [Thread-14:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11227
2015-05-21 15:11:50,520 [myid:2] - INFO  [Thread-14:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:50,521 [myid:2] - INFO  [Thread-14:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:50,521 [myid:2] - INFO  [Thread-14:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:50,521 [myid:2] - INFO  [Thread-14:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:50,521 [myid:2] - INFO  [Thread-14:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:50,521 [myid:2] - INFO  [Thread-14:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:50,522 [myid:2] - INFO  [Thread-14:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2/snapshot.100000003
2015-05-21 15:11:50,524 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11229
2015-05-21 15:11:50,525 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:50,526 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x200000004
2015-05-21 15:11:50,526 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:44894
2015-05-21 15:11:50,526 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58543
2015-05-21 15:11:50,527 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x200000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:11:50,527 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:50,528 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x200000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:11:50,528 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x200000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:50,528 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:50,529 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:50,529 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x200000003 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:11:50,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:11:50,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:50,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:50,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:50,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2
2015-05-21 15:11:50,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:11:50,530 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:33597:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:11228:11229:participant;0.0.0.0:11227
2015-05-21 15:11:50,540 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:33597:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x300000004 minCommittedLog=0x200000001 lastProcessedZxid=0x300000004 peerLastZxid=0x200000004
2015-05-21 15:11:50,540 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:33597:LearnerHandler@720] - Using committedLog for peer sid: 2
2015-05-21 15:11:50,540 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:33597:LearnerHandler@833] - Cannot send TRUNC to peer sid: 2 peer zxid is from different epoch
2015-05-21 15:11:50,540 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:33597:LearnerHandler@763] - Unhandled scenario for peer sid: 2 fall back to use snapshot
2015-05-21 15:11:50,541 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:11:50,541 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:33597:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x200000004, zxid of leader is 0x300000004, send zxid of db as 0x300000004, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:11:50,541 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:50,542 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x300000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test8854313373864126223.junit.dir/data/version-2/snapshot.300000004
2015-05-21 15:11:50,549 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:50,550 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:51,074 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:51,075 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60612, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:11:51,075 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60612
2015-05-21 15:11:51,076 [myid:2] - INFO  [NIOWorkerThread-1:ZooKeeperServer@936] - Client attempting to renew session 0x200062477d60000 at /127.0.0.1:60612
2015-05-21 15:11:51,077 [myid:2] - INFO  [NIOWorkerThread-1:Learner@110] - Revalidating client: 0x200062477d60000
2015-05-21 15:11:51,078 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@645] - Established session 0x200062477d60000 with negotiated timeout 30000 for client /127.0.0.1:60612
2015-05-21 15:11:51,079 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x200062477d60000, negotiated timeout = 30000
2015-05-21 15:11:51,577 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:51,577 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60613, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:11:51,577 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60613
2015-05-21 15:11:51,579 [myid:2] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x20006249c340000 at /127.0.0.1:60613
2015-05-21 15:11:51,579 [myid:2] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x20006249c340000
2015-05-21 15:11:51,580 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@645] - Established session 0x20006249c340000 with negotiated timeout 30000 for client /127.0.0.1:60613
2015-05-21 15:11:51,581 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x20006249c340000, negotiated timeout = 30000
2015-05-21 15:11:53,545 [myid:0] - INFO  [NIOWorkerThread-16:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x624f9910000
2015-05-21 15:11:53,546 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x624f9910000
2015-05-21 15:11:53,547 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Follower@122] - Got zxid 0x300000005 expected 0x1
2015-05-21 15:11:53,547 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000005
2015-05-21 15:11:53,561 [myid:0] - INFO  [NIOWorkerThread-17:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x624f9910000]
2015-05-21 15:11:53,562 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x624f9910000 closed
2015-05-21 15:11:53,563 [myid:0] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45134 which had sessionid 0x624f9910000
2015-05-21 15:11:53,562 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:11:53,564 [myid:1] - INFO  [NIOWorkerThread-15:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x1000624f99e0000
2015-05-21 15:11:53,564 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x1000624f99e0000
2015-05-21 15:11:53,576 [myid:1] - INFO  [NIOWorkerThread-16:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x1000624f99e0000]
2015-05-21 15:11:53,576 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000624f99e0000 closed
2015-05-21 15:11:53,576 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54105 which had sessionid 0x1000624f99e0000
2015-05-21 15:11:53,576 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:11:53,577 [myid:2] - INFO  [NIOWorkerThread-11:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x20006249c340000
2015-05-21 15:11:53,578 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x20006249c340000
2015-05-21 15:11:53,589 [myid:2] - INFO  [NIOWorkerThread-12:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x20006249c340000]
2015-05-21 15:11:53,589 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:11:53,589 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x20006249c340000 closed
2015-05-21 15:11:53,590 [myid:2] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60613 which had sessionid 0x20006249c340000
2015-05-21 15:11:53,590 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:11:53,591 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:218)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:53,592 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x62477a80000]
2015-05-21 15:11:53,592 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45139 which had sessionid 0x62477a80000
2015-05-21 15:11:53,593 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x62477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:53,593 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x6249c260000]
2015-05-21 15:11:53,593 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45138 which had sessionid 0x6249c260000
2015-05-21 15:11:53,594 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:11:53,594 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x6249c260000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:53,594 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:53,594 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:11:53,594 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:53,595 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:11:53,595 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:53,595 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:53,596 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:11:53,596 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:53,597 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:53,597 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:53,599 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:53,600 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:53,600 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:53,602 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:53,602 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:53,604 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:11:53,603 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:53,603 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:53,603 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:53,603 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:53,602 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:53,606 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:11:53,605 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:53,605 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:53,604 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:53,604 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:11:53,604 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:53,607 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:53,608 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:11:53,606 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:11:53,608 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:53,609 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:11:54,736 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:54,736 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:54,737 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:11:54,737 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:11:54,737 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:54,737 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:54,738 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:11:54,738 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:11:54,738 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:11:54,739 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:11:54,739 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:11:54,739 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:11:54,740 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:218)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:54,741 [myid:1] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11225:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:11:54,741 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x10006249c260000]
2015-05-21 15:11:54,742 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54101 which had sessionid 0x10006249c260000
2015-05-21 15:11:54,742 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x10006249c260000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:54,742 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x100062477a80000]
2015-05-21 15:11:54,742 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54100 which had sessionid 0x100062477a80000
2015-05-21 15:11:54,743 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:54,743 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062477a80000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:54,743 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:11:54,743 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:11:54,744 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:11:54,744 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:11:54,744 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:11:54,744 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:54,745 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:54,745 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:11:54,745 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:54,746 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:54,746 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:54,747 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:11:54,747 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:11:54,748 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:54,748 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:33586:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:33586 ********
2015-05-21 15:11:54,750 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:33586:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:11:54,747 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:33597:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:33597 ********
2015-05-21 15:11:54,750 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:54,750 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:54,749 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:11:54,749 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:54,751 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:11:54,751 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:54,750 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:33597:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:11:54,753 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:11:54,753 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:54,753 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:54,753 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:54,752 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x200062477d60000]
2015-05-21 15:11:54,752 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
2015-05-21 15:11:54,755 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60612 which had sessionid 0x200062477d60000
2015-05-21 15:11:54,755 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:11:54,756 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:11:54,755 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:11:54,754 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:54,754 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:54,757 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:54,757 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:11:54,754 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:11:54,756 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:54,756 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x200062477d60000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:11:54,756 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:11:54,758 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:11:54,758 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:54,758 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:11:54,759 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:11:54,759 [myid:2] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:11:54,759 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:11:54,759 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:11:54,759 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:54,760 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:11:54,760 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:54,760 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:11:54,760 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:11:54,760 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:11:54,761 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:54,761 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testEarlyLeaderAbandonment(QuorumPeerMainTest.java:218)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:54,761 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:54,762 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:54,763 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:54,763 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:54,763 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:11:54,764 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:54,764 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:54,764 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:11:54,764 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:54,764 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:11:54,765 [myid:2] - INFO  [/127.0.0.1:11229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:54,765 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:11:54,765 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:11:54,765 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:11:54,766 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 133022
2015-05-21 15:11:54,766 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 21
2015-05-21 15:11:54,766 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testEarlyLeaderAbandonment
2015-05-21 15:11:54,766 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testEarlyLeaderAbandonment
2015-05-21 15:11:54,766 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testEarlyLeaderAbandonment
2015-05-21 15:11:54,769 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testQuorum
2015-05-21 15:11:54,769 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testQuorum
2015-05-21 15:11:54,769 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11230
2015-05-21 15:11:54,769 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11231
2015-05-21 15:11:54,769 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11232
2015-05-21 15:11:54,769 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11233
2015-05-21 15:11:54,770 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11234
2015-05-21 15:11:54,770 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11235
2015-05-21 15:11:54,770 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test237495893513236170.junit.dir clientPort = 11230 adminServerPort = 8080
2015-05-21 15:11:54,771 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test5103754420045025518.junit.dir clientPort = 11231 adminServerPort = 8080
2015-05-21 15:11:54,772 [myid:] - INFO  [Thread-16:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test237495893513236170.junit.dir/zoo.cfg
2015-05-21 15:11:54,772 [myid:] - INFO  [Thread-17:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test5103754420045025518.junit.dir/zoo.cfg
2015-05-21 15:11:54,772 [myid:] - INFO  [Thread-16:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11230
2015-05-21 15:11:54,772 [myid:] - INFO  [Thread-17:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11231
2015-05-21 15:11:54,772 [myid:] - INFO  [Thread-16:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:54,772 [myid:] - INFO  [Thread-17:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:54,772 [myid:] - WARN  [Thread-16:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:11:54,773 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:11:54,773 [myid:1] - INFO  [Thread-16:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:54,773 [myid:1] - INFO  [Thread-16:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:54,773 [myid:1] - INFO  [Thread-16:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:54,773 [myid:] - WARN  [Thread-17:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:11:54,773 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11230 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testQuorum(QuorumPeerMainTest.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:54,773 [myid:2] - INFO  [Thread-17:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:54,773 [myid:1] - WARN  [Thread-16:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:54,774 [myid:1] - INFO  [Thread-16:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:54,774 [myid:2] - INFO  [Thread-17:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:54,774 [myid:1] - INFO  [Thread-16:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:54,774 [myid:2] - INFO  [Thread-17:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:54,775 [myid:1] - INFO  [Thread-16:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11230
2015-05-21 15:11:54,775 [myid:2] - WARN  [Thread-17:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:54,775 [myid:1] - INFO  [Thread-16:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:54,776 [myid:1] - INFO  [Thread-16:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:54,775 [myid:2] - INFO  [Thread-17:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:54,776 [myid:1] - INFO  [Thread-16:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:54,776 [myid:1] - INFO  [Thread-16:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:54,776 [myid:2] - INFO  [Thread-17:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:54,776 [myid:1] - INFO  [Thread-16:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:54,776 [myid:1] - INFO  [Thread-16:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:54,777 [myid:2] - INFO  [Thread-17:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11231
2015-05-21 15:11:54,777 [myid:1] - INFO  [Thread-16:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:54,777 [myid:2] - INFO  [Thread-17:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:54,778 [myid:2] - INFO  [Thread-17:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:54,778 [myid:2] - INFO  [Thread-17:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:54,778 [myid:2] - INFO  [Thread-17:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:54,778 [myid:2] - INFO  [Thread-17:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:54,778 [myid:2] - INFO  [Thread-17:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:54,779 [myid:2] - INFO  [Thread-17:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:54,787 [myid:1] - INFO  [Thread-16:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:54,800 [myid:2] - INFO  [Thread-17:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:54,811 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11233
2015-05-21 15:11:54,812 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:54,812 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:11:54,813 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11235
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:54,813 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:54,821 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11235
2015-05-21 15:11:54,822 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:54,822 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:11:54,823 [myid:1] - INFO  [/127.0.0.1:11233:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:54158
2015-05-21 15:11:54,823 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:54,824 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:54,824 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:54,824 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:54,824 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:54,991 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:54,991 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:55,024 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:11:55,025 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45603
2015-05-21 15:11:55,025 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:11:55,025 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:11:55,025 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:55,025 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:11:55,025 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:55,026 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:55,026 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:55,026 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45603
2015-05-21 15:11:55,026 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:55,026 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test237495893513236170.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test237495893513236170.junit.dir/data/version-2
2015-05-21 15:11:55,027 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5103754420045025518.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5103754420045025518.junit.dir/data/version-2
2015-05-21 15:11:55,027 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:11:55,027 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:11:55,028 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45603 (no session established for client)
2015-05-21 15:11:55,033 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5103754420045025518.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:55,035 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51817:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11232:11233:participant;0.0.0.0:11230
2015-05-21 15:11:55,059 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51817:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:11:55,060 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51817:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:11:55,061 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:11:55,062 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:55,076 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test237495893513236170.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:55,090 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 1],[2, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:11:55,116 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:55,118 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:55,137 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:55,279 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:11:55,280 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45605
2015-05-21 15:11:55,281 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45605
2015-05-21 15:11:55,281 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:11:55,282 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45605 (no session established for client)
2015-05-21 15:11:55,282 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11231
2015-05-21 15:11:55,283 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11231:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55173
2015-05-21 15:11:55,284 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:55173
2015-05-21 15:11:55,284 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:11:55,285 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55173 (no session established for client)
2015-05-21 15:11:55,285 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11230 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@1a2548ff
2015-05-21 15:11:55,286 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:55,286 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45607, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:11:55,286 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45607
2015-05-21 15:11:55,287 [myid:1] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:45607
2015-05-21 15:11:55,289 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:55,289 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:11:55,289 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:55,307 [myid:1] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x100062512560000 with negotiated timeout 30000 for client /127.0.0.1:45607
2015-05-21 15:11:55,307 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x100062512560000, negotiated timeout = 30000
2015-05-21 15:11:55,806 [myid:1] - INFO  [NIOWorkerThread-9:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x100062512560000
2015-05-21 15:11:55,807 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x100062512560000
2015-05-21 15:11:55,822 [myid:1] - INFO  [NIOWorkerThread-10:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062512560000]
2015-05-21 15:11:55,822 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x100062512560000 closed
2015-05-21 15:11:55,822 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45607 which had sessionid 0x100062512560000
2015-05-21 15:11:55,822 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11231 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@1a2548ff
2015-05-21 15:11:55,822 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:11:55,823 [myid:] - INFO  [main-SendThread(127.0.0.1:11231):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11231. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:55,824 [myid:] - INFO  [main-SendThread(127.0.0.1:11231):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:55175, server: 127.0.0.1/127.0.0.1:11231
2015-05-21 15:11:55,824 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11231:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55175
2015-05-21 15:11:55,825 [myid:2] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:55175
2015-05-21 15:11:55,839 [myid:2] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x2000625128c0000 with negotiated timeout 30000 for client /127.0.0.1:55175
2015-05-21 15:11:55,840 [myid:] - INFO  [main-SendThread(127.0.0.1:11231):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11231, sessionid = 0x2000625128c0000, negotiated timeout = 30000
2015-05-21 15:11:56,112 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:56,113 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:56,140 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:56,140 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:56,340 [myid:2] - INFO  [NIOWorkerThread-8:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x2000625128c0000
2015-05-21 15:11:56,340 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x2000625128c0000
2015-05-21 15:11:56,351 [myid:2] - INFO  [NIOWorkerThread-9:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x2000625128c0000]
2015-05-21 15:11:56,351 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000625128c0000 closed
2015-05-21 15:11:56,351 [myid:2] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55175 which had sessionid 0x2000625128c0000
2015-05-21 15:11:56,351 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:11:56,351 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:11:56,351 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testQuorum(QuorumPeerMainTest.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:56,352 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:11:56,352 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:56,353 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:11:56,353 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:56,353 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:11:56,353 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:56,353 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:56,354 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:11:56,354 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:56,354 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:56,355 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:56,355 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:56,355 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:56,355 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:56,356 [myid:1] - INFO  [/127.0.0.1:11233:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:56,356 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:56,356 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:11:56,356 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:56,356 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:11:56,357 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:56,356 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled) to exit thread
2015-05-21 15:11:56,356 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:11:56,357 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:11:56,357 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:11:56,357 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:11:56,388 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:56,389 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:56,527 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:56,528 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:56,528 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:56,528 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:56,528 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:56,529 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:56,597 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:56,597 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:56,874 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:56,875 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:57,119 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:11:57,119 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:11:57,120 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:57,120 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:57,120 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:11:57,120 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:11:57,121 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:11:57,121 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled)
2015-05-21 15:11:57,121 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:11:57,121 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testQuorum(QuorumPeerMainTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:11:57,123 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:11:57,123 [myid:2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11234:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:11:57,123 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:11:57,123 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:11:57,123 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:11:57,124 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:11:57,124 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:11:57,124 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:11:57,124 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:11:57,125 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:11:57,125 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:11:57,125 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:11:57,125 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:11:57,126 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:11:57,127 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51817:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:51817 ********
2015-05-21 15:11:57,127 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:11:57,127 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51817:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:11:57,128 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11231:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:11:57,127 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:57,128 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:11:57,129 [myid:2] - INFO  [/127.0.0.1:11235:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:11:57,129 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:11:57,129 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled)
2015-05-21 15:11:57,129 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:11:57,129 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled) to exit thread
2015-05-21 15:11:57,130 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:11:57,130 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:11:57,130 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:11:57,130 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:11:57,130 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:11:57,130 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11231)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:11:57,131 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:11:57,131 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11231
2015-05-21 15:11:57,132 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 12802
2015-05-21 15:11:57,132 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 20
2015-05-21 15:11:57,132 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testQuorum
2015-05-21 15:11:57,132 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testQuorum
2015-05-21 15:11:57,132 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testQuorum
2015-05-21 15:11:57,133 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testHighestZxidJoinLate
2015-05-21 15:11:57,133 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testHighestZxidJoinLate
2015-05-21 15:11:57,134 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11236
2015-05-21 15:11:57,134 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11237
2015-05-21 15:11:57,134 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11238
2015-05-21 15:11:57,134 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11239
2015-05-21 15:11:57,134 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11240
2015-05-21 15:11:57,134 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11241
2015-05-21 15:11:57,135 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11242
2015-05-21 15:11:57,135 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11243
2015-05-21 15:11:57,135 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11244
2015-05-21 15:11:57,135 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir clientPort = 11236 adminServerPort = 8080
2015-05-21 15:11:57,136 [myid:] - INFO  [Thread-19:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/zoo.cfg
2015-05-21 15:11:57,136 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11236 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6f5ad899
2015-05-21 15:11:57,136 [myid:] - INFO  [Thread-19:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11236
2015-05-21 15:11:57,136 [myid:] - INFO  [Thread-19:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:57,136 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:57,137 [myid:0] - INFO  [Thread-19:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:57,137 [myid:] - WARN  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:57,137 [myid:0] - INFO  [Thread-19:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:57,137 [myid:0] - INFO  [Thread-19:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:57,137 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir clientPort = 11239 adminServerPort = 8080
2015-05-21 15:11:57,137 [myid:0] - WARN  [Thread-19:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:57,137 [myid:0] - INFO  [Thread-19:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:57,137 [myid:] - INFO  [Thread-20:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/zoo.cfg
2015-05-21 15:11:57,137 [myid:0] - INFO  [Thread-19:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:57,137 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11239 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6f5ad899
2015-05-21 15:11:57,138 [myid:] - INFO  [Thread-20:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11239
2015-05-21 15:11:57,138 [myid:0] - INFO  [Thread-19:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11236
2015-05-21 15:11:57,138 [myid:] - INFO  [Thread-20:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:57,138 [myid:1] - INFO  [Thread-20:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:57,138 [myid:1] - INFO  [Thread-20:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:57,138 [myid:1] - INFO  [Thread-20:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:57,139 [myid:1] - WARN  [Thread-20:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:57,139 [myid:1] - INFO  [Thread-20:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:57,139 [myid:1] - INFO  [Thread-20:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:57,139 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:57,139 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir clientPort = 11242 adminServerPort = 8080
2015-05-21 15:11:57,139 [myid:1] - INFO  [Thread-20:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11239
2015-05-21 15:11:57,139 [myid:0] - INFO  [Thread-19:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:57,139 [myid:] - WARN  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:57,140 [myid:1] - INFO  [Thread-20:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:57,140 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11242 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6f5ad899
2015-05-21 15:11:57,140 [myid:] - INFO  [Thread-21:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/zoo.cfg
2015-05-21 15:11:57,140 [myid:0] - INFO  [Thread-19:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:57,140 [myid:] - INFO  [Thread-21:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11242
2015-05-21 15:11:57,140 [myid:] - INFO  [Thread-21:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:11:57,140 [myid:1] - INFO  [Thread-20:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:57,140 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:57,140 [myid:0] - INFO  [Thread-19:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:57,140 [myid:0] - INFO  [Thread-19:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:57,140 [myid:1] - INFO  [Thread-20:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:57,141 [myid:2] - INFO  [Thread-21:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:11:57,141 [myid:1] - INFO  [Thread-20:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:57,141 [myid:] - WARN  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:57,141 [myid:0] - INFO  [Thread-19:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:57,141 [myid:1] - INFO  [Thread-20:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:57,141 [myid:1] - INFO  [Thread-20:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:57,141 [myid:2] - INFO  [Thread-21:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:11:57,141 [myid:2] - INFO  [Thread-21:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:11:57,141 [myid:0] - INFO  [Thread-19:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:57,142 [myid:2] - WARN  [Thread-21:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:57,142 [myid:2] - INFO  [Thread-21:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:11:57,142 [myid:0] - INFO  [Thread-19:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:57,142 [myid:1] - INFO  [Thread-20:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:57,142 [myid:2] - INFO  [Thread-21:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:11:57,142 [myid:2] - INFO  [Thread-21:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11242
2015-05-21 15:11:57,143 [myid:2] - INFO  [Thread-21:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:11:57,143 [myid:2] - INFO  [Thread-21:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:11:57,143 [myid:2] - INFO  [Thread-21:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:11:57,143 [myid:2] - INFO  [Thread-21:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:11:57,143 [myid:2] - INFO  [Thread-21:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:11:57,143 [myid:2] - INFO  [Thread-21:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:11:57,143 [myid:2] - INFO  [Thread-21:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:57,149 [myid:0] - INFO  [Thread-19:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:57,156 [myid:2] - INFO  [Thread-21:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:57,156 [myid:1] - INFO  [Thread-20:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:11:57,163 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11238
2015-05-21 15:11:57,165 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:57,165 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:11:57,166 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address /127.0.0.1:11241
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:57,167 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,168 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11244
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:11:57,173 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11244
2015-05-21 15:11:57,173 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11241
2015-05-21 15:11:57,175 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:57,175 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:11:57,175 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:11:57,176 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:11:57,176 [myid:0] - INFO  [/127.0.0.1:11238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35218
2015-05-21 15:11:57,177 [myid:0] - INFO  [/127.0.0.1:11238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35219
2015-05-21 15:11:57,177 [myid:1] - INFO  [/127.0.0.1:11241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:45777
2015-05-21 15:11:57,179 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,179 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,179 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,180 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,180 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,180 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,181 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,181 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,181 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,182 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,182 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,182 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,183 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,183 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:11:57,383 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:11:57,383 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:57,383 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:57,383 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:11:57,383 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:11:57,383 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:57,384 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:11:57,384 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:11:57,384 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:57,384 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:57,384 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/data/version-2
2015-05-21 15:11:57,385 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/data/version-2
2015-05-21 15:11:57,384 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:11:57,385 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:11:57,385 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:11:57,385 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:11:57,386 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/data/version-2
2015-05-21 15:11:57,386 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:57,386 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:11:57,388 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34589:LearnerHandler@361] - Follower sid: 0 : info : 127.0.0.1:11237:11238:participant;0.0.0.0:11236
2015-05-21 15:11:57,388 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34590:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11240:11241:participant;0.0.0.0:11239
2015-05-21 15:11:57,411 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34590:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:11:57,412 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34589:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:11:57,412 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34590:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:11:57,412 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34589:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:11:57,414 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:11:57,414 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:11:57,415 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:57,415 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:11:57,428 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:57,428 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/data/version-2/snapshot.0
2015-05-21 15:11:57,443 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2],[1, 2] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:11:57,469 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:57,471 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:57,471 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:11:57,491 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:57,491 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:11:57,754 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:57,755 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:57,823 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:57,824 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:11:57,824 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:57,825 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:11:58,134 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,134 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:58,191 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,192 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:58,237 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,238 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:38379, server: 127.0.0.1/127.0.0.1:11236
2015-05-21 15:11:58,238 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38379
2015-05-21 15:11:58,239 [myid:0] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:38379
2015-05-21 15:11:58,240 [myid:1] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:11:58,240 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:11:58,240 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,241 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:58,241 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:11:58,242 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,242 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:58474, server: 127.0.0.1/127.0.0.1:11239
2015-05-21 15:11:58,241 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58474
2015-05-21 15:11:58,241 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:11:58,242 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:35838, server: 127.0.0.1/127.0.0.1:11242
2015-05-21 15:11:58,242 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:58,242 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35838
2015-05-21 15:11:58,242 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:11:58,244 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:58474
2015-05-21 15:11:58,244 [myid:2] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:35838
2015-05-21 15:11:58,257 [myid:0] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x6251b880000 with negotiated timeout 30000 for client /127.0.0.1:38379
2015-05-21 15:11:58,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11236, sessionid = 0x6251b880000, negotiated timeout = 30000
2015-05-21 15:11:58,265 [myid:1] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x10006251b870000 with negotiated timeout 30000 for client /127.0.0.1:58474
2015-05-21 15:11:58,265 [myid:2] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x20006251bbe0000 with negotiated timeout 30000 for client /127.0.0.1:35838
2015-05-21 15:11:58,266 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11239, sessionid = 0x10006251b870000, negotiated timeout = 30000
2015-05-21 15:11:58,266 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11242, sessionid = 0x20006251bbe0000, negotiated timeout = 30000
2015-05-21 15:11:58,308 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,308 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:58,560 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,561 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:58,877 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:58,877 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:59,764 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:59,764 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:59,766 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:59,767 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:11:59,948 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:11:59,949 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:00,172 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled)
2015-05-21 15:12:00,172 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testHighestZxidJoinLate(QuorumPeerMainTest.java:261)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:00,173 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x6251b880000]
2015-05-21 15:12:00,173 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:38379 which had sessionid 0x6251b880000
2015-05-21 15:12:00,173 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:12:00,173 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x6251b880000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:12:00,173 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:00,174 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:12:00,174 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:00,174 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:12:00,174 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:00,174 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:00,174 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:12:00,175 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:00,175 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:00,175 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:00,175 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:00,175 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:00,175 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:00,176 [myid:0] - INFO  [/127.0.0.1:11238:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:00,176 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:00,177 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled)
2015-05-21 15:12:00,176 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:00,176 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:00,176 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:00,176 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:00,176 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:00,177 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:00,177 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:12:00,177 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:00,177 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:00,178 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:00,177 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled) to exit thread
2015-05-21 15:12:00,177 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:12:00,179 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:12:00,178 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:00,179 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:00,180 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:12:00,181 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:00,183 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:00,267 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:00,268 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:00,426 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:00,427 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:01,322 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:01,323 [myid:] - WARN  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1215] - Session 0x6251b880000 for server 127.0.0.1/127.0.0.1:11236, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:01,472 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:12:01,472 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:12:01,472 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:01,472 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:01,473 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:12:01,473 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:12:01,473 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:12:01,473 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:12:01,474 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled)
2015-05-21 15:12:01,474 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testHighestZxidJoinLate(QuorumPeerMainTest.java:261)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:01,476 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x10006251b870000]
2015-05-21 15:12:01,477 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58474 which had sessionid 0x10006251b870000
2015-05-21 15:12:01,477 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:12:01,477 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x10006251b870000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:12:01,477 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:01,477 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:12:01,478 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:01,478 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:12:01,478 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:01,478 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:01,479 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:12:01,479 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:01,479 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:01,479 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:01,480 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:01,480 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:01,480 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:01,480 [myid:1] - INFO  [/127.0.0.1:11241:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:01,480 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:01,480 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled)
2015-05-21 15:12:01,480 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:01,481 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:01,480 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:01,481 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:01,481 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled) to exit thread
2015-05-21 15:12:01,482 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:01,481 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:12:01,482 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:12:01,500 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:01,501 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:01,658 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:01,659 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:01,858 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:01,858 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:01,949 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:01,950 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:01,952 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:01,952 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:02,828 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:02,828 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:03,013 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:03,013 [myid:] - WARN  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1215] - Session 0x10006251b870000 for server 127.0.0.1/127.0.0.1:11239, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:03,183 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:03,183 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:03,337 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:03,337 [myid:] - WARN  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1215] - Session 0x6251b880000 for server 127.0.0.1/127.0.0.1:11236, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:03,340 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:03,341 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:03,363 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:03,364 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:03,396 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:03,396 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:03,472 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:12:03,472 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:12:03,473 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:03,473 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:03,473 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:12:03,473 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:12:03,473 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:12:03,474 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:12:03,617 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:03,618 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:03,975 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled)
2015-05-21 15:12:03,976 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:12:03,976 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testHighestZxidJoinLate(QuorumPeerMainTest.java:274)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:03,977 [myid:2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11243:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:12:03,977 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x20006251bbe0000]
2015-05-21 15:12:03,978 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35838 which had sessionid 0x20006251bbe0000
2015-05-21 15:12:03,978 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:03,979 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x20006251bbe0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:12:03,979 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:12:03,979 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:12:03,979 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:12:03,979 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:12:03,980 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:12:03,980 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:03,980 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:03,981 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:12:03,981 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:03,981 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:03,981 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:03,982 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:12:03,982 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34589:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34589 ********
2015-05-21 15:12:03,983 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34590:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34590 ********
2015-05-21 15:12:03,983 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:03,983 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34589:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:12:03,984 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:03,984 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:03,984 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:03,983 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34590:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:12:03,985 [myid:2] - INFO  [/127.0.0.1:11244:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:03,985 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:12:03,986 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled)
2015-05-21 15:12:03,986 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:12:03,986 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled) to exit thread
2015-05-21 15:12:03,987 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:12:03,987 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:03,987 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:03,987 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:12:03,987 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:12:03,988 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:12:03,988 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:12:04,271 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:04,272 [myid:] - WARN  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1215] - Session 0x10006251b870000 for server 127.0.0.1/127.0.0.1:11239, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:04,359 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:04,360 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:04,610 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:04,611 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:04,754 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:04,755 [myid:] - WARN  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1215] - Session 0x6251b880000 for server 127.0.0.1/127.0.0.1:11236, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:04,820 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:04,820 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:04,946 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:04,946 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:05,239 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:05,240 [myid:] - WARN  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1215] - Session 0x20006251bbe0000 for server 127.0.0.1/127.0.0.1:11242, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:05,669 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:05,669 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:05,952 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:05,952 [myid:] - WARN  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1215] - Session 0x10006251b870000 for server 127.0.0.1/127.0.0.1:11239, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:05,999 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:05,999 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:06,021 [myid:] - INFO  [Thread-24:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/zoo.cfg
2015-05-21 15:12:06,021 [myid:] - INFO  [Thread-25:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/zoo.cfg
2015-05-21 15:12:06,021 [myid:] - INFO  [Thread-24:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:12:06,021 [myid:] - INFO  [Thread-25:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:12:06,021 [myid:] - INFO  [Thread-25:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:06,021 [myid:] - INFO  [Thread-24:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:06,022 [myid:1] - INFO  [Thread-25:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:06,022 [myid:0] - INFO  [Thread-24:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:06,022 [myid:1] - INFO  [Thread-25:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:06,022 [myid:0] - INFO  [Thread-24:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:06,022 [myid:1] - INFO  [Thread-25:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:06,022 [myid:0] - INFO  [Thread-24:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:06,022 [myid:1] - WARN  [Thread-25:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:06,022 [myid:0] - WARN  [Thread-24:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:06,022 [myid:1] - INFO  [Thread-25:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:06,022 [myid:0] - INFO  [Thread-24:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:06,022 [myid:1] - INFO  [Thread-25:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11239
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:06,023 [myid:0] - INFO  [Thread-24:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:06,023 [myid:0] - INFO  [Thread-24:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11236
2015-05-21 15:12:06,023 [myid:1] - INFO  [Thread-25:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:06,023 [myid:0] - INFO  [Thread-24:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:12:06,024 [myid:0] - INFO  [Thread-24:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:12:06,024 [myid:0] - INFO  [Thread-24:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:06,024 [myid:0] - INFO  [Thread-24:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:06,024 [myid:0] - INFO  [Thread-24:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:06,024 [myid:0] - INFO  [Thread-24:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:06,024 [myid:0] - INFO  [Thread-24:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:06,025 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11241
2015-05-21 15:12:06,025 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11238
2015-05-21 15:12:06,027 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:06,028 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x100000005
2015-05-21 15:12:06,028 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:06,028 [myid:0] - INFO  [/127.0.0.1:11238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35260
2015-05-21 15:12:06,028 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x100000005
2015-05-21 15:12:06,029 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,029 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11244
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:06,029 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,029 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,029 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11244
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:06,029 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,030 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,030 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,030 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11244
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:06,035 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:06,036 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:06,178 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:06,183 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:06,231 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:12:06,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:12:06,231 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:12:06,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:12:06,231 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:12:06,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:12:06,231 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:06,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:06,231 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/data/version-2
2015-05-21 15:12:06,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/data/version-2
2015-05-21 15:12:06,231 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:12:06,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:12:06,234 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test6596973054383506073.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:12:06,235 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:55994:LearnerHandler@361] - Follower sid: 0 : info : 127.0.0.1:11237:11238:participant;0.0.0.0:11236
2015-05-21 15:12:06,240 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:12:06,249 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:55994:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x100000005
2015-05-21 15:12:06,249 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:55994:LearnerHandler@703] - Sending DIFF zxid=0x100000005 for peer sid: 0
2015-05-21 15:12:06,250 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000005
2015-05-21 15:12:06,250 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:12:06,250 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test3558990959231125920.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:12:06,268 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 1] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:12:06,269 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:06,270 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:12:06,270 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:06,298 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:06,298 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:38419, server: 127.0.0.1/127.0.0.1:11236
2015-05-21 15:12:06,298 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38419
2015-05-21 15:12:06,299 [myid:0] - INFO  [NIOWorkerThread-1:ZooKeeperServer@936] - Client attempting to renew session 0x6251b880000 at /127.0.0.1:38419
2015-05-21 15:12:06,299 [myid:0] - INFO  [NIOWorkerThread-1:Learner@110] - Revalidating client: 0x6251b880000
2015-05-21 15:12:06,301 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@645] - Established session 0x6251b880000 with negotiated timeout 30000 for client /127.0.0.1:38419
2015-05-21 15:12:06,301 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11236, sessionid = 0x6251b880000, negotiated timeout = 30000
2015-05-21 15:12:06,363 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:06,363 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:06,438 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:06,439 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:06,523 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:12:06,523 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:12:06,523 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:12:06,548 [myid:] - INFO  [Thread-27:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/zoo.cfg
2015-05-21 15:12:06,549 [myid:] - INFO  [Thread-27:QuorumPeerConfig@306] - clientPort is not set
2015-05-21 15:12:06,549 [myid:] - INFO  [Thread-27:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:06,550 [myid:2] - INFO  [Thread-27:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:06,550 [myid:2] - INFO  [Thread-27:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:06,550 [myid:2] - INFO  [Thread-27:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:06,550 [myid:2] - WARN  [Thread-27:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:06,551 [myid:2] - INFO  [Thread-27:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:06,551 [myid:2] - INFO  [Thread-27:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:06,552 [myid:2] - INFO  [Thread-27:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11242
2015-05-21 15:12:06,552 [myid:2] - INFO  [Thread-27:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:12:06,552 [myid:2] - INFO  [Thread-27:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:12:06,552 [myid:2] - INFO  [Thread-27:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:06,552 [myid:2] - INFO  [Thread-27:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:06,552 [myid:2] - INFO  [Thread-27:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:06,552 [myid:2] - INFO  [Thread-27:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:06,553 [myid:2] - INFO  [Thread-27:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:06,556 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11244
2015-05-21 15:12:06,557 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:06,557 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x100000006
2015-05-21 15:12:06,557 [myid:0] - INFO  [/127.0.0.1:11238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35269
2015-05-21 15:12:06,558 [myid:1] - INFO  [/127.0.0.1:11241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:45827
2015-05-21 15:12:06,558 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000006 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:12:06,559 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,559 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000006 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:12:06,559 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000006 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,560 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,560 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,561 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:12:06,562 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:12:06,562 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:12:06,562 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:12:06,562 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:06,562 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/data/version-2
2015-05-21 15:12:06,562 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:12:06,564 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:56000:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:11243:11244:participant;0.0.0.0:11242
2015-05-21 15:12:06,575 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:56000:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x200000001 minCommittedLog=0x100000001 lastProcessedZxid=0x200000001 peerLastZxid=0x100000006
2015-05-21 15:12:06,575 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:56000:LearnerHandler@720] - Using committedLog for peer sid: 2
2015-05-21 15:12:06,575 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:56000:LearnerHandler@833] - Cannot send TRUNC to peer sid: 2 peer zxid is from different epoch
2015-05-21 15:12:06,575 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:56000:LearnerHandler@763] - Unhandled scenario for peer sid: 2 fall back to use snapshot
2015-05-21 15:12:06,576 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:12:06,576 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:56000:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x100000006, zxid of leader is 0x200000001, send zxid of db as 0x200000001, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:12:06,578 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:12:06,579 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x200000001 to /home/mitake/github/zookeeper.git/build/test/tmp/test4687152718526241383.junit.dir/data/version-2/snapshot.200000001
2015-05-21 15:12:06,588 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:12:06,588 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:06,923 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:06,924 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:35882, server: 127.0.0.1/127.0.0.1:11242
2015-05-21 15:12:06,924 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35882
2015-05-21 15:12:06,925 [myid:2] - INFO  [NIOWorkerThread-1:ZooKeeperServer@936] - Client attempting to renew session 0x20006251bbe0000 at /127.0.0.1:35882
2015-05-21 15:12:06,925 [myid:2] - INFO  [NIOWorkerThread-1:Learner@110] - Revalidating client: 0x20006251bbe0000
2015-05-21 15:12:06,927 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@645] - Established session 0x20006251bbe0000 with negotiated timeout 30000 for client /127.0.0.1:35882
2015-05-21 15:12:06,928 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11242, sessionid = 0x20006251bbe0000, negotiated timeout = 30000
2015-05-21 15:12:07,054 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 17049
2015-05-21 15:12:07,054 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 89
2015-05-21 15:12:07,054 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testHighestZxidJoinLate
2015-05-21 15:12:07,054 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testHighestZxidJoinLate
2015-05-21 15:12:07,054 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testHighestZxidJoinLate
2015-05-21 15:12:07,055 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testBadPeerAddressInQuorum
2015-05-21 15:12:07,055 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testBadPeerAddressInQuorum
2015-05-21 15:12:07,057 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11245
2015-05-21 15:12:07,057 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11246
2015-05-21 15:12:07,058 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11247
2015-05-21 15:12:07,058 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11248
2015-05-21 15:12:07,058 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11249
2015-05-21 15:12:07,058 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11250
2015-05-21 15:12:07,059 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test71469257797193908.junit.dir clientPort = 11245 adminServerPort = 8080
2015-05-21 15:12:07,059 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:07,059 [myid:] - INFO  [Thread-29:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test71469257797193908.junit.dir/zoo.cfg
2015-05-21 15:12:07,060 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11245 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPeerAddressInQuorum(QuorumPeerMainTest.java:419)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:07,060 [myid:] - INFO  [Thread-29:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11245
2015-05-21 15:12:07,060 [myid:] - INFO  [Thread-29:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:07,108 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:07,108 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:07,121 [myid:] - WARN  [Thread-29:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:07,121 [myid:1] - INFO  [Thread-29:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:07,121 [myid:1] - INFO  [Thread-29:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:07,122 [myid:1] - INFO  [Thread-29:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:07,122 [myid:1] - WARN  [Thread-29:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:07,123 [myid:1] - INFO  [Thread-29:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:07,123 [myid:1] - INFO  [Thread-29:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:07,124 [myid:1] - INFO  [Thread-29:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11245
2015-05-21 15:12:07,124 [myid:1] - INFO  [Thread-29:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:12:07,124 [myid:1] - INFO  [Thread-29:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:12:07,125 [myid:1] - INFO  [Thread-29:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:07,125 [myid:1] - INFO  [Thread-29:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:07,125 [myid:1] - INFO  [Thread-29:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:07,125 [myid:1] - INFO  [Thread-29:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:07,126 [myid:1] - INFO  [Thread-29:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:07,127 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:07,128 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:07,134 [myid:1] - INFO  [Thread-29:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:07,142 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11248
2015-05-21 15:12:07,144 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id1
2015-05-21 15:12:07,144 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:07,145 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:07,145 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:12:07,146 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:07,148 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:07,233 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:07,234 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:07,310 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:07,311 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41735
2015-05-21 15:12:07,312 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41735
2015-05-21 15:12:07,313 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41735 (no session established for client)
2015-05-21 15:12:07,349 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:07,350 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:12:07,563 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:07,564 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41736
2015-05-21 15:12:07,565 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41736
2015-05-21 15:12:07,565 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41736 (no session established for client)
2015-05-21 15:12:07,615 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:07,615 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58526
2015-05-21 15:12:07,615 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:58526, server: 127.0.0.1/127.0.0.1:11239
2015-05-21 15:12:07,617 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@936] - Client attempting to renew session 0x10006251b870000 at /127.0.0.1:58526
2015-05-21 15:12:07,617 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@645] - Established session 0x10006251b870000 with negotiated timeout 30000 for client /127.0.0.1:58526
2015-05-21 15:12:07,619 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11239, sessionid = 0x10006251b870000, negotiated timeout = 30000
2015-05-21 15:12:07,750 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:07,751 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@923] - Notification time out: 800
2015-05-21 15:12:07,816 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:07,816 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41738
2015-05-21 15:12:07,817 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41738
2015-05-21 15:12:07,818 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41738 (no session established for client)
2015-05-21 15:12:07,979 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:07,980 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:08,068 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:08,069 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41740
2015-05-21 15:12:08,070 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41740
2015-05-21 15:12:08,070 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41740 (no session established for client)
2015-05-21 15:12:08,321 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:08,322 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41741
2015-05-21 15:12:08,323 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41741
2015-05-21 15:12:08,323 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41741 (no session established for client)
2015-05-21 15:12:08,425 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:08,425 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:08,552 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:08,552 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@923] - Notification time out: 1600
2015-05-21 15:12:08,560 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:08,561 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:08,573 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:08,574 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41744
2015-05-21 15:12:08,575 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41744
2015-05-21 15:12:08,576 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41744 (no session established for client)
2015-05-21 15:12:08,786 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:08,786 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:08,826 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:08,827 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41746
2015-05-21 15:12:08,828 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41746
2015-05-21 15:12:08,828 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41746 (no session established for client)
2015-05-21 15:12:08,892 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:08,892 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:09,079 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:09,080 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41748
2015-05-21 15:12:09,081 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41748
2015-05-21 15:12:09,081 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41748 (no session established for client)
2015-05-21 15:12:09,331 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:09,332 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41749
2015-05-21 15:12:09,333 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41749
2015-05-21 15:12:09,333 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:09,334 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41749 (no session established for client)
2015-05-21 15:12:09,334 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:09,584 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:09,584 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41751
2015-05-21 15:12:09,585 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41751
2015-05-21 15:12:09,585 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41751 (no session established for client)
2015-05-21 15:12:09,835 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:09,836 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41752
2015-05-21 15:12:09,836 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41752
2015-05-21 15:12:09,837 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41752 (no session established for client)
2015-05-21 15:12:10,087 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:10,087 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41753
2015-05-21 15:12:10,088 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41753
2015-05-21 15:12:10,088 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41753 (no session established for client)
2015-05-21 15:12:10,153 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:10,153 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@923] - Notification time out: 3200
2015-05-21 15:12:10,281 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:10,281 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:10,338 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:10,339 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41755
2015-05-21 15:12:10,339 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41755
2015-05-21 15:12:10,340 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41755 (no session established for client)
2015-05-21 15:12:10,342 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:10,342 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:10,431 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:10,431 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:10,530 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:10,530 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:10,590 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:10,590 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41759
2015-05-21 15:12:10,591 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41759
2015-05-21 15:12:10,591 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41759 (no session established for client)
2015-05-21 15:12:10,841 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:10,841 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41760
2015-05-21 15:12:10,842 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41760
2015-05-21 15:12:10,843 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41760 (no session established for client)
2015-05-21 15:12:11,093 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:11,094 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41761
2015-05-21 15:12:11,094 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41761
2015-05-21 15:12:11,095 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41761 (no session established for client)
2015-05-21 15:12:11,270 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:11,271 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:11,345 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:11,346 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41763
2015-05-21 15:12:11,347 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41763
2015-05-21 15:12:11,347 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41763 (no session established for client)
2015-05-21 15:12:11,598 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:11,598 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41764
2015-05-21 15:12:11,599 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41764
2015-05-21 15:12:11,600 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41764 (no session established for client)
2015-05-21 15:12:11,690 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:11,691 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:11,850 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:11,851 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41766
2015-05-21 15:12:11,852 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41766
2015-05-21 15:12:11,852 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41766 (no session established for client)
2015-05-21 15:12:11,982 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:11,982 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:12,103 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:12,103 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41768
2015-05-21 15:12:12,104 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41768
2015-05-21 15:12:12,105 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41768 (no session established for client)
2015-05-21 15:12:12,217 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:12,217 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:12,355 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:12,356 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41770
2015-05-21 15:12:12,357 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41770
2015-05-21 15:12:12,357 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41770 (no session established for client)
2015-05-21 15:12:12,378 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:12,378 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:12,608 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:12,609 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41772
2015-05-21 15:12:12,610 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41772
2015-05-21 15:12:12,610 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41772 (no session established for client)
2015-05-21 15:12:12,758 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:12,758 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:12,860 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:12,861 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41774
2015-05-21 15:12:12,862 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41774
2015-05-21 15:12:12,863 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41774 (no session established for client)
2015-05-21 15:12:12,918 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:12,919 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:13,113 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:13,114 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41776
2015-05-21 15:12:13,115 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41776
2015-05-21 15:12:13,115 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41776 (no session established for client)
2015-05-21 15:12:13,134 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:13,135 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:13,354 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:13,354 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@923] - Notification time out: 6400
2015-05-21 15:12:13,366 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:13,367 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41778
2015-05-21 15:12:13,367 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41778
2015-05-21 15:12:13,368 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41778 (no session established for client)
2015-05-21 15:12:13,618 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:13,619 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41779
2015-05-21 15:12:13,620 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41779
2015-05-21 15:12:13,620 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41779 (no session established for client)
2015-05-21 15:12:13,870 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:13,870 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:13,871 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:13,871 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41781
2015-05-21 15:12:13,872 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41781
2015-05-21 15:12:13,872 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41781 (no session established for client)
2015-05-21 15:12:14,018 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:14,019 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:14,123 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:14,123 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41783
2015-05-21 15:12:14,124 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41783
2015-05-21 15:12:14,125 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41783 (no session established for client)
2015-05-21 15:12:14,149 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:14,149 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:14,347 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:14,347 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:14,375 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:14,376 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41786
2015-05-21 15:12:14,376 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41786
2015-05-21 15:12:14,377 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41786 (no session established for client)
2015-05-21 15:12:14,627 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:14,628 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41787
2015-05-21 15:12:14,629 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41787
2015-05-21 15:12:14,629 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41787 (no session established for client)
2015-05-21 15:12:14,690 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:14,690 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:14,879 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:14,880 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41789
2015-05-21 15:12:14,881 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41789
2015-05-21 15:12:14,881 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41789 (no session established for client)
2015-05-21 15:12:15,036 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:15,036 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:15,132 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:15,132 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41791
2015-05-21 15:12:15,133 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41791
2015-05-21 15:12:15,133 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41791 (no session established for client)
2015-05-21 15:12:15,272 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:15,273 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:15,368 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:15,369 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:15,384 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:15,385 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41794
2015-05-21 15:12:15,385 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41794
2015-05-21 15:12:15,386 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41794 (no session established for client)
2015-05-21 15:12:15,504 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:15,505 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:15,636 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:15,637 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41796
2015-05-21 15:12:15,638 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41796
2015-05-21 15:12:15,638 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41796 (no session established for client)
2015-05-21 15:12:15,888 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:15,889 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41797
2015-05-21 15:12:15,890 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41797
2015-05-21 15:12:15,890 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41797 (no session established for client)
2015-05-21 15:12:16,141 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:16,141 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41798
2015-05-21 15:12:16,142 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41798
2015-05-21 15:12:16,143 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41798 (no session established for client)
2015-05-21 15:12:16,221 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:16,222 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:16,346 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:16,346 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:16,393 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:16,394 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41801
2015-05-21 15:12:16,395 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41801
2015-05-21 15:12:16,395 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41801 (no session established for client)
2015-05-21 15:12:16,425 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:16,425 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:16,644 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:16,644 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:16,645 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:16,646 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41804
2015-05-21 15:12:16,647 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41804
2015-05-21 15:12:16,647 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41804 (no session established for client)
2015-05-21 15:12:16,898 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:16,898 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41805
2015-05-21 15:12:16,899 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41805
2015-05-21 15:12:16,900 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41805 (no session established for client)
2015-05-21 15:12:17,135 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:17,135 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:17,150 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:17,151 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41807
2015-05-21 15:12:17,152 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41807
2015-05-21 15:12:17,152 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41807 (no session established for client)
2015-05-21 15:12:17,402 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:17,403 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41808
2015-05-21 15:12:17,404 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41808
2015-05-21 15:12:17,404 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41808 (no session established for client)
2015-05-21 15:12:17,655 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:17,656 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41809
2015-05-21 15:12:17,656 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41809
2015-05-21 15:12:17,657 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41809 (no session established for client)
2015-05-21 15:12:17,808 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:17,809 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:17,837 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:17,838 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:17,878 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:17,878 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:17,907 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:17,908 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41813
2015-05-21 15:12:17,909 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41813
2015-05-21 15:12:17,909 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41813 (no session established for client)
2015-05-21 15:12:17,974 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:17,975 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:18,159 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:18,160 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41815
2015-05-21 15:12:18,161 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41815
2015-05-21 15:12:18,161 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41815 (no session established for client)
2015-05-21 15:12:18,412 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:18,412 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41816
2015-05-21 15:12:18,413 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41816
2015-05-21 15:12:18,413 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41816 (no session established for client)
2015-05-21 15:12:18,509 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:18,510 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:18,664 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:18,665 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41818
2015-05-21 15:12:18,665 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41818
2015-05-21 15:12:18,666 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41818 (no session established for client)
2015-05-21 15:12:18,916 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:18,917 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41819
2015-05-21 15:12:18,918 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41819
2015-05-21 15:12:18,918 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41819 (no session established for client)
2015-05-21 15:12:19,168 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:19,169 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41820
2015-05-21 15:12:19,170 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41820
2015-05-21 15:12:19,170 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41820 (no session established for client)
2015-05-21 15:12:19,199 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:19,199 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:19,305 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:19,305 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:19,384 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:19,384 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:19,421 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:19,421 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41824
2015-05-21 15:12:19,422 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41824
2015-05-21 15:12:19,422 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41824 (no session established for client)
2015-05-21 15:12:19,670 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:19,670 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:19,673 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:19,673 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41826
2015-05-21 15:12:19,673 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41826
2015-05-21 15:12:19,674 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41826 (no session established for client)
2015-05-21 15:12:19,755 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:19,756 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@923] - Notification time out: 12800
2015-05-21 15:12:19,924 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:19,925 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41827
2015-05-21 15:12:19,925 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41827
2015-05-21 15:12:19,926 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41827 (no session established for client)
2015-05-21 15:12:19,969 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:19,969 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:20,176 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:20,177 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41829
2015-05-21 15:12:20,178 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41829
2015-05-21 15:12:20,178 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41829 (no session established for client)
2015-05-21 15:12:20,428 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:20,429 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41830
2015-05-21 15:12:20,430 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41830
2015-05-21 15:12:20,430 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41830 (no session established for client)
2015-05-21 15:12:20,681 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:20,681 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41831
2015-05-21 15:12:20,682 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41831
2015-05-21 15:12:20,683 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41831 (no session established for client)
2015-05-21 15:12:20,909 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:20,910 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:20,933 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:20,934 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41833
2015-05-21 15:12:20,934 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41833
2015-05-21 15:12:20,935 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41833 (no session established for client)
2015-05-21 15:12:20,947 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:20,947 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:21,129 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:21,130 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:21,185 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:21,186 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41836
2015-05-21 15:12:21,187 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41836
2015-05-21 15:12:21,187 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41836 (no session established for client)
2015-05-21 15:12:21,249 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:21,249 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:21,291 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:21,292 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:21,438 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:21,438 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41839
2015-05-21 15:12:21,439 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41839
2015-05-21 15:12:21,440 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41839 (no session established for client)
2015-05-21 15:12:21,690 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:21,691 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41840
2015-05-21 15:12:21,691 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41840
2015-05-21 15:12:21,692 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41840 (no session established for client)
2015-05-21 15:12:21,942 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:21,943 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41841
2015-05-21 15:12:21,944 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41841
2015-05-21 15:12:21,944 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41841 (no session established for client)
2015-05-21 15:12:22,184 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:22,185 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:22,195 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:22,195 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41843
2015-05-21 15:12:22,196 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41843
2015-05-21 15:12:22,196 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41843 (no session established for client)
2015-05-21 15:12:22,447 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:22,448 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41844
2015-05-21 15:12:22,448 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41844
2015-05-21 15:12:22,449 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41844 (no session established for client)
2015-05-21 15:12:22,699 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:22,699 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41845
2015-05-21 15:12:22,700 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41845
2015-05-21 15:12:22,701 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41845 (no session established for client)
2015-05-21 15:12:22,951 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:22,952 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41846
2015-05-21 15:12:22,952 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41846
2015-05-21 15:12:22,953 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41846 (no session established for client)
2015-05-21 15:12:22,964 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:22,965 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:22,986 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:22,987 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:23,021 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:23,021 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:23,088 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:23,089 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:23,203 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:23,204 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41851
2015-05-21 15:12:23,204 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41851
2015-05-21 15:12:23,205 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41851 (no session established for client)
2015-05-21 15:12:23,327 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:23,327 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:23,455 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:23,456 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41853
2015-05-21 15:12:23,456 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41853
2015-05-21 15:12:23,457 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41853 (no session established for client)
2015-05-21 15:12:23,707 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:23,708 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41854
2015-05-21 15:12:23,709 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41854
2015-05-21 15:12:23,709 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41854 (no session established for client)
2015-05-21 15:12:23,959 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:23,960 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41855
2015-05-21 15:12:23,961 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41855
2015-05-21 15:12:23,961 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41855 (no session established for client)
2015-05-21 15:12:24,212 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:24,212 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41856
2015-05-21 15:12:24,213 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41856
2015-05-21 15:12:24,213 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41856 (no session established for client)
2015-05-21 15:12:24,245 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:24,245 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:24,333 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:24,333 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:24,464 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:24,465 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41859
2015-05-21 15:12:24,465 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41859
2015-05-21 15:12:24,466 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41859 (no session established for client)
2015-05-21 15:12:24,716 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:24,717 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41860
2015-05-21 15:12:24,717 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41860
2015-05-21 15:12:24,718 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41860 (no session established for client)
2015-05-21 15:12:24,781 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:24,781 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:24,876 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:24,877 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:24,968 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:24,969 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41863
2015-05-21 15:12:24,970 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41863
2015-05-21 15:12:24,970 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41863 (no session established for client)
2015-05-21 15:12:25,001 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:25,002 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:25,220 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:25,221 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41865
2015-05-21 15:12:25,222 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41865
2015-05-21 15:12:25,222 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41865 (no session established for client)
2015-05-21 15:12:25,473 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:25,473 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41866
2015-05-21 15:12:25,474 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41866
2015-05-21 15:12:25,474 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41866 (no session established for client)
2015-05-21 15:12:25,562 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:25,562 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:25,725 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:25,725 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41868
2015-05-21 15:12:25,726 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41868
2015-05-21 15:12:25,727 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41868 (no session established for client)
2015-05-21 15:12:25,977 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:25,978 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41869
2015-05-21 15:12:25,978 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41869
2015-05-21 15:12:25,979 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41869 (no session established for client)
2015-05-21 15:12:25,995 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:25,996 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:26,229 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:26,230 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41871
2015-05-21 15:12:26,231 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41871
2015-05-21 15:12:26,231 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41871 (no session established for client)
2015-05-21 15:12:26,240 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:26,241 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:26,482 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:26,482 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41873
2015-05-21 15:12:26,483 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41873
2015-05-21 15:12:26,483 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41873 (no session established for client)
2015-05-21 15:12:26,730 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:26,731 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:26,734 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:26,734 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41875
2015-05-21 15:12:26,735 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41875
2015-05-21 15:12:26,736 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41875 (no session established for client)
2015-05-21 15:12:26,784 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:26,785 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:26,986 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:26,987 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41877
2015-05-21 15:12:26,988 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41877
2015-05-21 15:12:26,988 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41877 (no session established for client)
2015-05-21 15:12:27,238 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:27,239 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41878
2015-05-21 15:12:27,239 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41878
2015-05-21 15:12:27,240 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41878 (no session established for client)
2015-05-21 15:12:27,268 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:27,269 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:27,417 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:27,417 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:27,444 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:27,444 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:27,490 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:27,491 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41882
2015-05-21 15:12:27,491 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41882
2015-05-21 15:12:27,492 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41882 (no session established for client)
2015-05-21 15:12:27,742 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:27,743 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41883
2015-05-21 15:12:27,743 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41883
2015-05-21 15:12:27,744 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41883 (no session established for client)
2015-05-21 15:12:27,994 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:27,995 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41884
2015-05-21 15:12:27,996 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41884
2015-05-21 15:12:27,996 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41884 (no session established for client)
2015-05-21 15:12:28,246 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:28,247 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41885
2015-05-21 15:12:28,248 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41885
2015-05-21 15:12:28,248 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41885 (no session established for client)
2015-05-21 15:12:28,319 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:28,320 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:28,499 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:28,499 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41887
2015-05-21 15:12:28,500 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41887
2015-05-21 15:12:28,500 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41887 (no session established for client)
2015-05-21 15:12:28,751 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:28,752 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41888
2015-05-21 15:12:28,752 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41888
2015-05-21 15:12:28,753 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41888 (no session established for client)
2015-05-21 15:12:28,857 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:28,857 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:29,003 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:29,004 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41890
2015-05-21 15:12:29,005 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41890
2015-05-21 15:12:29,005 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41890 (no session established for client)
2015-05-21 15:12:29,013 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:29,013 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:29,206 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:29,206 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:29,256 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:29,256 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41893
2015-05-21 15:12:29,257 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41893
2015-05-21 15:12:29,258 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41893 (no session established for client)
2015-05-21 15:12:29,272 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:29,272 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:29,508 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:29,509 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41895
2015-05-21 15:12:29,509 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41895
2015-05-21 15:12:29,510 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41895 (no session established for client)
2015-05-21 15:12:29,760 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:29,761 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41896
2015-05-21 15:12:29,762 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41896
2015-05-21 15:12:29,762 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41896 (no session established for client)
2015-05-21 15:12:30,012 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:30,013 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41897
2015-05-21 15:12:30,014 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41897
2015-05-21 15:12:30,014 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41897 (no session established for client)
2015-05-21 15:12:30,133 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:30,133 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:30,162 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:30,163 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:30,265 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:30,265 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41900
2015-05-21 15:12:30,266 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41900
2015-05-21 15:12:30,266 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41900 (no session established for client)
2015-05-21 15:12:30,414 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:30,415 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:30,437 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:30,438 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:30,517 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:30,517 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41903
2015-05-21 15:12:30,518 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41903
2015-05-21 15:12:30,519 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41903 (no session established for client)
2015-05-21 15:12:30,537 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:30,538 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:30,769 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:30,770 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41905
2015-05-21 15:12:30,770 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41905
2015-05-21 15:12:30,771 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41905 (no session established for client)
2015-05-21 15:12:31,021 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:31,022 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41906
2015-05-21 15:12:31,023 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41906
2015-05-21 15:12:31,023 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41906 (no session established for client)
2015-05-21 15:12:31,273 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:31,274 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41907
2015-05-21 15:12:31,274 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41907
2015-05-21 15:12:31,274 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41907 (no session established for client)
2015-05-21 15:12:31,388 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:31,389 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:31,525 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:31,525 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41909
2015-05-21 15:12:31,526 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41909
2015-05-21 15:12:31,526 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41909 (no session established for client)
2015-05-21 15:12:31,603 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:31,604 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:31,764 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:31,764 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:31,777 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:31,777 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41912
2015-05-21 15:12:31,778 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41912
2015-05-21 15:12:31,779 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41912 (no session established for client)
2015-05-21 15:12:31,941 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:31,941 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:32,029 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:32,030 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41914
2015-05-21 15:12:32,030 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41914
2015-05-21 15:12:32,031 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41914 (no session established for client)
2015-05-21 15:12:32,281 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:32,282 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41915
2015-05-21 15:12:32,283 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41915
2015-05-21 15:12:32,283 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41915 (no session established for client)
2015-05-21 15:12:32,283 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:32,284 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:32,534 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:32,535 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41917
2015-05-21 15:12:32,536 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41917
2015-05-21 15:12:32,536 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41917 (no session established for client)
2015-05-21 15:12:32,556 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address fee.fii.foo.fum:11250
java.net.UnknownHostException: fee.fii.foo.fum
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:32,557 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@923] - Notification time out: 25600
2015-05-21 15:12:32,787 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:32,787 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41918
2015-05-21 15:12:32,788 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41918
2015-05-21 15:12:32,789 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41918 (no session established for client)
2015-05-21 15:12:33,039 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:33,040 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41919
2015-05-21 15:12:33,040 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41919
2015-05-21 15:12:33,041 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41919 (no session established for client)
2015-05-21 15:12:33,133 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:33,133 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:33,291 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:33,292 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41921
2015-05-21 15:12:33,293 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41921
2015-05-21 15:12:33,293 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41921 (no session established for client)
2015-05-21 15:12:33,543 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:33,544 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41922
2015-05-21 15:12:33,545 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41922
2015-05-21 15:12:33,545 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41922 (no session established for client)
2015-05-21 15:12:33,578 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:33,579 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:33,631 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:33,631 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:33,675 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:33,675 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:33,795 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:33,796 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41926
2015-05-21 15:12:33,797 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41926
2015-05-21 15:12:33,797 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41926 (no session established for client)
2015-05-21 15:12:34,047 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:34,048 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41927
2015-05-21 15:12:34,049 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41927
2015-05-21 15:12:34,049 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41927 (no session established for client)
2015-05-21 15:12:34,300 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:34,300 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41928
2015-05-21 15:12:34,301 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41928
2015-05-21 15:12:34,302 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41928 (no session established for client)
2015-05-21 15:12:34,383 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:34,383 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:34,552 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:34,553 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41930
2015-05-21 15:12:34,553 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41930
2015-05-21 15:12:34,554 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41930 (no session established for client)
2015-05-21 15:12:34,686 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:34,687 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:34,804 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:34,805 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41932
2015-05-21 15:12:34,806 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41932
2015-05-21 15:12:34,806 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41932 (no session established for client)
2015-05-21 15:12:35,056 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:35,057 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41933
2015-05-21 15:12:35,058 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41933
2015-05-21 15:12:35,058 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41933 (no session established for client)
2015-05-21 15:12:35,184 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:35,185 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:35,296 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:35,296 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:35,309 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:35,309 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41936
2015-05-21 15:12:35,310 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41936
2015-05-21 15:12:35,310 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41936 (no session established for client)
2015-05-21 15:12:35,561 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:35,561 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41937
2015-05-21 15:12:35,562 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41937
2015-05-21 15:12:35,562 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41937 (no session established for client)
2015-05-21 15:12:35,563 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:35,564 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:35,813 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:35,813 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41939
2015-05-21 15:12:35,814 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41939
2015-05-21 15:12:35,815 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41939 (no session established for client)
2015-05-21 15:12:36,065 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:36,066 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41940
2015-05-21 15:12:36,066 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41940
2015-05-21 15:12:36,067 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41940 (no session established for client)
2015-05-21 15:12:36,305 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:36,306 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:36,317 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:36,318 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41942
2015-05-21 15:12:36,319 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41942
2015-05-21 15:12:36,319 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41942 (no session established for client)
2015-05-21 15:12:36,569 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:36,570 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41943
2015-05-21 15:12:36,571 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41943
2015-05-21 15:12:36,571 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41943 (no session established for client)
2015-05-21 15:12:36,576 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:36,576 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:36,756 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:36,756 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:36,822 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:36,822 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41946
2015-05-21 15:12:36,822 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41946
2015-05-21 15:12:36,823 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41946 (no session established for client)
2015-05-21 15:12:36,960 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:36,960 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:37,028 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:37,029 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:37,073 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:37,073 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41949
2015-05-21 15:12:37,074 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41949
2015-05-21 15:12:37,075 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41949 (no session established for client)
2015-05-21 15:12:37,075 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:12:37,075 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:37,076 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:37,077 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:37,077 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:37,078 [myid:1] - INFO  [/127.0.0.1:11248:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:37,078 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=LeaderElection]
2015-05-21 15:12:37,078 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:12:37,079 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled) to exit thread
2015-05-21 15:12:37,078 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:37,079 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:37,079 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:12:37,085 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 32069
2015-05-21 15:12:37,085 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 109
2015-05-21 15:12:37,085 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testBadPeerAddressInQuorum
2015-05-21 15:12:37,085 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testBadPeerAddressInQuorum
2015-05-21 15:12:37,085 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testBadPeerAddressInQuorum
2015-05-21 15:12:37,085 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testInconsistentPeerType
2015-05-21 15:12:37,086 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testInconsistentPeerType
2015-05-21 15:12:37,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11251
2015-05-21 15:12:37,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11252
2015-05-21 15:12:37,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11253
2015-05-21 15:12:37,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11254
2015-05-21 15:12:37,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11255
2015-05-21 15:12:37,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11256
2015-05-21 15:12:37,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11257
2015-05-21 15:12:37,087 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11258
2015-05-21 15:12:37,087 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11259
2015-05-21 15:12:37,087 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7462010761499916334.junit.dir clientPort = 11251 adminServerPort = 8080
2015-05-21 15:12:37,088 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test5634868867294945025.junit.dir clientPort = 11252 adminServerPort = 8080
2015-05-21 15:12:37,088 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test4699086462885305763.junit.dir clientPort = 11253 adminServerPort = 8080
2015-05-21 15:12:37,089 [myid:] - INFO  [Thread-32:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:12:37,089 [myid:] - INFO  [Thread-30:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7462010761499916334.junit.dir/zoo.cfg
2015-05-21 15:12:37,089 [myid:2015-05-21 15:12:37,089 [myid:] - INFO  [] - Thread-32:INFO  [QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test4699086462885305763.junit.dir/zoo.cfg
2015-05-21 15:12:37,089 [myid:] - INFO  [Thread-31:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test5634868867294945025.junit.dir/zoo.cfg
ClientBase@249] - server 127.0.0.1:11251 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testInconsistentPeerType(QuorumPeerMainTest.java:487)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:37,090 [myid:] - INFO  [Thread-31:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11252
2015-05-21 15:12:37,090 [myid:] - INFO  [Thread-32:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11253
2015-05-21 15:12:37,091 [myid:] - INFO  [Thread-31:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:37,090 [myid:] - INFO  [Thread-30:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11251
2015-05-21 15:12:37,091 [myid:2015-05-21 15:12:37,091 [myid:] - INFO  [] - INFO  [Thread-30:Thread-32:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:37,091 [myid:] - INFO  [Thread-30:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:37,091 [myid:] - WARN  [Thread-31:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:37,091 [myid:2015-05-21 15:12:37,091 [myid:] - WARN  [Thread-32:QuorumPeerConfig@] - 555] - No server failure will be tolerated. You need at least 3 servers.
QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:37,091 [myid:2] - INFO  [Thread-31:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:37,091 [myid:] - WARN  [Thread-30:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:37,091 [myid:2015-05-21 15:12:37,091 [myid:3] - WARN  [Thread-32:2] - INFO  [Thread-31:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:37,091 [myid:3] - WARN  [Thread-32:QuorumPeerConfig@620] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2015-05-21 15:12:37,091 [myid:2] - INFO  [Thread-31:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:37,092 [myid:1] - INFO  [Thread-30:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:37,092 [myid:1] - INFO  [Thread-30:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:37,092 [myid:2] - WARN  [Thread-31:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:37,092 [myid:1] - INFO  [Thread-30:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:37,092 [myid:3] - INFO  [Thread-32:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:37,092 [myid:3] - INFO  [Thread-32:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:37,092 [myid:2015-05-21 15:12:37,092 [myid:1] - WARN  [2] - WARN  [Thread-31:Thread-30:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:37,092 [myid:1] - WARN  [Thread-30:2015-05-21 15:12:37,092 [myid:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:37,092 [myid:3] - WARN  [Thread-32:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
Thread-30:2015-05-21 15:12:37,092 [myid:2] - INFO  [Thread-31:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:37,093 [myid:1] - INFO  [2015-05-21 15:12:37,093 [myid:Thread-30:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:37,093 [myid:3] - INFO  [Thread-32:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:37,093 [myid:2] - INFO  [Thread-31:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:37,093 [myid:1] - INFO  [Thread-30:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:37,093 [myid:3] - INFO  [Thread-32:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:37,093 [myid:2] - INFO  [Thread-31:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11252
2015-05-21 15:12:37,094 [myid:1] - INFO  [Thread-30:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11251
2015-05-21 15:12:37,094 [myid:3] - INFO  [Thread-32:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11253
2015-05-21 15:12:37,094 [myid:2015-05-21 15:12:37,094 [myid:1] - 2] - INFO  [INFO  [Thread-31:QuorumPeer@Thread-30:1181] - Local sessions disabled
2015-05-21 15:12:37,094 [myid:2015-05-21 15:12:37,094 [myid:1] - INFO  [3] - Thread-30:INFO  [QuorumPeer@1181] - Local sessions disabled
3] - INFO  [Thread-32:QuorumPeer@2015-05-21 15:12:37,094 [myid:1181] - Local sessions disabled
1] - INFO  [Thread-30:QuorumPeer@1192] - Local session upgrading disabled
2] - INFO  [Thread-31:2015-05-21 15:12:37,094 [myid:QuorumPeer@1192] - Local session upgrading disabled
1] - INFO  [Thread-30:2015-05-21 15:12:37,094 [myid:QuorumPeer@1159] - tickTime set to 4000
3] - INFO  [Thread-32:2015-05-21 15:12:37,094 [myid:QuorumPeer@1192] - Local session upgrading disabled
1] - INFO  [Thread-30:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:37,094 [myid:2] - INFO  [2015-05-21 15:12:37,094 [myid:Thread-31:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:37,094 [myid:1] - INFO  [2015-05-21 15:12:37,094 [myid:Thread-30:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:37,094 [myid:3] - INFO  [2015-05-21 15:12:37,095 [myid:Thread-32:QuorumPeer@1159] - tickTime set to 4000
1] - INFO  [Thread-30:2015-05-21 15:12:37,095 [myid:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:37,095 [myid:2] - INFO  [2015-05-21 15:12:37,095 [myid:Thread-31:QuorumPeer@1203] - minSessionTimeout set to 8000
3] - INFO  [Thread-32:2015-05-21 15:12:37,095 [myid:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:37,095 [myid:2] - INFO  [2015-05-21 15:12:37,095 [myid:Thread-31:QuorumPeer@1214] - maxSessionTimeout set to 80000
3] - INFO  [Thread-32:2015-05-21 15:12:37,095 [myid:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:37,095 [myid:2] - INFO  [2015-05-21 15:12:37,095 [myid:Thread-31:QuorumPeer@1229] - initLimit set to 10
3] - INFO  [Thread-32:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:37,095 [myid:1] - INFO  [Thread-30:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:37,095 [myid:2] - 2015-05-21 15:12:37,096 [myid:INFO  [Thread-31:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:37,096 [myid:3] - INFO  [Thread-32:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:37,102 [myid:1] - INFO  [Thread-30:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2] - INFO  [Thread-31:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:37,110 [myid:3] - INFO  [Thread-32:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:37,123 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11255
2015-05-21 15:12:37,124 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id1
2015-05-21 15:12:37,124 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:37,125 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:37,125 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:12:37,126 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11257
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:37,127 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,135 [myid:2] - INFO  [2015-05-21 15:12:37,135 [myid:QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11257
2015-05-21 15:12:37,135 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11259
2015-05-21 15:12:37,136 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id2
2015-05-21 15:12:37,136 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id2
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:37,136 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:37,136 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:37,136 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):MBeanRegistry@103] - Failed to register MBean LeaderElection
2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):2015-05-21 15:12:37,136FastLeaderElection@ [myid:871] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=LeaderElection
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:868)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:37,136 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x8000000000000000
2015-05-21 15:12:37,136 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:12:37,137 [myid:1] - INFO  [/127.0.0.1:11255:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41556
2015-05-21 15:12:37,137 [myid:1] - INFO  [/127.0.0.1:11255:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41557
2015-05-21 15:12:37,138 [myid:2] - INFO  [/127.0.0.1:11257:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47493
2015-05-21 15:12:37,138 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,138 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,138 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,138 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,139 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,139 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,139 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,140 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,140 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,140 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,141 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,148 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:37,149 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:37,339 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=LeaderElection]
2015-05-21 15:12:37,339 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:12:37,340 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):2015-05-21 15:12:37,340 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@834] - QuorumPeer@maxSessionTimeout set to 80000
2015-05-21 15:12:37,340 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:12:37,340 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test7462010761499916334.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test7462010761499916334.junit.dir/data/version-2
2015-05-21 15:12:37,340 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:12:37,340 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:12:37,340 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:37,340 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5634868867294945025.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5634868867294945025.junit.dir/data/version-2
2015-05-21 15:12:37,341 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:12:37,341 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:12:37,341 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5634868867294945025.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:37,341 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11251:FastLeaderElection@923] - Notification time out: 400
NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:42078
2015-05-21 15:12:37,341 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:12:37,342 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:42078
2015-05-21 15:12:37,343 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34129:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11254:11255:participant;0.0.0.0:11251
2015-05-21 15:12:37,343 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:42078 (no session established for client)
2015-05-21 15:12:37,344 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,344 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:37,345 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:12:37,345 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):QuorumPeer@950] - OBSERVING
2015-05-21 15:12:37,348 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:12:37,348 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:37,348 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test4699086462885305763.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test4699086462885305763.junit.dir/data/version-2
2015-05-21 15:12:37,348 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-05-21 15:12:37,350 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):Observer@72] - Observing /127.0.0.1:11256
2015-05-21 15:12:37,351 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34131:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:11258:11259:observer;0.0.0.0:11253
2015-05-21 15:12:37,371 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34129:LearnerHandler@2015-05-21 15:12:37,371 [myid:659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:12:37,371 [myid:2015-05-21 15:12:37,371 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34131:2] - INFO  [LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2] - INFO  [LearnerHandler-/127.0.0.1:34129:LearnerHandler@703] - 2015-05-21 15:12:37,371 [myid:Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:12:37,371 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34131:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 3
2015-05-21 15:12:37,371 [myid:2015-05-21 15:12:37,372 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:12:37,372 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):2015-05-21 15:12:37,373 [myid:Learner@509] - Learner received NEWLEADER message
2015-05-21 15:12:37,373 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:12:37,384 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test4699086462885305763.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:37,384 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test7462010761499916334.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:37,407 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 1],[2, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:12:37,433 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:37,435 [myid:3] - INFO  [2015-05-21 15:12:37,435 [myid:QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:12:37,435 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:12:37,455 [myid:2015-05-21 15:12:37,455 [myid:3] - 1] - INFO  [INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:37,455 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:37,593 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:12:37,594 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:42080
2015-05-21 15:12:37,595 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:42080
2015-05-21 15:12:37,595 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:12:37,596 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:42080 (no session established for client)
2015-05-21 15:12:37,596 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11252
2015-05-21 15:12:37,596 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11252:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60014
2015-05-21 15:12:37,597 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60014
2015-05-21 15:12:37,597 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:12:37,597 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60014 (no session established for client)
2015-05-21 15:12:37,597 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11253
2015-05-21 15:12:37,597 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11253:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:49752
2015-05-21 15:12:37,598 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:49752
2015-05-21 15:12:37,598 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:12:37,598 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:49752 (no session established for client)
2015-05-21 15:12:37,598 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:12:37,598 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testInconsistentPeerType(QuorumPeerMainTest.java:497)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:37,599 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:12:37,599 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:37,599 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:12:37,599 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:37,599 [myid:2015-05-21 15:12:37,599 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - 1] - FollowerRequestProcessor exited loop!
2015-05-21 15:12:37,599 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:37,599 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:37,600 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Follower,name1=InMemoryDataTree]
2015-05-21 15:12:37,600 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:37,600 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:37,601 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:37,601 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:37,601 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:37,601 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:37,602 [myid:1] - INFO  [/127.0.0.1:11255:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:37,604 [myid:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:12:37,603 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:37,604 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled) to exit thread
 [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:37,604 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:37,603 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:37,604 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:37,603 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:37,606 [myid:2015-05-21 15:12:37,606 [myid:1] - WARN  [1] - WARN  [SendWorker:3:SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:12:37,607 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:37,605 [myid:2015-05-21 15:12:37,605 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - 1] - Interrupting SendWorker
2015-05-21 15:12:37,605 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:37,604 [myid:2015-05-21 15:12:37,608 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - 2015-05-21 15:12:37,608Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:37,609 [myid:2] - 3] - WARN  [WARN  [SendWorker:1:QuorumCnxManager$SendWorker@SendWorker:1:753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:37,609 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:12:37,609 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:12:37,881 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:37,881 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:37,985 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:37,986 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:38,346 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:38,346 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:38,853 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:38,854 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:39,068 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:39,068 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:39,436 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Follower]
2015-05-21 15:12:39,436 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:12:39,436 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:39,436 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:39,437 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled)
2015-05-21 15:12:39,437 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:12:39,437 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testInconsistentPeerType(QuorumPeerMainTest.java:498)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:39,439 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:39,439 [myid:] - INFO  [main:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
SessionTrackerImpl@232] - Shutting down
2015-05-21 15:12:39,439 [myid:2015-05-21 15:12:39,439 [myid:2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11256:] - Leader$LearnerCnxAcceptor@INFO  [372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:12:39,439 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:12:39,440 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:12:39,440 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::ProposalRequestProcessor@88] - Shutting down
PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:12:39,440 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:12:39,440 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:39,441 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:39,441 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:12:39,441 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:39,441 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:39,441 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:39,442 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Leader,name1=InMemoryDataTree]
2015-05-21 15:12:39,443 [myid:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):2015-05-21 15:12:39,443 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34129:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34129 ********
Observer@86] - Exception when observing the leader
2015-05-21 15:12:39,443 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:39,443 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:39,443 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34129:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:39,443 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):Observer@86] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:82)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:12:39,445 [myid:2] - INFO  [/127.0.0.1:11257:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Leader]
2015-05-21 15:12:39,443 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34129:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:12:39,445 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34131 ********
MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=StandaloneServer_port-1]
2] - WARN  [2015-05-21 15:12:39,443 [myid:QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):2] - WARN  [LearnerHandler-/127.0.0.1:34131:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34131 ********
2015-05-21 15:12:39,445 [myid:QuorumPeer@2] - 981INFO  [/127.0.0.1:11257:] - Unexpected exception
QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:39,445 [myid:2] - 2015-05-21 15:12:39,446 [myid:WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:12:39,446 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled)
2015-05-21 15:12:39,445 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled) to exit thread
Observer@164] - 2015-05-21 15:12:39,446 [myid:shutdown called
2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:39,447 [myid:2015-05-21 15:12:39,445 [myid:2] - WARN  [SendWorker:3:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:956)
2015-05-21 15:12:39,447 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:12:39,445 [myid:2] - WARN  [2015-05-21 15:12:39,447 [myid:LearnerHandler-/127.0.0.1:34131:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):LearnerZooKeeperServer@165] - LearnerHandler@Shutting down
2015-05-21 15:12:39,447 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:12:39,447 [myid:2015-05-21 15:12:39,445 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):2] - WARN  [LearnerHandler-/127.0.0.1:34131:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):ObserverRequestProcessor@148] - Shutting down
2015-05-21 15:12:39,446 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:12:39,446 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
3] - WARN  [RecvWorker:2:2015-05-21 15:12:39,448 [myid:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:39,449 [myid:2015-05-21 15:12:39,449 [myid:2] - WARN  [RecvWorker:3:3] - QuorumCnxManager$RecvWorker@WARN  [839] - Interrupting SendWorker
2015-05-21 15:12:39,449 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:39,448 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):2015-05-21 15:12:39,448 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@116] - ObserverRequestProcessor exited loop!
2015-05-21 15:12:39,448 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:39,447 [myid:3] - 2015-05-21 15:12:39,450 [myid:INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:12:39,450 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11252)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:39,450 [myid:2015-05-21 15:12:39,449 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@3] - 191] - WARN  [CommitProcessor exited loop!
2015-05-21 15:12:39,450 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:39,450 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled)
2015-05-21 15:12:39,449 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
3] - 2015-05-21 15:12:39,450 [myid:INFO  [ConnnectionExpirer:3] - WARN  [SendWorker:2:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:39,450 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:39,450 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:12:39,450 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:39,450 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11253:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:39,450 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=StandaloneServer_port-1,name3=InMemoryDataTree]
2015-05-21 15:12:39,451 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):QuorumCnxManager$Listener@578] - Leaving listener
SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:39,451 [myid:3] - INFO  [/127.0.0.1:11259:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:39,452 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:39,452 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled)
2015-05-21 15:12:39,452 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):SyncRequestProcessor@201] - Interrupted while wating for Thread[SyncThread:3,5,main] to finish
2015-05-21 15:12:39,452 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled) to exit thread
2015-05-21 15:12:39,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:39,452 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:39,452 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:39,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:12:39,453 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:12:39,453 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:12:39,453 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:12:39,453 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:12:39,454 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11252
2015-05-21 15:12:39,454 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11253
2015-05-21 15:12:39,470 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 45027
2015-05-21 15:12:39,470 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 116
2015-05-21 15:12:39,470 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testInconsistentPeerType
2015-05-21 15:12:39,470 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testInconsistentPeerType
2015-05-21 15:12:39,470 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testInconsistentPeerType
2015-05-21 15:12:39,471 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testBadPackets
2015-05-21 15:12:39,471 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testBadPackets
2015-05-21 15:12:39,471 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11260
2015-05-21 15:12:39,471 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11261
2015-05-21 15:12:39,471 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11262
2015-05-21 15:12:39,471 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11263
2015-05-21 15:12:39,471 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11264
2015-05-21 15:12:39,471 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11265
2015-05-21 15:12:39,471 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test5650483508853003453.junit.dir clientPort = 11260 adminServerPort = 8080
2015-05-21 15:12:39,472 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7972588802107484854.junit.dir clientPort = 11261 adminServerPort = 8080
2015-05-21 15:12:39,472 [myid:] - INFO  [Thread-35:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test5650483508853003453.junit.dir/zoo.cfg
2015-05-21 15:12:39,472 [myid:] - INFO  [Thread-35:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11260
2015-05-21 15:12:39,472 [myid:] - INFO  [Thread-35:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:39,472 [myid:] - WARN  [Thread-35:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:39,472 [myid:1] - INFO  [Thread-35:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:39,473 [myid:1] - INFO  [Thread-35:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:39,473 [myid:1] - INFO  [Thread-35:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:39,473 [myid:1] - WARN  [Thread-35:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:39,473 [myid:1] - INFO  [Thread-35:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:39,473 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:12:39,473 [myid:1] - INFO  [Thread-35:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:39,473 [myid:] - INFO  [Thread-36:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7972588802107484854.junit.dir/zoo.cfg
2015-05-21 15:12:39,473 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11260 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPackets(QuorumPeerMainTest.java:560)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:39,473 [myid:] - INFO  [Thread-36:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11261
2015-05-21 15:12:39,474 [myid:] - INFO  [Thread-36:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:39,473 [myid:1] - INFO  [Thread-35:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11260
2015-05-21 15:12:39,474 [myid:] - WARN  [Thread-36:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:39,474 [myid:1] - INFO  [Thread-35:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:12:39,474 [myid:1] - INFO  [Thread-35:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:12:39,474 [myid:2] - INFO  [Thread-36:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:39,474 [myid:1] - INFO  [Thread-35:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:39,474 [myid:2] - INFO  [Thread-36:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:39,474 [myid:1] - INFO  [Thread-35:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:39,474 [myid:2] - INFO  [Thread-36:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:39,474 [myid:1] - INFO  [Thread-35:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:39,474 [myid:1] - INFO  [Thread-35:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:39,474 [myid:2] - WARN  [Thread-36:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:39,475 [myid:1] - INFO  [Thread-35:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11261
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:39,475 [myid:2] - INFO  [Thread-36:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:39,476 [myid:2] - INFO  [Thread-36:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:39,485 [myid:1] - INFO  [Thread-35:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:39,491 [myid:2] - INFO  [Thread-36:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:39,499 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11262
2015-05-21 15:12:39,500 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id1
2015-05-21 15:12:39,500 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:39,500 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:39,501 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:12:39,501 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11263
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:39,501 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:39,506 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11263
2015-05-21 15:12:39,507 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id2
2015-05-21 15:12:39,507 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id2
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:39,507 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:39,507 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):MBeanRegistry@103] - Failed to register MBean LeaderElection
2015-05-21 15:12:39,507 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):FastLeaderElection@871] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=LeaderElection
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:868)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:39,508 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:12:39,508 [myid:1] - INFO  [/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:40869
2015-05-21 15:12:39,508 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:39,509 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:39,509 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:39,509 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:39,509 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:39,604 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:39,604 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:39,615 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:39,615 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:39,709 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:12:39,709 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=LeaderElection]
2015-05-21 15:12:39,709 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:12:39,710 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:12:39,710 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:39,710 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:12:39,710 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test7972588802107484854.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test7972588802107484854.junit.dir/data/version-2
2015-05-21 15:12:39,710 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:39,710 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:12:39,710 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5650483508853003453.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5650483508853003453.junit.dir/data/version-2
2015-05-21 15:12:39,711 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:12:39,711 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test7972588802107484854.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:39,712 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34462:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11264:11262:participant;0.0.0.0:11260
2015-05-21 15:12:39,724 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:12:39,724 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48708
2015-05-21 15:12:39,725 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48708
2015-05-21 15:12:39,726 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48708 (no session established for client)
2015-05-21 15:12:39,745 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34462:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:12:39,746 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:34462:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:12:39,747 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:12:39,747 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:12:39,766 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5650483508853003453.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:39,774 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 1],[2, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:12:39,791 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:39,792 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:12:39,813 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:39,929 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:39,929 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:39,976 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:12:39,976 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48710
2015-05-21 15:12:39,977 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48710
2015-05-21 15:12:39,978 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:12:39,978 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48710 (no session established for client)
2015-05-21 15:12:39,978 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11261
2015-05-21 15:12:39,979 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11261:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36156
2015-05-21 15:12:39,980 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36156
2015-05-21 15:12:39,980 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:12:39,980 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36156 (no session established for client)
2015-05-21 15:12:39,981 [myid:1] - INFO  [/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:40877
2015-05-21 15:12:39,981 [myid:2] - INFO  [/127.0.0.1:11263:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58228
2015-05-21 15:12:39,981 [myid:1] - WARN  [/127.0.0.1:11262:QuorumCnxManager@268] - Exception reading or writing challenge: java.io.EOFException
2015-05-21 15:12:39,981 [myid:2] - WARN  [/127.0.0.1:11263:QuorumCnxManager@268] - Exception reading or writing challenge: java.io.EOFException
2015-05-21 15:12:39,981 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11260 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.QuorumPeerMainTest@6bbd4bac
2015-05-21 15:12:39,982 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:39,983 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:48714, server: 127.0.0.1/127.0.0.1:11260
2015-05-21 15:12:39,983 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48714
2015-05-21 15:12:39,985 [myid:1] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:48714
2015-05-21 15:12:39,986 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:12:39,986 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:12:39,987 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:12:40,011 [myid:1] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x1000625c0e40000 with negotiated timeout 30000 for client /127.0.0.1:48714
2015-05-21 15:12:40,012 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11260, sessionid = 0x1000625c0e40000, negotiated timeout = 30000
2015-05-21 15:12:40,342 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:40,343 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:40,343 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:40,343 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:40,343 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:40,345 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:40,495 [myid:1] - INFO  [NIOWorkerThread-9:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x1000625c0e40000
2015-05-21 15:12:40,495 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x1000625c0e40000
2015-05-21 15:12:40,503 [myid:1] - INFO  [NIOWorkerThread-10:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Follower,name1=Connections,name2=127.0.0.1,name3=0x1000625c0e40000]
2015-05-21 15:12:40,503 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000625c0e40000 closed
2015-05-21 15:12:40,503 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48714 which had sessionid 0x1000625c0e40000
2015-05-21 15:12:40,503 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled)
2015-05-21 15:12:40,503 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:12:40,503 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPackets(QuorumPeerMainTest.java:587)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:40,504 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:12:40,504 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:40,504 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:12:40,504 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:40,504 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:12:40,504 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:40,504 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:40,504 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Follower,name1=InMemoryDataTree]
2015-05-21 15:12:40,504 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:40,505 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:40,505 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:40,505 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:40,505 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:40,505 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:40,505 [myid:1] - INFO  [/127.0.0.1:11262:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:40,506 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:40,506 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled)
2015-05-21 15:12:40,506 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:40,506 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:40,506 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:12:40,507 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:40,507 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:12:40,506 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:40,506 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled) to exit thread
2015-05-21 15:12:40,507 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:12:40,667 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:40,668 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:40,997 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:40,997 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:41,214 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:41,214 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:41,518 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:41,518 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:41,777 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:41,777 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:41,792 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Follower]
2015-05-21 15:12:41,792 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:12:41,792 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:41,792 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:41,792 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled)
2015-05-21 15:12:41,792 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:12:41,792 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPackets(QuorumPeerMainTest.java:588)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:41,793 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:41,793 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:12:41,793 [myid:2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11265:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:12:41,793 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:12:41,793 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:12:41,793 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:12:41,793 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:12:41,793 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:41,793 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:41,793 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:12:41,794 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:41,794 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:41,794 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:41,794 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Leader,name1=InMemoryDataTree]
2015-05-21 15:12:41,794 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34462:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34462 ********
2015-05-21 15:12:41,794 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:41,794 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:41,794 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:41,794 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11261:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:41,794 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:34462:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:12:41,795 [myid:2] - INFO  [/127.0.0.1:11263:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:41,795 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Leader]
2015-05-21 15:12:41,795 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled)
2015-05-21 15:12:41,795 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:12:41,795 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled) to exit thread
2015-05-21 15:12:41,795 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:12:41,795 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:41,795 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11261)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:41,795 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 54195
2015-05-21 15:12:41,795 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 115
2015-05-21 15:12:41,795 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testBadPackets
2015-05-21 15:12:41,795 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testBadPackets
2015-05-21 15:12:41,796 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testBadPackets
2015-05-21 15:12:41,796 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testQuorumDefaults
2015-05-21 15:12:41,796 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testQuorumDefaults
2015-05-21 15:12:41,796 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11266
2015-05-21 15:12:41,796 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11267
2015-05-21 15:12:41,796 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11268
2015-05-21 15:12:41,796 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11269
2015-05-21 15:12:41,796 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11270
2015-05-21 15:12:41,796 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11271
2015-05-21 15:12:41,797 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8016014217881781906.junit.dir clientPort = 11266 adminServerPort = 8080
2015-05-21 15:12:41,797 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8513731506972080686.junit.dir clientPort = 11267 adminServerPort = 8080
2015-05-21 15:12:41,797 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11266
INFO  [Thread-39:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8513731506972080686.junit.dir/zoo.cfg
2015-05-21 15:12:41,797 [myid:] - INFO  [Thread-38:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8016014217881781906.junit.dir/zoo.cfg
] - INFO  [main:ClientBase@249] - server 127.0.0.1:11266 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testQuorumDefaults(QuorumPeerMainTest.java:624)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11266
2015-05-21 15:12:41,798 [myid:2015-05-21 15:12:41,798 [myid:] - INFO  [Thread-39:] - QuorumPeerConfig@INFO  [316] - clientPortAddress is 0.0.0.0/0.0.0.0:11267
QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:41,798 [myid:] - INFO  [Thread-39:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:41,798 [myid:] - WARN  [Thread-38:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:41,798 [myid:] - WARN  [Thread-39:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:41,799 [myid:1] - INFO  [Thread-38:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2] - INFO  [Thread-39:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
1] - INFO  [Thread-38:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2] - INFO  [Thread-39:DatadirCleanupManager@2015-05-21 15:12:41,799 [myid:79] - autopurge.purgeInterval set to 0
1] - INFO  [Thread-38:DatadirCleanupManager@2015-05-21 15:12:41,799 [myid:101] - Purge task is not scheduled.
2015-05-21 15:12:41,799 [myid:2] - INFO  [Thread-39:DatadirCleanupManager@101] - Purge task is not scheduled.
1] - WARN  [Thread-38:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:41,799 [myid:2] - 2015-05-21 15:12:41,799 [myid:WARN  [Thread-39:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
1] - INFO  [Thread-38:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:41,799 [myid:2] - INFO  [Thread-39:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:41,799 [myid:1] - INFO  [Thread-38:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:41,799 [myid:2] - INFO  [Thread-39:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:41,800 [myid:1] - INFO  [Thread-38:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11266
2015-05-21 15:12:41,800 [myid:2] - INFO  [Thread-39:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11267
2015-05-21 15:12:41,800 [myid:1] - INFO  [Thread-38:QuorumPeer@1181] - Local sessions disabled
2] - INFO  [Thread-39:QuorumPeer@1181] - Local sessions disabled2015-05-21 15:12:41,800 [myid:
1] - INFO  [Thread-38:QuorumPeer@1192] - 2015-05-21 15:12:41,800 [myid:Local session upgrading disabled
2] - INFO  [Thread-39:2015-05-21 15:12:41,800 [myid:QuorumPeer@1192] - Local session upgrading disabled
1] - INFO  [Thread-38:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:41,800 [myid:2015-05-21 15:12:41,800 [myid:2] - INFO  [Thread-39:QuorumPeer@1159] - 1] - tickTime set to 4000
1] - INFO  [Thread-38:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:41,800 [myid:2015-05-21 15:12:41,800 [myid:2] - INFO  [Thread-39:QuorumPeer@1203] - 1] - minSessionTimeout set to 8000
1] - INFO  [Thread-38:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:41,800 [myid:2015-05-21 15:12:41,800 [myid:2] - INFO  [Thread-39:1] - QuorumPeer@INFO  [1214] - maxSessionTimeout set to 80000
1] - INFO  [Thread-38:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:41,800 [myid:2] - INFO  [Thread-39:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:41,801 [myid:1] - INFO  [Thread-38:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:41,801 [myid:2] - INFO  [Thread-39:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:41,808 [myid:1] - INFO  [Thread-38:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:41,814 [myid:2] - INFO  [Thread-39:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:41,824 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11269
2015-05-21 15:12:41,825 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id1
2015-05-21 15:12:41,825 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:41,825 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:41,825 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:12:41,825 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11271
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:41,826 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:41,836 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11271
2015-05-21 15:12:41,837 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id2
2015-05-21 15:12:41,837 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id2
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:41,837 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:41,837 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):MBeanRegistry@103] - Failed to register MBean LeaderElection
2015-05-21 15:12:41,837 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):FastLeaderElection@871] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=LeaderElection
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:868)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:41,837 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:12:41,838 [myid:1] - INFO  [/127.0.0.1:11269:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:50005
2015-05-21 15:12:41,839 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:41,839 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:41,839 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:41,839 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:41,839 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=LeaderElection]
2015-05-21 15:12:42,039 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):QuorumPeer@975] - LEADING
1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):QuorumPeer@963] - FOLLOWING
2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):ZooKeeperServer@2015-05-21 15:12:42,040834] -  [myid:maxSessionTimeout set to 80000
1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:12:42,040 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8513731506972080686.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8513731506972080686.junit.dir/data/version-2
1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8016014217881781906.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8016014217881781906.junit.dir/data/version-2
2015-05-21 15:12:42,040 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:12:42,040 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:12:42,040 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8513731506972080686.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:42,041 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:53217:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11268:11269:participant;0.0.0.0:11266
2015-05-21 15:12:42,048 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11266
2015-05-21 15:12:42,049 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11266:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59428
2015-05-21 15:12:42,049 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59428
2015-05-21 15:12:42,049 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59428 (no session established for client)
2015-05-21 15:12:42,072 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:53217:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:12:42,074 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:53217:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:12:42,074 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:12:42,075 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:12:42,087 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8016014217881781906.junit.dir/data/version-2/snapshot.0
2015-05-21 15:12:42,095 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 1],[2, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:12:42,122 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:42,124 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:12:42,149 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:12:42,239 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:12:42,240 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:12:42,300 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11266
2015-05-21 15:12:42,301 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11266:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59429
2015-05-21 15:12:42,301 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59429
2015-05-21 15:12:42,302 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:12:42,302 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59429 (no session established for client)
2015-05-21 15:12:42,302 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11267
2015-05-21 15:12:42,302 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11267:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59094
2015-05-21 15:12:42,302 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59094
2015-05-21 15:12:42,303 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:12:42,303 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59094 (no session established for client)
2015-05-21 15:12:42,303 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled)
2015-05-21 15:12:42,303 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testQuorumDefaults(QuorumPeerMainTest.java:631)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:42,303 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:12:42,303 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:12:42,303 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:42,304 [myid:2015-05-21 15:12:42,304 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:12:42,304 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:42,304 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:42,304 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Follower,name1=InMemoryDataTree]
2015-05-21 15:12:42,304 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:42,304 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:42,305 [myid:1] - 2015-05-21 15:12:42,305 [myid:INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:42,305 [myid:1] - 2015-05-21 15:12:42,305 [myid:INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11266:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:42,305 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:42,305 [myid:1] - INFO  [/127.0.0.1:11269:QuorumCnxManager$Listener@578] - Leaving listener
1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:42,305 [myid:2015-05-21 15:12:42,305 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
1] - WARN  [RecvWorker:2:2015-05-21 15:12:42,305 [myid:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
] - INFO  [main:QuorumBase@398] - 2015-05-21 15:12:42,306 [myid:Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled)
2015-05-21 15:12:42,306 [myid:1] - WARN  [2015-05-21 15:12:42,306 [myid:RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled) to exit thread
2015-05-21 15:12:42,306 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:12:42,306 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:12:42,306 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:12:42,306 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:12:42,353 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:42,353 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:42,508 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:42,509 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:42,509 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:42,509 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:42,531 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:42,532 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:42,677 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:42,677 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:43,267 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:43,267 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:43,387 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:43,387 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:44,125 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Follower]
2015-05-21 15:12:44,125 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:12:44,125 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:44,125 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11266)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:44,126 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled)
2015-05-21 15:12:44,126 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:12:44,126 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testQuorumDefaults(QuorumPeerMainTest.java:632)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:12:44,127 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11270:2015-05-21 15:12:44,127 [myid:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:12:44,127 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:12:44,127 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:12:44,128 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
INFO  [main:ProposalRequestProcessor@88] - Shutting down
2] - INFO  [ProcessThread(sid:2 cport:-1)::2015-05-21 15:12:44,128 [myid:PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:12:44,128 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:12:44,129 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:12:44,129 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:12:44,129 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:12:44,129 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:12:44,129 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:12:44,130 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Leader,name1=InMemoryDataTree]
2015-05-21 15:12:44,130 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:53217:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53217 ********
2] - WARN  [LearnerHandler-/127.0.0.1:53217:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:12:44,131 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:12:44,131 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:12:44,131 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11267:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:12:44,133 [myid:2015-05-21 15:12:44,133 [myid:2] - INFO  [/127.0.0.1:11271:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:12:44,133 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=Leader]
2015-05-21 15:12:44,133 [myid:2015-05-21 15:12:44,133 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled)
2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):2015-05-21 15:12:44,133 [myid:QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled) to exit thread
2015-05-21 15:12:44,133 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:12:44,134 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:12:44,134 [myid:2] - 2015-05-21 15:12:44,134 [myid:WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11267)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:12:44,134 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:44,134 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11266
2015-05-21 15:12:44,135 [myid:2015-05-21 15:12:44,135 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@] - 1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:44,135 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11267
2015-05-21 15:12:44,137 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 62491
2015-05-21 15:12:44,137 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 114
2015-05-21 15:12:44,137 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testQuorumDefaults
2015-05-21 15:12:44,137 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testQuorumDefaults
2015-05-21 15:12:44,137 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testQuorumDefaults
2015-05-21 15:12:44,138 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testQuorumPeerExitTime
2015-05-21 15:12:44,138 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testQuorumPeerExitTime
2015-05-21 15:12:44,138 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11272
2015-05-21 15:12:44,139 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11273
2015-05-21 15:12:44,139 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11274
2015-05-21 15:12:44,139 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11275
2015-05-21 15:12:44,139 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11276
2015-05-21 15:12:44,139 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11277
2015-05-21 15:12:44,139 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8347016409512772248.junit.dir clientPort = 11272 adminServerPort = 8080
2015-05-21 15:12:44,140 [myid:] - INFO  [Thread-41:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8347016409512772248.junit.dir/zoo.cfg
2015-05-21 15:12:44,140 [myid:] - INFO  [Thread-41:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11272
2015-05-21 15:12:44,140 [myid:] - INFO  [Thread-41:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:12:44,141 [myid:] - WARN  [Thread-41:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:12:44,141 [myid:1] - INFO  [Thread-41:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:12:44,141 [myid:1] - INFO  [Thread-41:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:12:44,141 [myid:1] - INFO  [Thread-41:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:12:44,141 [myid:1] - WARN  [Thread-41:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:44,142 [myid:1] - INFO  [Thread-41:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:12:44,142 [myid:1] - INFO  [Thread-41:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:12:44,142 [myid:1] - INFO  [Thread-41:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:11272
2015-05-21 15:12:44,142 [myid:1] - INFO  [Thread-41:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:12:44,142 [myid:1] - INFO  [Thread-41:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:12:44,142 [myid:1] - INFO  [Thread-41:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:12:44,143 [myid:1] - INFO  [Thread-41:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:12:44,143 [myid:1] - INFO  [Thread-41:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:12:44,143 [myid:1] - INFO  [Thread-41:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:12:44,143 [myid:1] - INFO  [Thread-41:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:44,151 [myid:1] - INFO  [Thread-41:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:12:44,154 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:44,154 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:44,162 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11274
2015-05-21 15:12:44,163 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id1
2015-05-21 15:12:44,163 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:12:44,163 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:12:44,164 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:12:44,165 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:12:44,165 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:12:44,366 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:44,366 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:12:44,403 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:44,404 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:44,503 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:44,504 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:44,625 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:44,625 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:44,766 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:44,766 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@923] - Notification time out: 800
2015-05-21 15:12:44,838 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:44,839 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:12:44,839 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:44,839 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:12:45,529 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:45,530 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:45,567 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:45,567 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@923] - Notification time out: 1600
2015-05-21 15:12:45,827 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:45,828 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:45,961 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:45,962 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:46,147 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:46,148 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:46,228 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:46,228 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:46,240 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:12:47,151 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:47,152 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:47,168 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:47,168 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@923] - Notification time out: 3200
2015-05-21 15:12:47,394 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:47,394 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:47,525 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:47,526 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:47,588 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:47,589 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:47,969 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:47,970 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:48,661 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:48,661 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:48,674 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:48,675 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:48,925 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:48,925 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:49,031 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:49,031 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:49,990 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:49,990 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:50,015 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:50,016 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:50,369 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:50,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@923] - Notification time out: 6400
2015-05-21 15:12:50,387 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:50,387 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:50,610 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:50,611 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:50,704 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:50,705 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:51,684 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:51,685 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:51,717 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:51,717 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:51,748 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:51,749 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:52,222 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:52,223 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:52,344 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:52,344 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:52,939 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:52,939 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:53,689 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:53,689 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:53,755 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:53,756 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:54,072 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:54,072 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:54,198 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:54,198 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:54,634 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:54,635 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:55,150 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:55,151 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:55,577 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:55,577 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:55,660 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:55,661 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:55,977 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:55,977 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:56,197 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:56,198 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:56,438 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:56,439 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:56,770 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:12:56,770 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@923] - Notification time out: 12800
2015-05-21 15:12:56,909 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:56,910 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:57,106 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:57,106 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:57,324 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:57,324 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:57,622 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:57,622 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:58,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:58,258 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:58,645 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:58,646 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:58,915 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:58,916 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:58,984 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:58,985 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:12:59,307 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:12:59,308 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:00,113 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:00,113 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:00,482 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:00,482 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:00,670 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:00,670 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:00,701 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:00,701 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:00,734 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:00,735 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:01,602 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:01,603 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:02,014 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:02,015 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:02,129 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:02,129 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:02,285 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:02,285 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:02,345 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:02,346 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:03,073 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:03,073 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:03,116 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:03,117 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:03,521 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:03,522 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:03,848 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:03,849 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:03,867 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:03,868 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:04,558 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:04,558 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:04,675 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:04,676 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:04,951 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:04,952 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:05,315 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:05,316 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:05,948 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:05,948 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:06,364 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:06,365 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:06,435 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:06,435 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:06,559 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:06,560 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:06,795 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:06,796 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:07,550 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:07,550 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:07,823 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:07,823 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:08,366 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:08,366 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:08,518 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:08,519 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:08,818 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:08,818 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:09,441 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:09,442 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:09,571 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11276
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:435)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:914)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:13:09,571 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):FastLeaderElection@923] - Notification time out: 25600
2015-05-21 15:13:09,674 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:09,674 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:09,743 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:09,744 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:09,905 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:09,905 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:10,083 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:10,083 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:11,250 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:11,251 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:11,396 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:11,397 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:11,622 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:11,623 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:11,648 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:11,648 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:11,730 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:11,730 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:12,902 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:12,902 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:12,977 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:12,978 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:13,059 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:13,059 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:13,317 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:13,317 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:13,557 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:13,558 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:14,140 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled)
2015-05-21 15:13:14,141 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:13:14,141 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:13:14,141 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:13:14,141 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:11272:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:13:14,144 [myid:1] - INFO  [/127.0.0.1:11274:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:13:14,144 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=LeaderElection]
2015-05-21 15:13:14,144 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled)
2015-05-21 15:13:14,144 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:13:14,144 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled) to exit thread
2015-05-21 15:13:14,144 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11272)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:13:14,145 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 69218
2015-05-21 15:13:14,145 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 129
2015-05-21 15:13:14,145 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testQuorumPeerExitTime
2015-05-21 15:13:14,145 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testQuorumPeerExitTime
2015-05-21 15:13:14,145 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testQuorumPeerExitTime
2015-05-21 15:13:14,146 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testMinMaxSessionTimeOut
2015-05-21 15:13:14,146 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testMinMaxSessionTimeOut
2015-05-21 15:13:14,147 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11278
2015-05-21 15:13:14,147 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11279
2015-05-21 15:13:14,147 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11280
2015-05-21 15:13:14,147 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11281
2015-05-21 15:13:14,147 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11282
2015-05-21 15:13:14,147 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11283
2015-05-21 15:13:14,148 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7204524466935049575.junit.dir clientPort = 11278 adminServerPort = 8080
2015-05-21 15:13:14,149 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test181122362961984574.junit.dir clientPort = 11279 adminServerPort = 8080
2015-05-21 15:13:14,150 [myid:] - INFO  [Thread-42:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7204524466935049575.junit.dir/zoo.cfg
2015-05-21 15:13:14,150 [myid:] - INFO  [Thread-43:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test181122362961984574.junit.dir/zoo.cfg
2015-05-21 15:13:14,150 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:13:14,150 [myid:] - INFO  [Thread-43:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11279
2015-05-21 15:13:14,150 [myid:] - INFO  [Thread-42:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11278
2015-05-21 15:13:14,150 [myid:] - INFO  [Thread-42:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:13:14,150 [myid:] - INFO  [Thread-43:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:13:14,151 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11278 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testMinMaxSessionTimeOut(QuorumPeerMainTest.java:712)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:13:14,151 [myid:] - WARN  [Thread-43:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:13:14,151 [myid:] - WARN  [Thread-42:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:13:14,151 [myid:2] - INFO  [Thread-43:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:13:14,151 [myid:1] - INFO  [Thread-42:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:13:14,152 [myid:1] - INFO  [Thread-42:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:13:14,152 [myid:1] - INFO  [Thread-42:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:13:14,152 [myid:2] - INFO  [Thread-43:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:13:14,152 [myid:2] - INFO  [Thread-43:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:13:14,152 [myid:1] - WARN  [Thread-42:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:13:14,152 [myid:1] - INFO  [Thread-42:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:13:14,153 [myid:2] - WARN  [Thread-43:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:13:14,153 [myid:1] - INFO  [Thread-42:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:13:14,153 [myid:2] - INFO  [Thread-43:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:13:14,153 [myid:1] - INFO  [Thread-42:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11278
2015-05-21 15:13:14,154 [myid:2] - INFO  [Thread-43:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:13:14,154 [myid:1] - INFO  [Thread-42:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:13:14,154 [myid:1] - INFO  [Thread-42:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:13:14,154 [myid:2] - INFO  [Thread-43:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11279
2015-05-21 15:13:14,154 [myid:1] - INFO  [Thread-42:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:13:14,154 [myid:1] - INFO  [Thread-42:QuorumPeer@1203] - minSessionTimeout set to 10000
2015-05-21 15:13:14,155 [myid:1] - INFO  [Thread-42:QuorumPeer@1214] - maxSessionTimeout set to 15000
2015-05-21 15:13:14,155 [myid:1] - INFO  [Thread-42:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:13:14,155 [myid:2] - INFO  [Thread-43:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:13:14,155 [myid:2] - INFO  [Thread-43:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:13:14,155 [myid:2] - INFO  [Thread-43:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:13:14,155 [myid:2] - INFO  [Thread-43:QuorumPeer@1203] - minSessionTimeout set to 10000
2015-05-21 15:13:14,155 [myid:2] - INFO  [Thread-43:QuorumPeer@1214] - maxSessionTimeout set to 15000
2015-05-21 15:13:14,155 [myid:2] - INFO  [Thread-43:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:13:14,155 [myid:1] - INFO  [Thread-42:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,156 [myid:2] - INFO  [Thread-43:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,166 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:13:14,166 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:13:14,169 [myid:1] - INFO  [Thread-42:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,181 [myid:2] - INFO  [Thread-43:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,192 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11281
2015-05-21 15:13:14,193 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id1
2015-05-21 15:13:14,193 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:13:14,193 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:13:14,194 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:13:14,195 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:13:14,195 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,203 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11283
2015-05-21 15:13:14,204 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id2
2015-05-21 15:13:14,204 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id2
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:13:14,204 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:13:14,204 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):MBeanRegistry@103] - Failed to register MBean LeaderElection
2015-05-21 15:13:14,204 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):FastLeaderElection@871] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=LeaderElection
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:868)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:13:14,205 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:13:14,205 [myid:1] - INFO  [/127.0.0.1:11281:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47512
2015-05-21 15:13:14,207 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,207 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,207 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,207 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,207 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,214 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:14,214 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x10006249c260000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:14,401 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:13:14,402 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54672
2015-05-21 15:13:14,403 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:54672
2015-05-21 15:13:14,404 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54672 (no session established for client)
2015-05-21 15:13:14,408 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:13:14,408 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=LeaderElection]
2015-05-21 15:13:14,408 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 10000
2015-05-21 15:13:14,408 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:13:14,408 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 15000
2015-05-21 15:13:14,408 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 10000
2015-05-21 15:13:14,408 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 10000 maxSessionTimeout 15000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test181122362961984574.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test181122362961984574.junit.dir/data/version-2
2015-05-21 15:13:14,409 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 15000
2015-05-21 15:13:14,409 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:13:14,409 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 10000 maxSessionTimeout 15000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test7204524466935049575.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test7204524466935049575.junit.dir/data/version-2
2015-05-21 15:13:14,409 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:13:14,409 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test181122362961984574.junit.dir/data/version-2/snapshot.0
2015-05-21 15:13:14,411 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33694:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11280:11281:participant
2015-05-21 15:13:14,411 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:14,412 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x200062477d60000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:14,417 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:14,417 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x6249c260000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:14,444 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33694:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:13:14,444 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33694:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:13:14,445 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:13:14,446 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:13:14,465 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test7204524466935049575.junit.dir/data/version-2/snapshot.0
2015-05-21 15:13:14,474 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 1],[2, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:13:14,491 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11279)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:13:14,492 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:13:14,513 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11278)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:13:14,654 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:13:14,654 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:54679
2015-05-21 15:13:14,655 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:54679
2015-05-21 15:13:14,655 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:13:14,655 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:54679 (no session established for client)
2015-05-21 15:13:14,655 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11279
2015-05-21 15:13:14,655 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11279:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43837
2015-05-21 15:13:14,656 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:43837
2015-05-21 15:13:14,656 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:13:14,656 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43837 (no session established for client)
2015-05-21 15:13:14,656 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 74957
2015-05-21 15:13:14,656 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 162
2015-05-21 15:13:14,656 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testMinMaxSessionTimeOut
2015-05-21 15:13:14,656 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testMinMaxSessionTimeOut
2015-05-21 15:13:14,656 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testMinMaxSessionTimeOut
2015-05-21 15:13:14,657 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testWithOnlyMinSessionTimeout
2015-05-21 15:13:14,657 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testWithOnlyMinSessionTimeout
2015-05-21 15:13:14,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11284
2015-05-21 15:13:14,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11285
2015-05-21 15:13:14,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11286
2015-05-21 15:13:14,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11287
2015-05-21 15:13:14,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11288
2015-05-21 15:13:14,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11289
2015-05-21 15:13:14,657 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test9076967613805904477.junit.dir clientPort = 11284 adminServerPort = 8080
2015-05-21 15:13:14,658 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7502112848668320320.junit.dir clientPort = 11285 adminServerPort = 8080
2015-05-21 15:13:14,658 [myid:] - INFO  [Thread-45:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test9076967613805904477.junit.dir/zoo.cfg
2015-05-21 15:13:14,658 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11284
2015-05-21 15:13:14,658 [myid:] - INFO  [Thread-46:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7502112848668320320.junit.dir/zoo.cfg
2015-05-21 15:13:14,658 [myid:] - INFO  [Thread-45:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11284
2015-05-21 15:13:14,658 [myid:] - INFO  [Thread-45:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:13:14,658 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11284 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testWithOnlyMinSessionTimeout(QuorumPeerMainTest.java:753)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:13:14,658 [myid:] - WARN  [Thread-45:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:13:14,658 [myid:] - INFO  [Thread-46:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11285
2015-05-21 15:13:14,659 [myid:] - INFO  [Thread-46:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:13:14,659 [myid:1] - INFO  [Thread-45:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:13:14,659 [myid:1] - INFO  [Thread-45:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:13:14,659 [myid:1] - INFO  [Thread-45:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:13:14,659 [myid:] - WARN  [Thread-46:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:13:14,659 [myid:1] - WARN  [Thread-45:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:13:14,659 [myid:1] - INFO  [Thread-45:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:13:14,659 [myid:2] - INFO  [Thread-46:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:13:14,659 [myid:2] - INFO  [Thread-46:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:13:14,659 [myid:2] - INFO  [Thread-46:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:13:14,659 [myid:1] - INFO  [Thread-45:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:13:14,659 [myid:2] - WARN  [Thread-46:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:13:14,659 [myid:1] - INFO  [Thread-45:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11284
2015-05-21 15:13:14,659 [myid:2] - INFO  [Thread-46:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:13:14,660 [myid:1] - INFO  [Thread-45:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:13:14,660 [myid:1] - INFO  [Thread-45:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11285
2015-05-21 15:13:14,660 [myid:1] - INFO  [Thread-45:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:13:14,660 [myid:1] - INFO  [Thread-45:QuorumPeer@1203] - minSessionTimeout set to 15000
2015-05-21 15:13:14,660 [myid:1] - INFO  [Thread-45:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:13:14,660 [myid:1] - INFO  [Thread-45:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:QuorumPeer@1203] - minSessionTimeout set to 15000
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:13:14,660 [myid:1] - INFO  [Thread-45:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,660 [myid:2] - INFO  [Thread-46:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,673 [myid:1] - INFO  [Thread-45:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,683 [myid:2] - INFO  [Thread-46:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:13:14,688 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:14,689 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x62477a80000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:14,694 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11287
2015-05-21 15:13:14,694 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id1
2015-05-21 15:13:14,694 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:13:14,695 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:13:14,695 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:13:14,695 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:13:14,695 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,701 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:11289
2015-05-21 15:13:14,701 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):MBeanRegistry@103] - Failed to register MBean ReplicatedServer_id2
2015-05-21 15:13:14,701 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):QuorumPeer@876] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id2
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:854)
2015-05-21 15:13:14,701 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:13:14,701 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):MBeanRegistry@103] - Failed to register MBean LeaderElection
2015-05-21 15:13:14,701 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):FastLeaderElection@871] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=LeaderElection
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:868)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:13:14,702 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:13:14,702 [myid:1] - INFO  [/127.0.0.1:11287:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:55242
2015-05-21 15:13:14,702 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,703 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,703 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,703 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,703 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:13:14,903 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:13:14,903 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=LeaderElection]
2015-05-21 15:13:14,903 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 15000
2015-05-21 15:13:14,903 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:13:14,903 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:13:14,903 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 15000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test7502112848668320320.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test7502112848668320320.junit.dir/data/version-2
2015-05-21 15:13:14,904 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 15000
2015-05-21 15:13:14,904 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:13:14,904 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:13:14,904 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 15000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test9076967613805904477.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test9076967613805904477.junit.dir/data/version-2
2015-05-21 15:13:14,904 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:13:14,904 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):MBeanRegistry@103] - Failed to register MBean Leader
2015-05-21 15:13:14,904 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):LeaderZooKeeperServer@153] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=Leader
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.LeaderZooKeeperServer.registerJMX(LeaderZooKeeperServer.java:151)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:415)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:13:14,904 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):MBeanRegistry@103] - Failed to register MBean Follower
2015-05-21 15:13:14,904 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test7502112848668320320.junit.dir/data/version-2/snapshot.0
2015-05-21 15:13:14,904 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):LearnerZooKeeperServer@129] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=Follower
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.LearnerZooKeeperServer.registerJMX(LearnerZooKeeperServer.java:127)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:70)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:13:14,905 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:45282:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:11286:11287:participant
2015-05-21 15:13:14,909 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11284
2015-05-21 15:13:14,909 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11284:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45171
2015-05-21 15:13:14,909 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45171
2015-05-21 15:13:14,909 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45171 (no session established for client)
2015-05-21 15:13:14,925 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:45282:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:13:14,926 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:45282:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:13:14,926 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:13:14,926 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:13:14,950 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test9076967613805904477.junit.dir/data/version-2/snapshot.0
2015-05-21 15:13:14,962 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 1],[2, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:13:14,983 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11285)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:13:14,985 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:13:15,002 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:13:15,003 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):MBeanRegistry@103] - Failed to register MBean InMemoryDataTree
2015-05-21 15:13:15,003 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11284)(secure=disabled):LearnerZooKeeperServer@107] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=InMemoryDataTree
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:99)
	at org.apache.zookeeper.server.quorum.LearnerZooKeeperServer.registerJMX(LearnerZooKeeperServer.java:105)
	at org.apache.zookeeper.server.ZooKeeperServer.startup(ZooKeeperServer.java:414)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:531)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:13:15,094 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:13:15,094 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x100062477a80000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:13:15,160 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11284
2015-05-21 15:13:15,160 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11284:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45173
2015-05-21 15:13:15,161 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45173
2015-05-21 15:13:15,161 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:13:15,162 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45173 (no session established for client)
2015-05-21 15:13:15,162 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11285
2015-05-21 15:13:15,162 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11285:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60431
2015-05-21 15:13:15,163 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60431
2015-05-21 15:13:15,163 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:13:15,164 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60431 (no session established for client)
2015-05-21 15:13:15,164 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 79809
2015-05-21 15:13:15,164 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 197
2015-05-21 15:13:15,164 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testWithOnlyMinSessionTimeout
2015-05-21 15:13:15,164 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testWithOnlyMinSessionTimeout
2015-05-21 15:13:15,164 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testWithOnlyMinSessionTimeout
------------- ---------------- ---------------

Testcase: testEarlyLeaderAbandonment took 39.728 sec
Testcase: testQuorum took 2.363 sec
Testcase: testHighestZxidJoinLate took 9.922 sec
Testcase: testBadPeerAddressInQuorum took 30.03 sec
Testcase: testInconsistentPeerType took 2.385 sec
Testcase: testBadPackets took 2.326 sec
Testcase: testQuorumDefaults took 2.341 sec
Testcase: testQuorumPeerExitTime took 30.008 sec
Testcase: testMinMaxSessionTimeOut took 0.51 sec
Testcase: testWithOnlyMinSessionTimeout took 0.507 sec
