Testsuite: org.apache.zookeeper.server.quorum.ReconfigBackupTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.436 sec
------------- Standard Output ---------------
2015-05-21 15:14:37,104 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testVersionOfDynamicFilename
2015-05-21 15:14:37,112 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testVersionOfDynamicFilename
2015-05-21 15:14:37,113 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11221
2015-05-21 15:14:37,113 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11222
2015-05-21 15:14:37,113 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11223
2015-05-21 15:14:37,113 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11224
2015-05-21 15:14:37,113 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11225
2015-05-21 15:14:37,113 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11226
2015-05-21 15:14:37,113 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11227
2015-05-21 15:14:37,114 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11228
2015-05-21 15:14:37,114 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11229
2015-05-21 15:14:37,114 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11230
2015-05-21 15:14:37,114 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11231
2015-05-21 15:14:37,114 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11232
2015-05-21 15:14:37,114 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11233
2015-05-21 15:14:37,114 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11234
2015-05-21 15:14:37,116 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11235
2015-05-21 15:14:37,127 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test874640971188849942.junit.dir clientPort = 11221 adminServerPort = 8080
2015-05-21 15:14:37,130 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test4489426339885119434.junit.dir clientPort = 11224 adminServerPort = 8080
2015-05-21 15:14:37,131 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8194192849868649639.junit.dir clientPort = 11227 adminServerPort = 8080
2015-05-21 15:14:37,132 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7486380019679801143.junit.dir clientPort = 11230 adminServerPort = 8080
2015-05-21 15:14:37,132 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 4 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test1135031942522922449.junit.dir clientPort = 11233 adminServerPort = 8080
2015-05-21 15:14:37,133 [myid:] - INFO  [Thread-3:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7486380019679801143.junit.dir/zoo.cfg
2015-05-21 15:14:37,133 [myid:] - INFO  [Thread-2:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8194192849868649639.junit.dir/zoo.cfg
2015-05-21 15:14:37,133 [myid:] - INFO  [Thread-1:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test4489426339885119434.junit.dir/zoo.cfg
2015-05-21 15:14:37,133 [myid:] - INFO  [Thread-0:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test874640971188849942.junit.dir/zoo.cfg
2015-05-21 15:14:37,133 [myid:] - INFO  [Thread-4:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test1135031942522922449.junit.dir/zoo.cfg
2015-05-21 15:14:37,134 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-3:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11230
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-2:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11227
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-0:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11221
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-0:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-4:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11233
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-4:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-1:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11224
2015-05-21 15:14:37,139 [myid:] - INFO  [Thread-1:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-2:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:37,138 [myid:] - INFO  [Thread-3:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:37,140 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11221 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testVersionOfDynamicFilename(ReconfigBackupTest.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:37,145 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:37,145 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:37,145 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:37,145 [myid:4] - INFO  [Thread-4:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:37,145 [myid:3] - INFO  [Thread-3:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:37,145 [myid:4] - INFO  [Thread-4:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:37,145 [myid:4] - INFO  [Thread-4:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:37,145 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:37,146 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:37,145 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:37,146 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:37,145 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:37,146 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:37,145 [myid:3] - INFO  [Thread-3:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:37,146 [myid:3] - INFO  [Thread-3:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:37,201 [myid:3] - ERROR [Thread-3:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,202 [myid:1] - ERROR [Thread-1:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,201 [myid:2] - ERROR [Thread-2:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,201 [myid:4] - ERROR [Thread-4:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,201 [myid:0] - ERROR [Thread-0:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,207 [myid:4] - ERROR [Thread-4:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,210 [myid:4] - ERROR [Thread-4:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,211 [myid:4] - WARN  [Thread-4:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,211 [myid:4] - INFO  [Thread-4:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:37,205 [myid:2] - ERROR [Thread-2:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,212 [myid:2] - ERROR [Thread-2:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,204 [myid:1] - WARN  [Thread-1:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,213 [myid:1] - INFO  [Thread-1:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:37,203 [myid:3] - ERROR [Thread-3:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,213 [myid:3] - ERROR [Thread-3:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,214 [myid:3] - WARN  [Thread-3:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,214 [myid:3] - INFO  [Thread-3:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:37,209 [myid:0] - ERROR [Thread-0:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,214 [myid:2] - INFO  [Thread-2:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:37,215 [myid:0] - WARN  [Thread-0:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:37,216 [myid:0] - INFO  [Thread-0:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:37,221 [myid:4] - INFO  [Thread-4:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:37,221 [myid:1] - INFO  [Thread-1:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:37,221 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:37,221 [myid:3] - INFO  [Thread-3:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:37,221 [myid:2] - INFO  [Thread-2:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:37,225 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11221
2015-05-21 15:14:37,225 [myid:2] - INFO  [Thread-2:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11227
2015-05-21 15:14:37,225 [myid:3] - INFO  [Thread-3:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11230
2015-05-21 15:14:37,225 [myid:4] - INFO  [Thread-4:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11233
2015-05-21 15:14:37,225 [myid:1] - INFO  [Thread-1:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11224
2015-05-21 15:14:37,236 [myid:2] - INFO  [Thread-2:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:37,236 [myid:4] - INFO  [Thread-4:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:37,236 [myid:1] - INFO  [Thread-1:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:37,237 [myid:1] - INFO  [Thread-1:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:37,236 [myid:0] - INFO  [Thread-0:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:37,237 [myid:0] - INFO  [Thread-0:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:37,236 [myid:3] - INFO  [Thread-3:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:37,237 [myid:0] - INFO  [Thread-0:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:37,237 [myid:1] - INFO  [Thread-1:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:37,237 [myid:4] - INFO  [Thread-4:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:37,238 [myid:4] - INFO  [Thread-4:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:37,236 [myid:2] - INFO  [Thread-2:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:37,238 [myid:4] - INFO  [Thread-4:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:37,238 [myid:1] - INFO  [Thread-1:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:37,238 [myid:1] - INFO  [Thread-1:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,238 [myid:0] - INFO  [Thread-0:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:37,239 [myid:0] - INFO  [Thread-0:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,237 [myid:3] - INFO  [Thread-3:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:37,239 [myid:0] - INFO  [Thread-0:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:37,238 [myid:1] - INFO  [Thread-1:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:37,238 [myid:4] - INFO  [Thread-4:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,239 [myid:4] - INFO  [Thread-4:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:37,238 [myid:2] - INFO  [Thread-2:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:37,239 [myid:3] - INFO  [Thread-3:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:37,240 [myid:2] - INFO  [Thread-2:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:37,240 [myid:3] - INFO  [Thread-3:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:37,240 [myid:2] - INFO  [Thread-2:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,240 [myid:3] - INFO  [Thread-3:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,241 [myid:2] - INFO  [Thread-2:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:37,241 [myid:3] - INFO  [Thread-3:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:37,257 [myid:1] - INFO  [Thread-1:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,257 [myid:4] - INFO  [Thread-4:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,257 [myid:3] - INFO  [Thread-3:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,257 [myid:0] - INFO  [Thread-0:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,257 [myid:2] - INFO  [Thread-2:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,267 [myid:1] - INFO  [Thread-1:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,267 [myid:2] - INFO  [Thread-2:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,267 [myid:0] - INFO  [Thread-0:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,267 [myid:4] - INFO  [Thread-4:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,267 [myid:3] - INFO  [Thread-3:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:37,285 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11226
2015-05-21 15:14:37,285 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11229
2015-05-21 15:14:37,292 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11232
2015-05-21 15:14:37,292 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11223
2015-05-21 15:14:37,293 [myid:4] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11235
2015-05-21 15:14:37,296 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:37,296 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:37,297 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:37,297 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:37,297 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:37,298 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x0
2015-05-21 15:14:37,299 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:14:37,299 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:14:37,299 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:14:37,299 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:14:37,301 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46460
2015-05-21 15:14:37,301 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60111
2015-05-21 15:14:37,301 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:14:37,302 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41776
2015-05-21 15:14:37,302 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:14:37,303 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:14:37,304 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46461
2015-05-21 15:14:37,304 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:14:37,304 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60114
2015-05-21 15:14:37,304 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,305 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:14:37,306 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,306 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60115
2015-05-21 15:14:37,306 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@294] - 0 Received version: 200000000 my version: 100000000
2015-05-21 15:14:37,306 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 1)
2015-05-21 15:14:37,306 [myid:4] - INFO  [localhost/127.0.0.1:11235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:38683
2015-05-21 15:14:37,307 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46462
2015-05-21 15:14:37,307 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,312 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,313 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46464
2015-05-21 15:14:37,313 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60116
2015-05-21 15:14:37,313 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,313 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:14:37,313 [myid:3] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 3)
2015-05-21 15:14:37,314 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,314 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41780
2015-05-21 15:14:37,314 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,314 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,314 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@758] - Exception when using channel: for id 1 my id = 4 error = java.net.SocketException: Socket closed
2015-05-21 15:14:37,314 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,315 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,315 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-05-21 15:14:37,314 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,315 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@758] - Exception when using channel: for id 2 my id = 0 error = java.net.SocketException: Broken pipe
2015-05-21 15:14:37,315 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,315 [myid:4] - INFO  [localhost/127.0.0.1:11235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:38686
2015-05-21 15:14:37,315 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:14:37,315 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46473
2015-05-21 15:14:37,315 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,315 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60190
2015-05-21 15:14:37,314 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@758] - Exception when using channel: for id 4 my id = 1 error = java.net.SocketException: Broken pipe
2015-05-21 15:14:37,314 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,314 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:14:37,314 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60123
2015-05-21 15:14:37,316 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 2)
2015-05-21 15:14:37,314 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,316 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60192
2015-05-21 15:14:37,316 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,316 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,317 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,316 [myid:4] - INFO  [localhost/127.0.0.1:11235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:38692
2015-05-21 15:14:37,316 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:14:37,316 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,317 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,316 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,316 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:14:37,315 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,315 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41781
2015-05-21 15:14:37,315 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,315 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@758] - Exception when using channel: for id 2 my id = 1 error = java.net.SocketException: Broken pipe
2015-05-21 15:14:37,315 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,318 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41783
2015-05-21 15:14:37,318 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:14:37,318 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,317 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:14:37,318 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41790
2015-05-21 15:14:37,318 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@758] - Exception when using channel: for id 4 my id = 2 error = java.net.SocketException: Broken pipe
2015-05-21 15:14:37,317 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,317 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:14:37,317 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,319 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,317 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,316 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60125
2015-05-21 15:14:37,316 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,319 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41792
2015-05-21 15:14:37,318 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:14:37,318 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,318 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@758] - Exception when using channel: for id 3 my id = 2 error = java.net.SocketException: Broken pipe
2015-05-21 15:14:37,318 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,320 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41793
2015-05-21 15:14:37,320 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:14:37,320 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,320 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,320 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:14:37,320 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,319 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:14:37,319 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,321 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,321 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,320 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:14:37,320 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60131
2015-05-21 15:14:37,320 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,321 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,321 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,320 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,322 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,320 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,321 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,321 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,321 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,322 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,322 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,322 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,323 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,323 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,323 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,323 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,323 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:14:37,324 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,324 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,324 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,324 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,325 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,325 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,325 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,326 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,326 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,327 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,327 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,327 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,339 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:14:37,339 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:37,339 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,340 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,340 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,340 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,340 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,340 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,340 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,340 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,339 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,341 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,339 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,341 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,339 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,341 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,339 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,339 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:37,341 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,339 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:37,342 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,339 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,342 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:14:37,339 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,342 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:14:37,342 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:14:37,341 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:14:37,341 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,341 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,343 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:14:37,341 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:37,340 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:37,343 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:14:37,340 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:14:37,343 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:14:37,393 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:14:37,394 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46732
2015-05-21 15:14:37,398 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:46732
2015-05-21 15:14:37,399 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46732 (no session established for client)
2015-05-21 15:14:37,506 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:37,506 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:14:37,506 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:14:37,506 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:37,507 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11223
2015-05-21 15:14:37,507 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:14:37,508 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60133
2015-05-21 15:14:37,508 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:14:37,508 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,508 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46486
2015-05-21 15:14:37,508 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41798
2015-05-21 15:14:37,508 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:14:37,509 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46488
2015-05-21 15:14:37,509 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,509 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60203
2015-05-21 15:14:37,509 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 0)
2015-05-21 15:14:37,509 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,509 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46490
2015-05-21 15:14:37,509 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,509 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 0)
2015-05-21 15:14:37,509 [myid:4] - INFO  [localhost/127.0.0.1:11235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:38703
2015-05-21 15:14:37,510 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46492
2015-05-21 15:14:37,510 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,510 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,511 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,511 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,511 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,511 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,511 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,512 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,512 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,512 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:14:37,649 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:14:37,650 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46741
2015-05-21 15:14:37,651 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:46741
2015-05-21 15:14:37,652 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46741 (no session established for client)
2015-05-21 15:14:37,711 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:14:37,712 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:37,712 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:14:37,712 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:14:37,712 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:37,712 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:37,712 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:14:37,712 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:37,712 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=LeaderElection]
2015-05-21 15:14:37,713 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:14:37,714 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):Leader@63] - TCP NoDelay set to: true
2015-05-21 15:14:37,714 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):Leader@83] - zookeeper.leader.maxConcurrentSnapshots = 10
2015-05-21 15:14:37,714 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Learner@88] - TCP NoDelay set to: true
2015-05-21 15:14:37,714 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):Leader@85] - zookeeper.leader.maxConcurrentSnapshotTimeout = 5
2015-05-21 15:14:37,718 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:14:37,718 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:host.name=mitake-jiseki-PC
2015-05-21 15:14:37,718 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:java.version=1.7.0_75
2015-05-21 15:14:37,718 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:java.vendor=Oracle Corporation
2015-05-21 15:14:37,718 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:14:37,718 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:java.io.tmpdir=/tmp
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:java.compiler=<NA>
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:os.name=Linux
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:os.arch=amd64
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:os.version=3.13.0-45-generic
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:user.name=mitake
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:user.home=/home/mitake
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:os.memory.free=407MB
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:os.memory.max=491MB
2015-05-21 15:14:37,719 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Environment@109] - Server environment:os.memory.total=491MB
2015-05-21 15:14:37,720 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:37,720 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:37,720 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:37,720 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:37,720 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:37,720 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,720 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,720 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,721 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test874640971188849942.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test874640971188849942.junit.dir/data/version-2
2015-05-21 15:14:37,720 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test7486380019679801143.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test7486380019679801143.junit.dir/data/version-2
2015-05-21 15:14:37,721 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test4489426339885119434.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test4489426339885119434.junit.dir/data/version-2
2015-05-21 15:14:37,721 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:37,721 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test1135031942522922449.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test1135031942522922449.junit.dir/data/version-2
2015-05-21 15:14:37,721 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8194192849868649639.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8194192849868649639.junit.dir/data/version-2
2015-05-21 15:14:37,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 9
2015-05-21 15:14:37,721 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 10
2015-05-21 15:14:37,721 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 10
2015-05-21 15:14:37,721 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 9
2015-05-21 15:14:37,722 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 10
2015-05-21 15:14:37,724 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test1135031942522922449.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:37,732 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53406:LearnerHandler@361] - Follower sid: 3 : info : localhost:11231:11232:participant;localhost:11230
2015-05-21 15:14:37,732 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53407:LearnerHandler@361] - Follower sid: 0 : info : localhost:11222:11223:participant;localhost:11221
2015-05-21 15:14:37,732 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53408:LearnerHandler@361] - Follower sid: 1 : info : localhost:11225:11226:participant;localhost:11224
2015-05-21 15:14:37,732 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53409:LearnerHandler@361] - Follower sid: 2 : info : localhost:11228:11229:participant;localhost:11227
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53406:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53408:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53409:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53407:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53409:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53408:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53406:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 3
2015-05-21 15:14:37,748 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:53407:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:14:37,749 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:14:37,749 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:14:37,749 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:14:37,749 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:14:37,752 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:37,752 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:37,752 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:37,752 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:37,752 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8194192849868649639.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:37,752 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test4489426339885119434.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:37,752 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test874640971188849942.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:37,752 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test7486380019679801143.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:37,762 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2, 4] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:14:37,770 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:37,781 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:37,781 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:37,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:37,781 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:37,781 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:37,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:37,781 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:37,781 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:37,902 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:14:37,903 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46746
2015-05-21 15:14:37,905 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:46746
2015-05-21 15:14:37,906 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:37,906 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46746 (no session established for client)
2015-05-21 15:14:37,913 [myid:] - INFO  [main:Environment@109] - Client environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:14:37,913 [myid:] - INFO  [main:Environment@109] - Client environment:host.name=mitake-jiseki-PC
2015-05-21 15:14:37,913 [myid:] - INFO  [main:Environment@109] - Client environment:java.version=1.7.0_75
2015-05-21 15:14:37,913 [myid:] - INFO  [main:Environment@109] - Client environment:java.vendor=Oracle Corporation
2015-05-21 15:14:37,913 [myid:] - INFO  [main:Environment@109] - Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:14:37,913 [myid:] - INFO  [main:Environment@109] - Client environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:14:37,913 [myid:] - INFO  [main:Environment@109] - Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:java.io.tmpdir=/tmp
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:java.compiler=<NA>
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:os.name=Linux
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:os.arch=amd64
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:os.version=3.13.0-45-generic
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:user.name=mitake
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:user.home=/home/mitake
2015-05-21 15:14:37,914 [myid:] - INFO  [main:Environment@109] - Client environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:14:37,915 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.free=406MB
2015-05-21 15:14:37,915 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.max=491MB
2015-05-21 15:14:37,915 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.total=491MB
2015-05-21 15:14:37,916 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@16d19d73
2015-05-21 15:14:37,926 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:37,927 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46747
2015-05-21 15:14:37,927 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:46747, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:14:37,928 [myid:0] - INFO  [NIOWorkerThread-4:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:46747
2015-05-21 15:14:37,932 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:14:37,932 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:14:37,932 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:14:37,932 [myid:4] - INFO  [SyncThread:4:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:14:37,932 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:14:37,932 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:14:37,933 [myid:3] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:14:37,933 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:14:37,933 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:14:37,950 [myid:0] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x6278dd80000 with negotiated timeout 30000 for client /127.0.0.1:46747
2015-05-21 15:14:37,950 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x6278dd80000, negotiated timeout = 30000
2015-05-21 15:14:37,962 [myid:0] - INFO  [NIOWorkerThread-10:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x6278dd80000
2015-05-21 15:14:37,962 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x6278dd80000
2015-05-21 15:14:37,979 [myid:0] - INFO  [NIOWorkerThread-11:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x6278dd80000]
2015-05-21 15:14:37,979 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:37,979 [myid:0] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46747 which had sessionid 0x6278dd80000
2015-05-21 15:14:37,979 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x6278dd80000 closed
2015-05-21 15:14:37,979 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:14:37,980 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55713
2015-05-21 15:14:37,981 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:55713
2015-05-21 15:14:37,981 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:37,982 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55713 (no session established for client)
2015-05-21 15:14:37,982 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@16d19d73
2015-05-21 15:14:37,983 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:37,984 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:55714, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:14:37,984 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55714
2015-05-21 15:14:37,985 [myid:1] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:55714
2015-05-21 15:14:38,000 [myid:1] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x10006278dd80000 with negotiated timeout 30000 for client /127.0.0.1:55714
2015-05-21 15:14:38,001 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x10006278dd80000, negotiated timeout = 30000
2015-05-21 15:14:38,004 [myid:1] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x10006278dd80000
2015-05-21 15:14:38,005 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x10006278dd80000
2015-05-21 15:14:38,015 [myid:1] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x10006278dd80000]
2015-05-21 15:14:38,015 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:38,016 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55714 which had sessionid 0x10006278dd80000
2015-05-21 15:14:38,015 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x10006278dd80000 closed
2015-05-21 15:14:38,016 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:14:38,017 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33984
2015-05-21 15:14:38,018 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33984
2015-05-21 15:14:38,019 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:38,019 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33984 (no session established for client)
2015-05-21 15:14:38,020 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@16d19d73
2015-05-21 15:14:38,021 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:38,022 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33985, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:14:38,022 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33985
2015-05-21 15:14:38,023 [myid:2] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:33985
2015-05-21 15:14:38,034 [myid:2] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x20006278dd80000 with negotiated timeout 30000 for client /127.0.0.1:33985
2015-05-21 15:14:38,035 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x20006278dd80000, negotiated timeout = 30000
2015-05-21 15:14:38,041 [myid:2] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x20006278dd80000
2015-05-21 15:14:38,042 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x20006278dd80000
2015-05-21 15:14:38,052 [myid:2] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x20006278dd80000]
2015-05-21 15:14:38,052 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:38,052 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x20006278dd80000 closed
2015-05-21 15:14:38,052 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33985 which had sessionid 0x20006278dd80000
2015-05-21 15:14:38,053 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:14:38,054 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47203
2015-05-21 15:14:38,055 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47203
2015-05-21 15:14:38,055 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:38,056 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47203 (no session established for client)
2015-05-21 15:14:38,056 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11230 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@16d19d73
2015-05-21 15:14:38,057 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:38,058 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:47204, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:14:38,058 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47204
2015-05-21 15:14:38,059 [myid:3] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:47204
2015-05-21 15:14:38,077 [myid:3] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x30006278dd80000 with negotiated timeout 30000 for client /127.0.0.1:47204
2015-05-21 15:14:38,077 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x30006278dd80000, negotiated timeout = 30000
2015-05-21 15:14:38,083 [myid:3] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x30006278dd80000
2015-05-21 15:14:38,084 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x30006278dd80000
2015-05-21 15:14:38,100 [myid:3] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x30006278dd80000]
2015-05-21 15:14:38,100 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:38,100 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x30006278dd80000 closed
2015-05-21 15:14:38,101 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47204 which had sessionid 0x30006278dd80000
2015-05-21 15:14:38,101 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11233
2015-05-21 15:14:38,102 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55762
2015-05-21 15:14:38,103 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:55762
2015-05-21 15:14:38,103 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:38,104 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55762 (no session established for client)
2015-05-21 15:14:38,104 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11233 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@16d19d73
2015-05-21 15:14:38,105 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:38,105 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:55763, server: 127.0.0.1/127.0.0.1:11233
2015-05-21 15:14:38,106 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55763
2015-05-21 15:14:38,107 [myid:4] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:55763
2015-05-21 15:14:38,122 [myid:4] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x40006278de40000 with negotiated timeout 30000 for client /127.0.0.1:55763
2015-05-21 15:14:38,123 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11233, sessionid = 0x40006278de40000, negotiated timeout = 30000
2015-05-21 15:14:38,129 [myid:4] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x40006278de40000
2015-05-21 15:14:38,129 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x40006278de40000
2015-05-21 15:14:38,141 [myid:4] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x40006278de40000]
2015-05-21 15:14:38,141 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:38,141 [myid:4] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55763 which had sessionid 0x40006278de40000
2015-05-21 15:14:38,141 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x40006278de40000 closed
2015-05-21 15:14:38,144 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled)
2015-05-21 15:14:38,144 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testVersionOfDynamicFilename(ReconfigBackupTest.java:352)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:38,146 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:38,146 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:38,146 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:38,146 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:38,146 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:38,147 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:38,147 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:38,148 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:38,148 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:38,149 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:38,149 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:38,150 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:38,150 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:38,150 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:38,150 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:38,151 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,151 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,152 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,151 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,152 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:14:38,151 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,151 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,153 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,151 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,153 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,151 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,154 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,151 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,154 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,151 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,155 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:14:38,151 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,155 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,151 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,156 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:14:38,151 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:38,155 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,157 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:14:38,154 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,157 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:14:38,153 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,158 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:14:38,153 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,151 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled)
2015-05-21 15:14:38,151 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:14:38,158 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled) to exit thread
2015-05-21 15:14:38,156 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:38,159 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:38,159 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:14:39,782 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:14:39,782 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:39,782 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:39,783 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:39,783 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:14:39,783 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:14:39,783 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:14:39,784 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:14:39,784 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.3]
2015-05-21 15:14:39,784 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.4]
2015-05-21 15:14:39,785 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled)
2015-05-21 15:14:39,785 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testVersionOfDynamicFilename(ReconfigBackupTest.java:352)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:39,786 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:39,787 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:39,787 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:39,787 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:39,787 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:39,788 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:39,788 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:39,789 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:39,789 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:39,789 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:39,790 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:39,790 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:39,790 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:39,790 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:39,791 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:39,791 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:39,792 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:39,792 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:39,792 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:39,793 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:39,791 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled)
2015-05-21 15:14:39,791 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:39,791 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:39,794 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:39,791 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:39,795 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:39,791 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:39,795 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:14:39,791 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:39,791 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:39,796 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:39,796 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:14:39,797 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:39,795 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:39,797 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:14:39,794 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:39,793 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled) to exit thread
2015-05-21 15:14:39,792 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:39,798 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:14:39,792 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:14:39,797 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:14:40,321 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:40,511 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:40,512 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:40,512 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:41,782 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:14:41,782 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:41,782 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:41,783 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:41,783 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:14:41,783 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:14:41,783 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:14:41,783 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:14:41,784 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:14:41,784 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4]
2015-05-21 15:14:41,784 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled)
2015-05-21 15:14:41,784 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testVersionOfDynamicFilename(ReconfigBackupTest.java:352)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:41,786 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:41,786 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:41,786 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:41,787 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:41,787 [myid:2] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:41,787 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:41,787 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:41,788 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:41,788 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:41,789 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:41,789 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:41,790 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:41,790 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:41,790 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:41,791 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:41,791 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:41,791 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:14:41,791 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:41,791 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:41,792 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:41,791 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled)
2015-05-21 15:14:41,791 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:41,793 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:41,791 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:41,794 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:14:41,791 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:41,795 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:41,793 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled) to exit thread
2015-05-21 15:14:41,793 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:41,792 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:41,796 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:14:41,795 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:41,797 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:14:43,327 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:43,512 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:43,782 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:14:43,782 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:43,782 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:43,783 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:43,783 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:14:43,783 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:14:43,783 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:14:43,784 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:14:43,784 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:14:43,784 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4]
2015-05-21 15:14:43,785 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled)
2015-05-21 15:14:43,785 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testVersionOfDynamicFilename(ReconfigBackupTest.java:352)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:43,786 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:43,786 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:43,787 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:43,787 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:43,787 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:43,787 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:43,788 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:43,788 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:43,788 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:43,788 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:43,789 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:43,789 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:43,789 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:43,789 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:43,789 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:43,789 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:43,789 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:43,789 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled)
2015-05-21 15:14:43,789 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:43,790 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled) to exit thread
2015-05-21 15:14:43,790 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:43,789 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 3
2015-05-21 15:14:43,790 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:43,790 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:43,790 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 4
2015-05-21 15:14:45,782 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:14:45,782 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:45,782 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:45,783 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:45,783 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:14:45,783 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:14:45,783 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.0]
2015-05-21 15:14:45,783 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:14:45,783 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:14:45,783 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4]
2015-05-21 15:14:45,784 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled)
2015-05-21 15:14:45,784 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:14:45,785 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testVersionOfDynamicFilename(ReconfigBackupTest.java:352)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:45,786 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:45,786 [myid:4] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11234:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:14:45,786 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:14:45,787 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:14:45,787 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:14:45,787 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:14:45,787 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:14:45,787 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:45,788 [myid:4] - INFO  [CommitProcessor:4:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:45,788 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:14:45,789 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:45,789 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:45,789 [myid:4] - INFO  [SyncThread:4:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:45,790 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:14:45,791 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53408:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53408 ********
2015-05-21 15:14:45,791 [myid:4] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:45,791 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53408:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:45,791 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53409:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53409 ********
2015-05-21 15:14:45,792 [myid:4] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:45,791 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53406:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53406 ********
2015-05-21 15:14:45,791 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53407:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53407 ********
2015-05-21 15:14:45,792 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53406:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:45,792 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53409:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:45,791 [myid:4] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:45,791 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:45,792 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:53407:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:45,794 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader]
2015-05-21 15:14:45,794 [myid:4] - INFO  [localhost/127.0.0.1:11235:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:45,795 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:14:45,795 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled)
2015-05-21 15:14:45,796 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:14:45,796 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled) to exit thread
2015-05-21 15:14:45,796 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:45,796 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:45,797 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4]
2015-05-21 15:14:45,797 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4]
2015-05-21 15:14:45,797 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.0]
2015-05-21 15:14:45,798 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1]
2015-05-21 15:14:45,798 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2]
2015-05-21 15:14:45,798 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3]
2015-05-21 15:14:45,799 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 134775
2015-05-21 15:14:45,799 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 9
2015-05-21 15:14:45,799 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testVersionOfDynamicFilename
2015-05-21 15:14:45,799 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testVersionOfDynamicFilename
2015-05-21 15:14:45,800 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testVersionOfDynamicFilename
2015-05-21 15:14:45,802 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testBackupStatic
2015-05-21 15:14:45,802 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testBackupStatic
2015-05-21 15:14:45,802 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11236
2015-05-21 15:14:45,802 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11237
2015-05-21 15:14:45,802 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11238
2015-05-21 15:14:45,803 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11239
2015-05-21 15:14:45,803 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11240
2015-05-21 15:14:45,803 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11241
2015-05-21 15:14:45,803 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11242
2015-05-21 15:14:45,803 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11243
2015-05-21 15:14:45,803 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11244
2015-05-21 15:14:45,804 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test1717188883363561046.junit.dir clientPort = 11236 adminServerPort = 8080
2015-05-21 15:14:45,806 [myid:] - INFO  [Thread-10:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test1717188883363561046.junit.dir/zoo.cfg
2015-05-21 15:14:45,806 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8247187815712704778.junit.dir clientPort = 11239 adminServerPort = 8080
2015-05-21 15:14:45,806 [myid:] - INFO  [Thread-10:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11236
2015-05-21 15:14:45,806 [myid:] - INFO  [Thread-10:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:45,808 [myid:] - INFO  [Thread-11:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8247187815712704778.junit.dir/zoo.cfg
2015-05-21 15:14:45,808 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test4423242849012164121.junit.dir clientPort = 11242 adminServerPort = 8080
2015-05-21 15:14:45,808 [myid:] - INFO  [Thread-11:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11239
2015-05-21 15:14:45,808 [myid:] - INFO  [Thread-11:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:45,809 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:14:45,809 [myid:] - INFO  [Thread-12:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test4423242849012164121.junit.dir/zoo.cfg
2015-05-21 15:14:45,814 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11236 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testBackupStatic(ReconfigBackupTest.java:99)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:45,814 [myid:] - INFO  [Thread-12:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11242
2015-05-21 15:14:45,815 [myid:] - INFO  [Thread-12:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:45,819 [myid:0] - INFO  [Thread-10:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:45,819 [myid:0] - INFO  [Thread-10:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:45,819 [myid:0] - INFO  [Thread-10:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:45,819 [myid:0] - WARN  [Thread-10:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11236
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:45,820 [myid:0] - INFO  [Thread-10:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:45,821 [myid:0] - INFO  [Thread-10:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:45,821 [myid:0] - INFO  [Thread-10:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:45,826 [myid:2] - INFO  [Thread-12:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:45,826 [myid:1] - INFO  [Thread-11:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:45,826 [myid:2] - INFO  [Thread-12:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:45,826 [myid:2] - INFO  [Thread-12:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:45,826 [myid:1] - INFO  [Thread-11:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:45,826 [myid:1] - INFO  [Thread-11:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:45,826 [myid:2] - WARN  [Thread-12:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:45,826 [myid:1] - WARN  [Thread-11:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:45,827 [myid:2] - INFO  [Thread-12:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:45,827 [myid:1] - INFO  [Thread-11:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:45,827 [myid:2] - INFO  [Thread-12:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:45,827 [myid:1] - INFO  [Thread-11:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:45,827 [myid:2] - INFO  [Thread-12:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11242
2015-05-21 15:14:45,827 [myid:1] - INFO  [Thread-11:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11239
2015-05-21 15:14:45,827 [myid:2] - INFO  [Thread-12:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:45,828 [myid:1] - INFO  [Thread-11:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:45,828 [myid:1] - INFO  [Thread-11:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:45,828 [myid:2] - INFO  [Thread-12:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:45,828 [myid:1] - INFO  [Thread-11:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:45,828 [myid:2] - INFO  [Thread-12:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:45,828 [myid:1] - INFO  [Thread-11:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:45,828 [myid:2] - INFO  [Thread-12:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:45,828 [myid:1] - INFO  [Thread-11:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:45,828 [myid:2] - INFO  [Thread-12:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:45,828 [myid:1] - INFO  [Thread-11:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:45,828 [myid:2] - INFO  [Thread-12:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:45,829 [myid:1] - INFO  [Thread-11:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:45,829 [myid:2] - INFO  [Thread-12:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:45,833 [myid:0] - INFO  [Thread-10:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:45,840 [myid:1] - INFO  [Thread-11:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:45,840 [myid:2] - INFO  [Thread-12:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:45,847 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11238
2015-05-21 15:14:45,849 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:45,850 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:14:45,850 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11241
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:45,851 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11244
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:45,852 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,859 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11241
2015-05-21 15:14:45,859 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11244
2015-05-21 15:14:45,861 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:45,861 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:45,861 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:14:45,861 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:14:45,861 [myid:0] - INFO  [localhost/127.0.0.1:11238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36807
2015-05-21 15:14:45,862 [myid:1] - INFO  [localhost/127.0.0.1:11241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47366
2015-05-21 15:14:45,862 [myid:0] - INFO  [localhost/127.0.0.1:11238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36808
2015-05-21 15:14:45,863 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,863 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,863 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,864 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,864 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,864 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,864 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,864 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,864 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,865 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,865 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,865 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,865 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:45,865 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:46,065 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:14:46,065 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:14:46,065 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:14:46,065 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:14:46,066 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39963
2015-05-21 15:14:46,066 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:14:46,065 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:46,067 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:46,066 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:46,067 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:46,067 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:46,068 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:39963
2015-05-21 15:14:46,067 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test4423242849012164121.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test4423242849012164121.junit.dir/data/version-2
2015-05-21 15:14:46,067 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:46,068 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:39963 (no session established for client)
2015-05-21 15:14:46,068 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:46,069 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8247187815712704778.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8247187815712704778.junit.dir/data/version-2
2015-05-21 15:14:46,068 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 3
2015-05-21 15:14:46,068 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:46,069 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 4
2015-05-21 15:14:46,069 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test1717188883363561046.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test1717188883363561046.junit.dir/data/version-2
2015-05-21 15:14:46,070 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 4
2015-05-21 15:14:46,072 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test4423242849012164121.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:46,076 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:36179:LearnerHandler@361] - Follower sid: 0 : info : localhost:11237:11238:participant;localhost:11236
2015-05-21 15:14:46,076 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:36180:LearnerHandler@361] - Follower sid: 1 : info : localhost:11240:11241:participant;localhost:11239
2015-05-21 15:14:46,111 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:36179:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:14:46,111 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:36180:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:14:46,112 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:36179:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:14:46,112 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:36180:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:14:46,114 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:14:46,114 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:14:46,115 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:46,115 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:46,126 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8247187815712704778.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:46,126 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test1717188883363561046.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:46,135 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2],[1, 2] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:14:46,158 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:46,161 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:46,161 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:46,188 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:46,188 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:46,240 [myid:4] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:14:46,316 [myid:4] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:46,319 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:14:46,320 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39966
2015-05-21 15:14:46,320 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:46,321 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:39966
2015-05-21 15:14:46,321 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:46,322 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:39966 (no session established for client)
2015-05-21 15:14:46,324 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:14:46,324 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60061
2015-05-21 15:14:46,325 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60061
2015-05-21 15:14:46,325 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:46,326 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60061 (no session established for client)
2015-05-21 15:14:46,327 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:14:46,328 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37425
2015-05-21 15:14:46,329 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:37425
2015-05-21 15:14:46,329 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:46,330 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37425 (no session established for client)
2015-05-21 15:14:46,331 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled)
2015-05-21 15:14:46,331 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testBackupStatic(ReconfigBackupTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:46,332 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:46,332 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:46,332 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:46,332 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:46,332 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:46,332 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:46,332 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:46,333 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:46,333 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:46,333 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:46,334 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:46,334 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:46,334 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11236:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:46,334 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:46,335 [myid:0] - INFO  [localhost/127.0.0.1:11238:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:46,335 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:46,335 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:46,335 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:46,335 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:46,335 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled)
2015-05-21 15:14:46,335 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:46,335 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:46,336 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:46,336 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled) to exit thread
2015-05-21 15:14:46,336 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:46,336 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:14:46,336 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:46,336 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:14:46,336 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:46,337 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:46,337 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:46,337 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:14:46,337 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:14:46,512 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:46,513 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:48,162 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:14:48,162 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:48,162 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:48,163 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:48,163 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:14:48,163 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:14:48,163 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:14:48,164 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:14:48,164 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled)
2015-05-21 15:14:48,164 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testBackupStatic(ReconfigBackupTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:48,165 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:48,166 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:48,166 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:48,166 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:48,166 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:48,166 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:48,167 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:48,167 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:48,168 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:48,168 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:48,169 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:48,169 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:48,169 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11239:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:48,169 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:48,170 [myid:1] - INFO  [localhost/127.0.0.1:11241:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:48,171 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:48,171 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:48,171 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled)
2015-05-21 15:14:48,171 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:48,172 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled) to exit thread
2015-05-21 15:14:48,172 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:48,171 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:48,173 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:14:48,174 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:48,174 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:14:48,864 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:48,865 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:48,865 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:48,865 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:50,162 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:14:50,162 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:50,163 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:50,163 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:50,163 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:14:50,164 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:14:50,164 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:14:50,164 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:14:50,165 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled)
2015-05-21 15:14:50,165 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:14:50,165 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testBackupStatic(ReconfigBackupTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:50,166 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:50,166 [myid:2] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11243:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:14:50,166 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:14:50,167 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:14:50,167 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:14:50,167 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:14:50,168 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:14:50,168 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:50,168 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:50,169 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:14:50,169 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:50,169 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:50,169 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:50,170 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:14:50,171 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:36179:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:36179 ********
2015-05-21 15:14:50,171 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:50,171 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:50,171 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11242:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:50,171 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:50,171 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:36179:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:50,171 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:36180:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:36180 ********
2015-05-21 15:14:50,173 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:14:50,173 [myid:2] - INFO  [localhost/127.0.0.1:11244:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:50,173 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:14:50,174 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:14:50,173 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:36180:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:50,174 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:50,175 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:50,174 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled)
2015-05-21 15:14:50,175 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:14:50,175 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled) to exit thread
2015-05-21 15:14:50,176 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:14:50,176 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:14:50,176 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:14:50,177 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 18989
2015-05-21 15:14:50,177 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 7
2015-05-21 15:14:50,177 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testBackupStatic
2015-05-21 15:14:50,177 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testBackupStatic
2015-05-21 15:14:50,177 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testBackupStatic
2015-05-21 15:14:50,178 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testReconfigCreateNewVersionFile
2015-05-21 15:14:50,178 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testReconfigCreateNewVersionFile
2015-05-21 15:14:50,179 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11245
2015-05-21 15:14:50,179 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11246
2015-05-21 15:14:50,179 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11247
2015-05-21 15:14:50,179 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11248
2015-05-21 15:14:50,179 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11249
2015-05-21 15:14:50,179 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11250
2015-05-21 15:14:50,180 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11251
2015-05-21 15:14:50,180 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11252
2015-05-21 15:14:50,180 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11253
2015-05-21 15:14:50,180 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11254
2015-05-21 15:14:50,180 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11255
2015-05-21 15:14:50,181 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11256
2015-05-21 15:14:50,181 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11257
2015-05-21 15:14:50,181 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11258
2015-05-21 15:14:50,181 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11259
2015-05-21 15:14:50,182 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8226700842476568790.junit.dir clientPort = 11245 adminServerPort = 8080
2015-05-21 15:14:50,183 [myid:] - INFO  [Thread-15:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8226700842476568790.junit.dir/zoo.cfg
2015-05-21 15:14:50,183 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test5618190987001725757.junit.dir clientPort = 11248 adminServerPort = 8080
2015-05-21 15:14:50,183 [myid:] - INFO  [Thread-15:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11245
2015-05-21 15:14:50,183 [myid:] - INFO  [Thread-15:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:50,184 [myid:] - INFO  [Thread-16:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test5618190987001725757.junit.dir/zoo.cfg
2015-05-21 15:14:50,184 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test36356030920371504.junit.dir clientPort = 11251 adminServerPort = 8080
2015-05-21 15:14:50,184 [myid:] - INFO  [Thread-16:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11248
2015-05-21 15:14:50,184 [myid:] - INFO  [Thread-16:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:50,184 [myid:0] - INFO  [Thread-15:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:50,184 [myid:0] - INFO  [Thread-15:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:50,184 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:14:50,184 [myid:] - INFO  [Thread-17:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test36356030920371504.junit.dir/zoo.cfg
2015-05-21 15:14:50,185 [myid:1] - INFO  [Thread-16:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:50,185 [myid:1] - INFO  [Thread-16:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:50,185 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11245 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testReconfigCreateNewVersionFile(ReconfigBackupTest.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:50,184 [myid:0] - INFO  [Thread-15:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:50,185 [myid:] - INFO  [Thread-17:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11251
2015-05-21 15:14:50,186 [myid:] - INFO  [Thread-17:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:50,185 [myid:1] - INFO  [Thread-16:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:50,186 [myid:0] - WARN  [Thread-15:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:50,187 [myid:2] - INFO  [Thread-17:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:50,187 [myid:1] - WARN  [Thread-16:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:50,187 [myid:1] - INFO  [Thread-16:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:50,187 [myid:2] - INFO  [Thread-17:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:50,188 [myid:2] - INFO  [Thread-17:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:50,187 [myid:0] - INFO  [Thread-15:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:50,188 [myid:1] - INFO  [Thread-16:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:50,188 [myid:2] - WARN  [Thread-17:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:50,188 [myid:1] - INFO  [Thread-16:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11248
2015-05-21 15:14:50,188 [myid:0] - INFO  [Thread-15:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:50,188 [myid:2] - INFO  [Thread-17:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:50,189 [myid:1] - INFO  [Thread-16:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:50,189 [myid:2] - INFO  [Thread-17:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:50,189 [myid:0] - INFO  [Thread-15:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11245
2015-05-21 15:14:50,189 [myid:1] - INFO  [Thread-16:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:50,189 [myid:2] - INFO  [Thread-17:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11251
2015-05-21 15:14:50,189 [myid:1] - INFO  [Thread-16:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:50,189 [myid:1] - INFO  [Thread-16:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:50,189 [myid:1] - INFO  [Thread-16:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:50,189 [myid:1] - INFO  [Thread-16:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:50,189 [myid:0] - INFO  [Thread-15:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:50,189 [myid:2] - INFO  [Thread-17:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:50,190 [myid:2] - INFO  [Thread-17:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:50,189 [myid:0] - INFO  [Thread-15:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:50,190 [myid:1] - INFO  [Thread-16:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:50,190 [myid:0] - INFO  [Thread-15:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:50,190 [myid:0] - INFO  [Thread-15:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:50,190 [myid:2] - INFO  [Thread-17:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:50,190 [myid:0] - INFO  [Thread-15:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:50,190 [myid:2] - INFO  [Thread-17:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:50,191 [myid:2] - INFO  [Thread-17:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:50,191 [myid:2] - INFO  [Thread-17:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:50,190 [myid:0] - INFO  [Thread-15:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:50,191 [myid:2] - INFO  [Thread-17:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:50,191 [myid:0] - INFO  [Thread-15:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:50,197 [myid:1] - INFO  [Thread-16:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:50,204 [myid:2] - INFO  [Thread-17:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:50,204 [myid:0] - INFO  [Thread-15:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:50,217 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11250
2015-05-21 15:14:50,217 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:50,218 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:14:50,218 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11247
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:50,219 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11253
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:50,219 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,229 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11253
2015-05-21 15:14:50,229 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11247
2015-05-21 15:14:50,230 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:50,230 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:50,230 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:14:50,230 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:14:50,231 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43957
2015-05-21 15:14:50,231 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48683
2015-05-21 15:14:50,231 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:14:50,231 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,231 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48684
2015-05-21 15:14:50,232 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,232 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43960
2015-05-21 15:14:50,232 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,232 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,232 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,233 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,233 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,233 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,233 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,233 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,233 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,233 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,234 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,234 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:50,239 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:14:50,434 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:14:50,434 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:50,434 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:14:50,434 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:14:50,434 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:50,434 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:50,435 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:50,435 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:14:50,435 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:50,435 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5618190987001725757.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5618190987001725757.junit.dir/data/version-2
2015-05-21 15:14:50,435 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:50,436 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:14:50,436 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:14:50,435 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:50,437 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:50,436 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8226700842476568790.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8226700842476568790.junit.dir/data/version-2
2015-05-21 15:14:50,437 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test36356030920371504.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test36356030920371504.junit.dir/data/version-2
2015-05-21 15:14:50,437 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43281
2015-05-21 15:14:50,437 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11252
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:14:50,437 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:14:50,437 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 3
2015-05-21 15:14:50,438 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:43281
2015-05-21 15:14:50,439 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43281 (no session established for client)
2015-05-21 15:14:50,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test36356030920371504.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:50,441 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33104:LearnerHandler@361] - Follower sid: 0 : info : localhost:11246:11247:participant;localhost:11245
2015-05-21 15:14:50,463 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33104:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:14:50,464 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33104:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:14:50,465 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:14:50,466 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:50,489 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8226700842476568790.junit.dir/data/version-2/snapshot.0
2015-05-21 15:14:50,502 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 2],[0, 2] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:14:50,523 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:50,524 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:50,542 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:50,689 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:14:50,690 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43284
2015-05-21 15:14:50,691 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:43284
2015-05-21 15:14:50,692 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:50,692 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43284 (no session established for client)
2015-05-21 15:14:50,693 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11245 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@2333bf6d
2015-05-21 15:14:50,694 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:50,694 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:43285, server: 127.0.0.1/127.0.0.1:11245
2015-05-21 15:14:50,694 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43285
2015-05-21 15:14:50,696 [myid:0] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:43285
2015-05-21 15:14:50,698 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:14:50,698 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:14:50,698 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:14:50,722 [myid:0] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x627bf820000 with negotiated timeout 30000 for client /127.0.0.1:43285
2015-05-21 15:14:50,723 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11245, sessionid = 0x627bf820000, negotiated timeout = 30000
2015-05-21 15:14:50,726 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:14:50,727 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38014
2015-05-21 15:14:50,727 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:38014
2015-05-21 15:14:50,728 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:38014 (no session established for client)
2015-05-21 15:14:50,978 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:14:50,978 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38015
2015-05-21 15:14:50,979 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:38015
2015-05-21 15:14:50,980 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:38015 (no session established for client)
2015-05-21 15:14:51,230 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:14:51,231 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38016
2015-05-21 15:14:51,231 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:38016
2015-05-21 15:14:51,232 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:38016 (no session established for client)
2015-05-21 15:14:51,439 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33110:LearnerHandler@361] - Follower sid: 1 : info : localhost:11249:11250:participant;localhost:11248
2015-05-21 15:14:51,452 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33110:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000001 minCommittedLog=0x100000001 lastProcessedZxid=0x100000001 peerLastZxid=0x0
2015-05-21 15:14:51,455 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33110:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:14:51,458 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33110:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000001, send zxid of db as 0x100000001, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:14:51,458 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:14:51,459 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:51,472 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000001 to /home/mitake/github/zookeeper.git/build/test/tmp/test5618190987001725757.junit.dir/data/version-2/snapshot.100000001
2015-05-21 15:14:51,482 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:14:51,483 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38018
2015-05-21 15:14:51,484 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:38018
2015-05-21 15:14:51,484 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:51,485 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:38018 (no session established for client)
2015-05-21 15:14:51,502 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:51,735 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:14:51,735 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38019
2015-05-21 15:14:51,736 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:38019
2015-05-21 15:14:51,736 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:51,737 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:38019 (no session established for client)
2015-05-21 15:14:51,737 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11248 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@2333bf6d
2015-05-21 15:14:51,738 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:51,738 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38020
2015-05-21 15:14:51,738 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:38020, server: 127.0.0.1/127.0.0.1:11248
2015-05-21 15:14:51,738 [myid:1] - INFO  [NIOWorkerThread-6:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:38020
2015-05-21 15:14:51,740 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):Follower@122] - Got zxid 0x100000002 expected 0x1
2015-05-21 15:14:51,740 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000002
2015-05-21 15:14:51,747 [myid:1] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x1000627c3640000 with negotiated timeout 30000 for client /127.0.0.1:38020
2015-05-21 15:14:51,748 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11248, sessionid = 0x1000627c3640000, negotiated timeout = 30000
2015-05-21 15:14:51,750 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:14:51,751 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43414
2015-05-21 15:14:51,751 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:43414
2015-05-21 15:14:51,751 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:51,751 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43414 (no session established for client)
2015-05-21 15:14:51,752 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11251 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@2333bf6d
2015-05-21 15:14:51,752 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:51,753 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43415
2015-05-21 15:14:51,753 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:43415, server: 127.0.0.1/127.0.0.1:11251
2015-05-21 15:14:51,753 [myid:2] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:43415
2015-05-21 15:14:51,766 [myid:2] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x2000627bfbb0000 with negotiated timeout 30000 for client /127.0.0.1:43415
2015-05-21 15:14:51,767 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11251, sessionid = 0x2000627bfbb0000, negotiated timeout = 30000
2015-05-21 15:14:51,770 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@532] - Non-incremental reconfig
2015-05-21 15:14:51,773 [myid:2] - WARN  [ProcessThread(sid:2 cport:-1)::QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumPeer.connectNewPeers(QuorumPeer.java:1264)
	at org.apache.zookeeper.server.quorum.QuorumPeer.setLastSeenQuorumVerifier(QuorumPeer.java:1295)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1056)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:14:51,774 [myid:2] - WARN  [ProcessThread(sid:2 cport:-1)::QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11259
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumPeer.connectNewPeers(QuorumPeer.java:1264)
	at org.apache.zookeeper.server.quorum.QuorumPeer.setLastSeenQuorumVerifier(QuorumPeer.java:1295)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1056)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:14:51,789 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumPeer.connectNewPeers(QuorumPeer.java:1264)
	at org.apache.zookeeper.server.quorum.QuorumPeer.setLastSeenQuorumVerifier(QuorumPeer.java:1295)
	at org.apache.zookeeper.server.quorum.Follower.processPacket(Follower.java:132)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:90)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:14:51,789 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumPeer.connectNewPeers(QuorumPeer.java:1264)
	at org.apache.zookeeper.server.quorum.QuorumPeer.setLastSeenQuorumVerifier(QuorumPeer.java:1295)
	at org.apache.zookeeper.server.quorum.Follower.processPacket(Follower.java:132)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:90)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:14:51,790 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11259
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumPeer.connectNewPeers(QuorumPeer.java:1264)
	at org.apache.zookeeper.server.quorum.QuorumPeer.setLastSeenQuorumVerifier(QuorumPeer.java:1295)
	at org.apache.zookeeper.server.quorum.Follower.processPacket(Follower.java:132)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:90)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:14:51,791 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11259
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumPeer.connectNewPeers(QuorumPeer.java:1264)
	at org.apache.zookeeper.server.quorum.QuorumPeer.setLastSeenQuorumVerifier(QuorumPeer.java:1295)
	at org.apache.zookeeper.server.quorum.Follower.processPacket(Follower.java:132)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:90)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:14:51,836 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33104:QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:14:51,837 [myid:2] - INFO  [localhost/127.0.0.1:11253:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:51,837 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,837 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11253
2015-05-21 15:14:51,837 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,837 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,837 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,837 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,837 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,838 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,838 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:14:51,838 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,838 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,837 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:14:51,839 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,839 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,839 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:14:51,840 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,840 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:14:51,863 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:51,863 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:14:51,863 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:51,863 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:14:51,864 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,864 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11250
2015-05-21 15:14:51,864 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,864 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:51,864 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,864 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11247
2015-05-21 15:14:51,864 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,864 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,864 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,864 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:14:51,865 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:14:51,865 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test5908859594055226041.junit.dir clientPort = 11254 adminServerPort = 8080
2015-05-21 15:14:51,865 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:51,866 [myid:] - INFO  [Thread-20:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test5908859594055226041.junit.dir/zoo.cfg
2015-05-21 15:14:51,866 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 4 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test1333919657489980964.junit.dir clientPort = 11257 adminServerPort = 8080
2015-05-21 15:14:51,866 [myid:] - INFO  [Thread-20:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11254
2015-05-21 15:14:51,866 [myid:] - INFO  [Thread-20:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:51,867 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:14:51,867 [myid:] - WARN  [Thread-20:QuorumPeerConfig@558] - Non-optimial configuration, consider an odd number of servers.
2015-05-21 15:14:51,867 [myid:] - INFO  [Thread-21:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test1333919657489980964.junit.dir/zoo.cfg
2015-05-21 15:14:51,867 [myid:3] - INFO  [Thread-20:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:51,867 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11254 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testReconfigCreateNewVersionFile(ReconfigBackupTest.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:51,867 [myid:] - INFO  [Thread-21:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11257
2015-05-21 15:14:51,867 [myid:3] - INFO  [Thread-20:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:51,869 [myid:] - INFO  [Thread-21:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:14:51,869 [myid:3] - INFO  [Thread-20:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:51,869 [myid:3] - WARN  [Thread-20:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:51,869 [myid:3] - INFO  [Thread-20:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:51,869 [myid:] - WARN  [Thread-21:QuorumPeerConfig@558] - Non-optimial configuration, consider an odd number of servers.
2015-05-21 15:14:51,870 [myid:3] - INFO  [Thread-20:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:51,870 [myid:4] - INFO  [Thread-21:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:14:51,870 [myid:4] - INFO  [Thread-21:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:14:51,870 [myid:3] - INFO  [Thread-20:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11254
2015-05-21 15:14:51,870 [myid:4] - INFO  [Thread-21:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:14:51,871 [myid:4] - WARN  [Thread-21:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:51,871 [myid:3] - INFO  [Thread-20:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:51,871 [myid:4] - INFO  [Thread-21:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:14:51,871 [myid:3] - INFO  [Thread-20:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:51,871 [myid:3] - INFO  [Thread-20:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:51,871 [myid:4] - INFO  [Thread-21:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:14:51,872 [myid:3] - INFO  [Thread-20:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:51,872 [myid:3] - INFO  [Thread-20:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:51,872 [myid:3] - INFO  [Thread-20:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:51,872 [myid:4] - INFO  [Thread-21:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11257
2015-05-21 15:14:51,872 [myid:4] - INFO  [Thread-21:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:14:51,872 [myid:4] - INFO  [Thread-21:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:14:51,872 [myid:3] - INFO  [Thread-20:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:51,872 [myid:4] - INFO  [Thread-21:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:14:51,872 [myid:4] - INFO  [Thread-21:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:14:51,873 [myid:4] - INFO  [Thread-21:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:14:51,873 [myid:4] - INFO  [Thread-21:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:14:51,873 [myid:4] - INFO  [Thread-21:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:51,884 [myid:3] - INFO  [Thread-20:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:51,895 [myid:4] - INFO  [Thread-21:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:14:51,904 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11256
2015-05-21 15:14:51,905 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:51,905 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:14:51,906 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43982
2015-05-21 15:14:51,906 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48708
2015-05-21 15:14:51,907 [myid:2] - INFO  [localhost/127.0.0.1:11253:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51095
2015-05-21 15:14:51,907 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:14:51,907 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:14:51,908 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:51,909 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:14:51,909 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@294] - 3 Received version: 100000004 my version: 0
2015-05-21 15:14:51,911 [myid:4] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11259
2015-05-21 15:14:51,913 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:51,913 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x0
2015-05-21 15:14:51,914 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43985
2015-05-21 15:14:51,915 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48711
2015-05-21 15:14:51,916 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:14:51,916 [myid:2] - INFO  [localhost/127.0.0.1:11253:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51098
2015-05-21 15:14:51,917 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:14:51,917 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:14:51,917 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:14:51,917 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@294] - 4 Received version: 100000004 my version: 0
2015-05-21 15:14:51,936 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:14:51,936 [myid:3] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:51,937 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,937 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,937 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,937 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:14:51,937 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,937 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,937 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:51,937 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,939 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,937 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,939 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,937 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,940 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:14:51,937 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,940 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:14:51,939 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,938 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,938 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,938 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:51,938 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:14:51,938 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,938 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,940 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11256
2015-05-21 15:14:51,940 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:14:51,941 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,940 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,941 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:14:51,941 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:14:51,941 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:14:51,941 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43988
2015-05-21 15:14:51,942 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48714
2015-05-21 15:14:51,942 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,943 [myid:2] - INFO  [localhost/127.0.0.1:11253:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51101
2015-05-21 15:14:51,943 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,943 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,944 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)100000004 (n.config version)
2015-05-21 15:14:51,944 [myid:4] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47948
2015-05-21 15:14:51,944 [myid:3] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 3)
2015-05-21 15:14:51,944 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,944 [myid:3] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35485
2015-05-21 15:14:51,944 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,945 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,945 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,945 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,945 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:14:51,946 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:51,946 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,946 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:51,946 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:51,946 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5908859594055226041.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5908859594055226041.junit.dir/data/version-2
2015-05-21 15:14:51,946 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:14:51,946 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33134:LearnerHandler@361] - Follower sid: 3 : info : localhost:11255:11256:participant;localhost:11254
2015-05-21 15:14:51,948 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:14:51,948 [myid:4] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:51,949 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,949 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,950 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=LeaderElection]
2015-05-21 15:14:51,949 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,949 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,949 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,949 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,951 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,951 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,950 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:14:51,950 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:51,950 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:14:51,950 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,950 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,952 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 4
2015-05-21 15:14:51,950 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,952 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,950 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,953 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,950 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:51,949 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:51,953 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,949 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,949 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,953 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:14:51,953 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,953 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,952 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x0
2015-05-21 15:14:51,952 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,952 [myid:4] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11259
2015-05-21 15:14:51,952 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,951 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:51,954 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43994
2015-05-21 15:14:51,954 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:14:51,954 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 3
2015-05-21 15:14:51,954 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:14:51,954 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:51,955 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48720
2015-05-21 15:14:51,955 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:14:51,956 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,956 [myid:2] - INFO  [localhost/127.0.0.1:11253:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51107
2015-05-21 15:14:51,956 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,957 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,957 [myid:3] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35490
2015-05-21 15:14:51,958 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)100000004 (n.config version)
2015-05-21 15:14:51,958 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,958 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,959 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,959 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33134:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x100000004 minCommittedLog=0x100000001 lastProcessedZxid=0x100000004 peerLastZxid=0x0
2015-05-21 15:14:51,959 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,959 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:51,959 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=LeaderElection]
2015-05-21 15:14:51,960 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33134:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:14:51,960 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:14:51,960 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,960 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:14:51,960 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:14:51,960 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:14:51,960 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test1333919657489980964.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test1333919657489980964.junit.dir/data/version-2
2015-05-21 15:14:51,960 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33134:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000004, send zxid of db as 0x100000004, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:14:51,960 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:14:51,960 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,961 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,961 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,961 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:51,961 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,961 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33139:LearnerHandler@361] - Follower sid: 4 : info : localhost:11258:11259:participant;localhost:11257
2015-05-21 15:14:51,961 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5908859594055226041.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:14:51,961 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000004 (n.config version)
2015-05-21 15:14:51,972 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33139:LearnerHandler@659] - Synchronizing with Follower sid: 4 maxCommittedLog=0x100000004 minCommittedLog=0x100000001 lastProcessedZxid=0x100000004 peerLastZxid=0x0
2015-05-21 15:14:51,973 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33139:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:14:51,973 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:14:51,973 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:33139:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000004, send zxid of db as 0x100000004, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:14:51,974 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:14:51,974 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test1333919657489980964.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:14:51,981 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:51,981 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:51,988 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:14:51,988 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:14:52,119 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:14:52,119 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43622
2015-05-21 15:14:52,121 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:43622
2015-05-21 15:14:52,121 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:52,122 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43622 (no session established for client)
2015-05-21 15:14:52,122 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11254 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@2333bf6d
2015-05-21 15:14:52,123 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:14:52,123 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:52,124 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48858
2015-05-21 15:14:52,124 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43624
2015-05-21 15:14:52,124 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:43624, server: 127.0.0.1/127.0.0.1:11254
2015-05-21 15:14:52,125 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48858
2015-05-21 15:14:52,126 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:14:52,126 [myid:3] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:43624
2015-05-21 15:14:52,126 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48858 (no session established for client)
2015-05-21 15:14:52,127 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11257 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigBackupTest@2333bf6d
2015-05-21 15:14:52,128 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):Follower@122] - Got zxid 0x100000005 expected 0x1
2015-05-21 15:14:52,128 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):Follower@122] - Got zxid 0x100000005 expected 0x1
2015-05-21 15:14:52,128 [myid:3] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:14:52,128 [myid:4] - INFO  [SyncThread:4:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:14:52,128 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11257. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:52,129 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48860
2015-05-21 15:14:52,129 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:48860, server: 127.0.0.1/127.0.0.1:11257
2015-05-21 15:14:52,131 [myid:4] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:48860
2015-05-21 15:14:52,139 [myid:3] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x3000627c55a0000 with negotiated timeout 30000 for client /127.0.0.1:43624
2015-05-21 15:14:52,140 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11254, sessionid = 0x3000627c55a0000, negotiated timeout = 30000
2015-05-21 15:14:52,151 [myid:4] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x4000627c5660000 with negotiated timeout 30000 for client /127.0.0.1:48860
2015-05-21 15:14:52,151 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11257, sessionid = 0x4000627c5660000, negotiated timeout = 30000
2015-05-21 15:14:52,159 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled)
2015-05-21 15:14:52,159 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testReconfigCreateNewVersionFile(ReconfigBackupTest.java:233)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:52,160 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x627bf820000]
2015-05-21 15:14:52,160 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43285 which had sessionid 0x627bf820000
2015-05-21 15:14:52,160 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:52,161 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:52,161 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x627bf820000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:14:52,161 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:52,161 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:52,161 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:52,161 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:52,162 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:52,163 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:52,163 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:52,163 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:52,163 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:52,165 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11245:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:52,165 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:52,166 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:52,166 [myid:0] - INFO  [localhost/127.0.0.1:11247:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:52,166 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:52,167 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled)
2015-05-21 15:14:52,168 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:14:52,167 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:52,167 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:52,167 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:52,166 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:52,166 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:52,169 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:52,169 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:52,169 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:14:52,168 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:52,168 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:52,168 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled) to exit thread
2015-05-21 15:14:52,170 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:52,170 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:52,171 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:14:52,171 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:14:52,525 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:14:52,526 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:52,526 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:52,526 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:52,526 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:14:52,527 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:14:52,527 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:14:52,527 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:14:52,527 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.3]
2015-05-21 15:14:52,528 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.4]
2015-05-21 15:14:53,231 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:53,233 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:53,233 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:53,234 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:53,234 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:53,234 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:53,758 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:53,860 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x627bf820000 closed
2015-05-21 15:14:53,860 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:53,860 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled)
2015-05-21 15:14:53,861 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testReconfigCreateNewVersionFile(ReconfigBackupTest.java:233)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:53,862 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000627c3640000]
2015-05-21 15:14:53,863 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:38020 which had sessionid 0x1000627c3640000
2015-05-21 15:14:53,863 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:53,863 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000627c3640000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:14:53,863 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:53,863 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:53,864 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:53,864 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:53,864 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:53,864 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:53,865 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:53,865 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:53,865 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:53,865 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:53,865 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11248:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:53,866 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:53,866 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:53,866 [myid:1] - INFO  [localhost/127.0.0.1:11250:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:53,866 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:53,867 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled)
2015-05-21 15:14:53,866 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:53,866 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:53,866 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:53,866 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:53,866 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:53,868 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:53,868 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:53,867 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:14:53,867 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:53,867 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled) to exit thread
2015-05-21 15:14:53,867 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:14:53,868 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:53,868 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:53,869 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:14:53,869 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:53,869 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:14:54,525 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:14:54,526 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:54,526 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:54,526 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:54,526 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:14:54,527 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:14:54,527 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:14:54,527 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:14:54,527 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:14:54,528 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4]
2015-05-21 15:14:54,907 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:54,916 [myid:4] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:54,956 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:54,956 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:54,957 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:14:54,957 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:14:55,324 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:14:55,425 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000627c3640000 closed
2015-05-21 15:14:55,425 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:55,425 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled)
2015-05-21 15:14:55,425 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:14:55,425 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigBackupTest.testReconfigCreateNewVersionFile(ReconfigBackupTest.java:233)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:14:55,426 [myid:2] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11252:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:14:55,426 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x2000627bfbb0000]
2015-05-21 15:14:55,427 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43415 which had sessionid 0x2000627bfbb0000
2015-05-21 15:14:55,427 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:14:55,427 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000627bfbb0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:14:55,427 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:14:55,427 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:14:55,428 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:14:55,428 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:14:55,428 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:14:55,428 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:14:55,428 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:55,428 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:14:55,428 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:55,428 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:55,428 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:55,429 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:14:55,429 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33110:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:33110 ********
2015-05-21 15:14:55,429 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33104:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:33104 ********
2015-05-21 15:14:55,429 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:14:55,429 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33104:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:55,430 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower]
2015-05-21 15:14:55,429 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:14:55,430 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:55,430 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:55,430 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11251:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:14:55,429 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33110:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:55,429 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33139:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:33139 ********
2015-05-21 15:14:55,429 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33134:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:33134 ********
2015-05-21 15:14:55,429 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:14:55,430 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33134:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:55,430 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:33139:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:14:55,430 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:14:55,430 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x4000627c5660000]
2015-05-21 15:14:55,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:14:55,431 [myid:2] - INFO  [localhost/127.0.0.1:11253:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:14:55,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:14:55,432 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:55,432 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x3000627c55a0000]
2015-05-21 15:14:55,431 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:14:55,432 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43624 which had sessionid 0x3000627c55a0000
2015-05-21 15:14:55,432 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:55,432 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled)
2015-05-21 15:14:55,432 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:55,432 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:55,433 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:55,432 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:55,432 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:55,432 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:14:55,433 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:55,431 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:55,431 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48860 which had sessionid 0x4000627c5660000
2015-05-21 15:14:55,433 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:14:55,434 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:55,434 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:14:55,433 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:14:55,434 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:14:55,433 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:14:55,433 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:14:55,433 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:14:55,432 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled) to exit thread
2015-05-21 15:14:55,432 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000627c55a0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:14:55,432 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:14:55,432 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:14:55,434 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:14:55,434 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:55,434 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x4000627c5660000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:14:55,435 [myid:4] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:55,435 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:14:55,434 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:14:55,434 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:14:55,435 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:14:55,435 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:14:55,435 [myid:4] - INFO  [CommitProcessor:4:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:55,435 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:14:55,435 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:55,435 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:55,435 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:14:55,436 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:55,436 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:14:55,436 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:14:55,436 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:14:55,436 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:55,436 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:14:55,436 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:14:55,437 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:55,437 [myid:4] - INFO  [SyncThread:4:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:14:55,437 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:55,437 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:14:55,437 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:55,437 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:14:55,437 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:14:55,438 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:14:55,438 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:14:55,438 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5908859594055226041.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:14:55,438 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4]
2015-05-21 15:14:55,439 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test1333919657489980964.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:14:55,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x100000006
2015-05-21 15:14:55,441 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11257)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x100000006
2015-05-21 15:14:55,442 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11247
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,442 [myid:4] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11247
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,443 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11250
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,443 [myid:4] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11250
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,444 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11253
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,444 [myid:4] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11253
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,445 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000006 (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:55,445 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000006 (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:55,446 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000006 (n.zxid), 0x0 (n.round), LOOKING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:55,446 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000006 (n.zxid), 0x0 (n.round), LOOKING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:55,446 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11247
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,447 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11250
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,448 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11253
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:14:55,449 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000006 (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:55,449 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000006 (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000004 (n.config version)
2015-05-21 15:14:55,528 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000627bfbb0000 closed
2015-05-21 15:14:55,528 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:14:55,528 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 60394
2015-05-21 15:14:55,528 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 46
2015-05-21 15:14:55,529 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testReconfigCreateNewVersionFile
2015-05-21 15:14:55,529 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testReconfigCreateNewVersionFile
2015-05-21 15:14:55,529 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testReconfigCreateNewVersionFile
------------- ---------------- ---------------

Testcase: testVersionOfDynamicFilename took 8.698 sec
Testcase: testBackupStatic took 4.375 sec
Testcase: testReconfigCreateNewVersionFile took 5.351 sec
