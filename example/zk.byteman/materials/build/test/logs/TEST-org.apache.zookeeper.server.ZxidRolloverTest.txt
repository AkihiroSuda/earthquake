Testsuite: org.apache.zookeeper.server.ZxidRolloverTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 69.343 sec
------------- Standard Output ---------------
2015-05-21 15:09:30,768 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testRolloverThenRestart
2015-05-21 15:09:30,790 [myid:] - INFO  [main:Environment@109] - Server environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:09:30,792 [myid:] - INFO  [main:Environment@109] - Server environment:host.name=mitake-jiseki-PC
2015-05-21 15:09:30,792 [myid:] - INFO  [main:Environment@109] - Server environment:java.version=1.7.0_75
2015-05-21 15:09:30,792 [myid:] - INFO  [main:Environment@109] - Server environment:java.vendor=Oracle Corporation
2015-05-21 15:09:30,792 [myid:] - INFO  [main:Environment@109] - Server environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:09:30,792 [myid:] - INFO  [main:Environment@109] - Server environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:java.io.tmpdir=/tmp
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:java.compiler=<NA>
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:os.name=Linux
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:os.arch=amd64
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:os.version=3.13.0-45-generic
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:user.name=mitake
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:user.home=/home/mitake
2015-05-21 15:09:30,793 [myid:] - INFO  [main:Environment@109] - Server environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:09:30,795 [myid:] - INFO  [main:Environment@109] - Server environment:os.memory.free=480MB
2015-05-21 15:09:30,795 [myid:] - INFO  [main:Environment@109] - Server environment:os.memory.max=491MB
2015-05-21 15:09:30,795 [myid:] - INFO  [main:Environment@109] - Server environment:os.memory.total=491MB
2015-05-21 15:09:30,930 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11221
2015-05-21 15:09:30,932 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11222
2015-05-21 15:09:30,933 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11223
2015-05-21 15:09:30,933 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11224
2015-05-21 15:09:30,933 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11225
2015-05-21 15:09:30,933 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11226
2015-05-21 15:09:30,934 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11227
2015-05-21 15:09:30,934 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11228
2015-05-21 15:09:30,934 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11229
2015-05-21 15:09:30,934 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 1; public port 11221
2015-05-21 15:09:30,945 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:30,949 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11221
2015-05-21 15:09:30,970 [myid:] - INFO  [main:Slf4jLog@67] - Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
2015-05-21 15:09:31,001 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 2; public port 11224
2015-05-21 15:09:31,001 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:31,002 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11224
2015-05-21 15:09:31,002 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 3; public port 11227
2015-05-21 15:09:31,002 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:31,002 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11227
2015-05-21 15:09:31,003 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:09:31,003 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:09:31,003 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:09:31,004 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:09:31,004 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:09:31,004 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:09:31,004 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:09:31,004 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:09:31,004 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:09:31,005 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:31,005 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:31,005 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:31,006 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:31,006 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:31,006 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:31,006 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11221
2015-05-21 15:09:31,006 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:31,006 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11221
2015-05-21 15:09:31,009 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:31,018 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:31,031 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:31,054 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:31,054 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@37e45013: java.net.BindException: Address already in use
2015-05-21 15:09:31,058 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:31,062 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12223
2015-05-21 15:09:31,064 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:09:31,065 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11224
2015-05-21 15:09:31,065 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:31,065 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11224
2015-05-21 15:09:31,066 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:31,070 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:31,071 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:09:31,073 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:12226
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:31,074 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:31,075 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,078 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:31,090 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:31,090 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:31,090 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@6f83405f: java.net.BindException: Address already in use
2015-05-21 15:09:31,090 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:31,091 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12226
2015-05-21 15:09:31,091 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:09:31,092 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11227
2015-05-21 15:09:31,092 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:31,092 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11227
2015-05-21 15:09:31,092 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:31,092 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:09:31,093 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:31,093 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51724
2015-05-21 15:09:31,095 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:31,095 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,096 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,096 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,096 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,096 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:31,097 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,103 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:31,112 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:31,112 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:31,112 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@29c78124: java.net.BindException: Address already in use
2015-05-21 15:09:31,112 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:31,113 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12229
2015-05-21 15:09:31,113 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:09:31,113 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11221,127.0.0.1:11224,127.0.0.1:11227
2015-05-21 15:09:31,114 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:31,114 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:31,114 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:09:31,115 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51728
2015-05-21 15:09:31,115 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44585
2015-05-21 15:09:31,115 [myid:] - INFO  [/127.0.0.1:12226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56518
2015-05-21 15:09:31,116 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,116 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,117 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,117 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,117 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,117 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,117 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,117 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,118 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,118 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,118 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:31,119 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44585
2015-05-21 15:09:31,120 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44585 (no session established for client)
2015-05-21 15:09:31,318 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:31,318 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:31,318 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:31,318 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:31,319 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:31,318 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:31,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@63] - TCP NoDelay set to: true
2015-05-21 15:09:31,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@83] - zookeeper.leader.maxConcurrentSnapshots = 10
2015-05-21 15:09:31,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@85] - zookeeper.leader.maxConcurrentSnapshotTimeout = 5
2015-05-21 15:09:31,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@88] - TCP NoDelay set to: true
2015-05-21 15:09:31,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:31,323 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:31,323 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:31,324 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:31,324 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:31,324 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2
2015-05-21 15:09:31,324 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:31,324 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2
2015-05-21 15:09:31,324 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2
2015-05-21 15:09:31,325 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 6
2015-05-21 15:09:31,325 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 6
2015-05-21 15:09:31,325 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 7
2015-05-21 15:09:31,328 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.0
2015-05-21 15:09:31,334 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35277:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12222:12223:participant;127.0.0.1:11221
2015-05-21 15:09:31,334 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35278:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12225:12226:participant;127.0.0.1:11224
2015-05-21 15:09:31,354 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35277:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:09:31,355 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35277:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:09:31,355 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35278:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:09:31,355 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35278:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:09:31,356 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:09:31,356 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:09:31,360 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:31,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:31,370 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:31,371 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44590
2015-05-21 15:09:31,371 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44590
2015-05-21 15:09:31,371 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44590 (no session established for client)
2015-05-21 15:09:31,378 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.0
2015-05-21 15:09:31,378 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.0
2015-05-21 15:09:31,389 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3],[1, 3] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:09:31,389 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:31,394 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:31,400 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:31,400 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:31,400 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:31,400 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:31,401 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:31,401 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:31,622 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:31,623 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44591
2015-05-21 15:09:31,624 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44591
2015-05-21 15:09:31,625 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:31,626 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44591 (no session established for client)
2015-05-21 15:09:31,626 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11221 is accepting client connections
2015-05-21 15:09:31,627 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:31,628 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53557
2015-05-21 15:09:31,629 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53557
2015-05-21 15:09:31,629 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:31,630 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53557 (no session established for client)
2015-05-21 15:09:31,630 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11224 is accepting client connections
2015-05-21 15:09:31,631 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:31,631 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60060
2015-05-21 15:09:31,633 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60060
2015-05-21 15:09:31,633 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:31,634 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60060 (no session established for client)
2015-05-21 15:09:31,634 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11227 is accepting client connections
2015-05-21 15:09:31,634 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:09:31,645 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:31,646 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:31,646 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:31,646 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:31,646 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:31,646 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:31,646 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:31,647 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:31,647 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:31,647 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:31,647 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:31,647 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:31,647 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:31,647 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:31,648 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:31,648 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:09:31,648 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:31,648 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:31,651 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:09:31,651 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:31,651 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:31,652 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:31,653 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:09:31,654 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:31,655 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:09:31,655 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:31,655 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:09:31,655 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:31,659 [myid:] - INFO  [main:Environment@109] - Client environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:09:31,659 [myid:] - INFO  [main:Environment@109] - Client environment:host.name=mitake-jiseki-PC
2015-05-21 15:09:31,659 [myid:] - INFO  [main:Environment@109] - Client environment:java.version=1.7.0_75
2015-05-21 15:09:31,659 [myid:] - INFO  [main:Environment@109] - Client environment:java.vendor=Oracle Corporation
2015-05-21 15:09:31,659 [myid:] - INFO  [main:Environment@109] - Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:java.io.tmpdir=/tmp
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:java.compiler=<NA>
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:os.name=Linux
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:os.arch=amd64
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:os.version=3.13.0-45-generic
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:user.name=mitake
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:user.home=/home/mitake
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.free=410MB
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.max=491MB
2015-05-21 15:09:31,660 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.total=491MB
2015-05-21 15:09:31,662 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@403576e9
2015-05-21 15:09:31,668 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@5fc2fc59
2015-05-21 15:09:31,669 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@447f1499
2015-05-21 15:09:31,670 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:31,670 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:31,670 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:31,671 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60061
2015-05-21 15:09:31,671 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53561, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:09:31,671 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44595, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:09:31,671 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60061, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:09:31,671 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53561
2015-05-21 15:09:31,671 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44595
2015-05-21 15:09:31,673 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:60061
2015-05-21 15:09:31,673 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:53561
2015-05-21 15:09:31,673 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:44595
2015-05-21 15:09:31,675 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:09:31,675 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:09:31,675 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:09:31,675 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:09:31,675 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:09:31,691 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x2000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:53561
2015-05-21 15:09:31,691 [myid:] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x3000622e11f0000 with negotiated timeout 30000 for client /127.0.0.1:60061
2015-05-21 15:09:31,691 [myid:] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x1000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:44595
2015-05-21 15:09:31,693 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x3000622e11f0000, negotiated timeout = 30000
2015-05-21 15:09:31,693 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x1000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:31,694 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x2000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:31,695 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2015-05-21 15:09:31,708 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.100000003
2015-05-21 15:09:31,715 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:09:31,715 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.100000004
2015-05-21 15:09:31,727 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000006
2015-05-21 15:09:31,727 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.100000005
2015-05-21 15:09:31,747 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000007
2015-05-21 15:09:31,769 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000007 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.100000007
2015-05-21 15:09:31,777 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000009
2015-05-21 15:09:31,787 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.100000009
2015-05-21 15:09:31,796 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.10000000b
2015-05-21 15:09:31,796 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x10000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.10000000a
2015-05-21 15:09:31,810 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.10000000c
2015-05-21 15:09:31,832 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x10000000c to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.10000000c
2015-05-21 15:09:31,843 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2015-05-21 15:09:31,844 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.1fffffffd
2015-05-21 15:09:31,844 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x10000000e
2015-05-21 15:09:31,844 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x10000000e
2015-05-21 15:09:31,854 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35278:Leader@719] - Commiting zxid 0x1fffffffd from /127.0.0.1:12228 not first!
2015-05-21 15:09:31,854 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35278:Leader@721] - First is 4294967310
2015-05-21 15:09:31,856 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x1fffffffd to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:31,856 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x1fffffffd to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:31,864 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:09:31,864 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:09:31,864 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12228:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:09:31,864 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000622e11f0000]
2015-05-21 15:09:31,865 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60061 which had sessionid 0x3000622e11f0000
2015-05-21 15:09:31,865 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:09:31,865 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:09:31,865 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000622e11f0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:31,865 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:09:31,865 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:09:31,865 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:09:31,865 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:09:31,866 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:31,866 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:09:31,866 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:31,866 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:31,866 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:31,866 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:09:31,867 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35277:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35277 ********
2015-05-21 15:09:31,867 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35278:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35278 ********
2015-05-21 15:09:31,867 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35277:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:31,867 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:09:31,867 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:31,867 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:31,867 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:09:31,867 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:09:31,867 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35278:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:31,868 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2015-05-21 15:09:31,868 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:09:31,868 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:31,868 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:31,869 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000622e1000000]
2015-05-21 15:09:31,869 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:31,869 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53561 which had sessionid 0x2000622e1000000
2015-05-21 15:09:31,869 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:31,869 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:31,869 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000622e1000000]
2015-05-21 15:09:31,869 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:31,870 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44595 which had sessionid 0x1000622e1000000
2015-05-21 15:09:31,870 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:31,870 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:31,870 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:31,870 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:31,870 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:31,870 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:31,870 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:31,871 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:31,871 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:31,871 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:31,871 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:31,871 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:31,872 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:31,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:31,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:31,872 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:31,872 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:31,872 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:31,872 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:31,873 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:31,873 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:31,873 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:31,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:31,876 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:31,876 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:31,879 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x1fffffffe
2015-05-21 15:09:31,879 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x1fffffffe
2015-05-21 15:09:31,879 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,879 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,880 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:31,880 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,880 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,880 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:31,880 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,881 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,881 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,882 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:31,882 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:31,883 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:32,082 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:32,082 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:32,082 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:32,082 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:32,082 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2
2015-05-21 15:09:32,083 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:09:32,083 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:32,083 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:32,084 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:32,084 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:32,084 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:32,084 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2
2015-05-21 15:09:32,084 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:32,086 [myid:] - INFO  [LearnerHandler-/127.0.0.1:40160:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12222:12223:participant;127.0.0.1:11221
2015-05-21 15:09:32,107 [myid:] - INFO  [LearnerHandler-/127.0.0.1:40160:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x1fffffffe lastProcessedZxid=0x1fffffffe peerLastZxid=0x1fffffffe
2015-05-21 15:09:32,107 [myid:] - INFO  [LearnerHandler-/127.0.0.1:40160:LearnerHandler@703] - Sending DIFF zxid=0x1fffffffe for peer sid: 1
2015-05-21 15:09:32,108 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:09:32,109 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:32,110 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:32,131 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:09:32,131 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:32,132 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:32,133 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:32,239 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:09:33,269 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:33,270 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53571
2015-05-21 15:09:33,270 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53571, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:09:33,271 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x2000622e1000000 at /127.0.0.1:53571
2015-05-21 15:09:33,272 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@645] - Established session 0x2000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:53571
2015-05-21 15:09:33,273 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x2000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:33,400 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:09:33,400 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:09:33,401 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:33,401 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:33,402 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.10000000c
2015-05-21 15:09:33,403 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:33,404 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44607, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:09:33,404 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44607
2015-05-21 15:09:33,404 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x1fffffffe
2015-05-21 15:09:33,404 [myid:] - INFO  [NIOWorkerThread-7:ZooKeeperServer@936] - Client attempting to renew session 0x1000622e1000000 at /127.0.0.1:44607
2015-05-21 15:09:33,404 [myid:] - INFO  [NIOWorkerThread-7:Learner@110] - Revalidating client: 0x1000622e1000000
2015-05-21 15:09:33,405 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:44607
2015-05-21 15:09:33,406 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:09:33,406 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:33,406 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:33,406 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x1000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:33,407 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:33,408 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:33,409 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:33,409 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:33,409 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:33,410 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:33,410 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2
2015-05-21 15:09:33,410 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:09:33,411 [myid:] - INFO  [LearnerHandler-/127.0.0.1:40171:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:12228:12229:participant;127.0.0.1:11227
2015-05-21 15:09:33,419 [myid:] - INFO  [LearnerHandler-/127.0.0.1:40171:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x1fffffffe lastProcessedZxid=0x200000000 peerLastZxid=0x1fffffffe
2015-05-21 15:09:33,419 [myid:] - INFO  [LearnerHandler-/127.0.0.1:40171:LearnerHandler@720] - Using committedLog for peer sid: 3
2015-05-21 15:09:33,419 [myid:] - INFO  [LearnerHandler-/127.0.0.1:40171:LearnerHandler@810] - Sending DIFF zxid=0x1fffffffe for peer sid: 3
2015-05-21 15:09:33,420 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:09:33,420 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:33,421 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:33,429 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:33,429 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:33,529 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:33,529 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60076, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:09:33,529 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60076
2015-05-21 15:09:33,530 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x3000622e11f0000 at /127.0.0.1:60076
2015-05-21 15:09:33,530 [myid:] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x3000622e11f0000
2015-05-21 15:09:33,530 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@645] - Established session 0x3000622e11f0000 with negotiated timeout 30000 for client /127.0.0.1:60076
2015-05-21 15:09:33,531 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x3000622e11f0000, negotiated timeout = 30000
2015-05-21 15:09:33,531 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:33,531 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:280)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:33,531 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000622e1000000]
2015-05-21 15:09:33,531 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44607 which had sessionid 0x1000622e1000000
2015-05-21 15:09:33,532 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:33,532 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:33,532 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:33,532 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:33,532 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:33,532 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:33,532 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:33,532 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:33,532 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:33,532 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:33,533 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:33,533 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:33,533 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:33,533 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:33,533 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:33,534 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:33,634 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:33,635 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:33,635 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:33,635 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:33,635 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:33,637 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:33,635 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:33,635 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:33,637 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:33,635 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:33,638 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:33,637 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:09:33,636 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:33,636 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:33,638 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:33,636 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:09:33,639 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:09:33,638 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:09:33,638 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:09:34,133 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:34,133 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:34,133 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:34,133 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:34,133 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:09:34,134 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:09:34,134 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:09:34,134 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:09:34,134 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:34,134 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:09:34,134 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:280)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:34,135 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12225:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:09:34,135 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x2000622e1000000]
2015-05-21 15:09:34,135 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53571 which had sessionid 0x2000622e1000000
2015-05-21 15:09:34,135 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:34,135 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:34,135 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:09:34,135 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:09:34,135 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:09:34,135 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:09:34,135 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:09:34,135 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:34,136 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:34,136 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:09:34,136 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:34,136 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:34,136 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:34,136 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:09:34,136 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:34,137 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:34,137 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:34,136 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:34,136 [myid:] - WARN  [LearnerHandler-/127.0.0.1:40160:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:40160 ********
2015-05-21 15:09:34,136 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:34,136 [myid:] - WARN  [LearnerHandler-/127.0.0.1:40171:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:40171 ********
2015-05-21 15:09:34,137 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:34,137 [myid:] - WARN  [LearnerHandler-/127.0.0.1:40160:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:34,137 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:09:34,137 [myid:] - WARN  [LearnerHandler-/127.0.0.1:40171:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:34,138 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:34,138 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x3000622e11f0000]
2015-05-21 15:09:34,138 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60076 which had sessionid 0x3000622e11f0000
2015-05-21 15:09:34,138 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:34,138 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000622e11f0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:34,138 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:34,138 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:34,138 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:34,138 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:34,138 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:34,139 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:34,139 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:34,139 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:34,139 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:34,139 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:34,139 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:34,141 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:34,144 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x1fffffffe
2015-05-21 15:09:34,145 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address /127.0.0.1:12223
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:34,145 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:34,145 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:34,146 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:34,238 [myid:] - INFO  [/127.0.0.1:12226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:34,238 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:09:34,238 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:34,238 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:09:34,238 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:09:34,238 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:34,238 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:34,238 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:34,239 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:34,238 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:34,239 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:34,238 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:34,238 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:09:34,239 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:34,239 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:09:34,239 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:09:34,239 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:09:34,240 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:09:34,240 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:09:34,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:09:34,240 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:09:34,240 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:34,240 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:34,240 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:34,240 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:34,240 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:34,241 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:34,341 [myid:] - INFO  [/127.0.0.1:12229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:34,341 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:34,341 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:34,341 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:09:34,341 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:09:34,341 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:34,341 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:09:34,342 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:09:34,342 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:09:34,342 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:09:34,342 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:34,342 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:34,342 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:34,342 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:34,343 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:34,343 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:35,377 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:35,378 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x1000622e1000000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:35,466 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:35,466 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x2000622e1000000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:36,072 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:36,072 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x3000622e11f0000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:36,172 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:36,173 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:09:36,173 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:36,174 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:36,174 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:36,174 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:36,174 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:36,174 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:36,174 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11221
2015-05-21 15:09:36,175 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:36,175 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11221
2015-05-21 15:09:36,176 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:36,178 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:36,179 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:36,179 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@4709eb46: java.net.BindException: Address already in use
2015-05-21 15:09:36,179 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:281)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:36,180 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12223
2015-05-21 15:09:36,180 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:09:36,180 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11224
2015-05-21 15:09:36,180 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:36,180 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11224
2015-05-21 15:09:36,181 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:36,181 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x1fffffffe
2015-05-21 15:09:36,182 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:12226
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:36,182 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:36,182 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,182 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:36,184 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:36,185 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:36,185 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@2a278a8d: java.net.BindException: Address already in use
2015-05-21 15:09:36,185 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:281)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:36,186 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12226
2015-05-21 15:09:36,186 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:09:36,186 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11227
2015-05-21 15:09:36,186 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:36,186 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11227
2015-05-21 15:09:36,186 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:36,187 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x1fffffffe
2015-05-21 15:09:36,187 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51766
2015-05-21 15:09:36,188 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:36,190 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,190 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:36,190 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,190 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,191 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:36,191 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,191 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,191 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:36,192 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:36,192 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@52ca838f: java.net.BindException: Address already in use
2015-05-21 15:09:36,192 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:281)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:36,193 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12229
2015-05-21 15:09:36,193 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:09:36,193 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11221,127.0.0.1:11224,127.0.0.1:11227
2015-05-21 15:09:36,194 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:36,194 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44627
2015-05-21 15:09:36,194 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:36,195 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x1fffffffe
2015-05-21 15:09:36,195 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44627
2015-05-21 15:09:36,195 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44627 (no session established for client)
2015-05-21 15:09:36,195 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51770
2015-05-21 15:09:36,196 [myid:] - INFO  [localhost/127.0.0.1:12226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56560
2015-05-21 15:09:36,197 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,197 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,197 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,197 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,197 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,198 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,198 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,198 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,198 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,198 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,199 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2
2015-05-21 15:09:36,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:36,400 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:36,402 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35319:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12225:12226:participant;127.0.0.1:11224
2015-05-21 15:09:36,402 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35320:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12222:12223:participant;127.0.0.1:11221
2015-05-21 15:09:36,406 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:36,406 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:36,426 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35319:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x1fffffffe peerLastZxid=0x1fffffffe
2015-05-21 15:09:36,426 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35320:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x1fffffffe peerLastZxid=0x1fffffffe
2015-05-21 15:09:36,426 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35319:LearnerHandler@703] - Sending DIFF zxid=0x1fffffffe for peer sid: 2
2015-05-21 15:09:36,426 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35320:LearnerHandler@703] - Sending DIFF zxid=0x1fffffffe for peer sid: 1
2015-05-21 15:09:36,427 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:09:36,427 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:09:36,427 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:36,427 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:36,441 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:36,441 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:36,445 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:36,446 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44632
2015-05-21 15:09:36,446 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44632
2015-05-21 15:09:36,447 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44632 (no session established for client)
2015-05-21 15:09:36,454 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3],[1, 3] ]; starting up and setting last processed zxid: 0x300000000
2015-05-21 15:09:36,455 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:36,455 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:36,456 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:36,456 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:36,457 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:36,466 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:36,466 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:36,466 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:36,697 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:36,698 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44633
2015-05-21 15:09:36,699 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44633
2015-05-21 15:09:36,699 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:36,700 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44633 (no session established for client)
2015-05-21 15:09:36,700 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11221 is accepting client connections
2015-05-21 15:09:36,700 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:36,700 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53599
2015-05-21 15:09:36,701 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53599
2015-05-21 15:09:36,701 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:36,701 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53599 (no session established for client)
2015-05-21 15:09:36,701 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11224 is accepting client connections
2015-05-21 15:09:36,702 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:36,702 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60102
2015-05-21 15:09:36,702 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60102
2015-05-21 15:09:36,702 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:36,703 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60102 (no session established for client)
2015-05-21 15:09:36,703 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11227 is accepting client connections
2015-05-21 15:09:36,703 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:36,705 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:36,706 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:36,706 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:36,706 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:09:36,706 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:36,706 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:36,708 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:36,709 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:36,710 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:09:36,710 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:36,710 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:09:36,710 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:36,710 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:09:36,710 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:36,779 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:36,779 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44636, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:09:36,779 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44636
2015-05-21 15:09:36,780 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x1000622e1000000 at /127.0.0.1:44636
2015-05-21 15:09:36,780 [myid:] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x1000622e1000000
2015-05-21 15:09:36,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:44636
2015-05-21 15:09:36,781 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x1000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:36,792 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:36,792 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53602, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:09:36,792 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53602
2015-05-21 15:09:36,792 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@936] - Client attempting to renew session 0x2000622e1000000 at /127.0.0.1:53602
2015-05-21 15:09:36,792 [myid:] - INFO  [NIOWorkerThread-2:Learner@110] - Revalidating client: 0x2000622e1000000
2015-05-21 15:09:36,793 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@645] - Established session 0x2000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:53602
2015-05-21 15:09:36,793 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x2000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:37,145 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:37,146 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:37,146 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:37,146 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:37,230 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:37,230 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60105, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:09:37,230 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60105
2015-05-21 15:09:37,232 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@936] - Client attempting to renew session 0x3000622e11f0000 at /127.0.0.1:60105
2015-05-21 15:09:37,233 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@645] - Established session 0x3000622e11f0000 with negotiated timeout 30000 for client /127.0.0.1:60105
2015-05-21 15:09:37,234 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x3000622e11f0000, negotiated timeout = 30000
2015-05-21 15:09:37,236 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 12
2015-05-21 15:09:37,238 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:09:37,240 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:09:37,242 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:09:37,243 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:09:37,245 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:09:37,247 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:09:37,248 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:09:37,250 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:09:37,251 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:09:37,253 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:09:37,256 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:09:37,258 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:09:37,259 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 12 thru 22
2015-05-21 15:09:37,261 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:09:37,261 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:09:37,261 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:09:37,261 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:09:37,261 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:09:37,301 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.300000003
2015-05-21 15:09:37,312 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.300000004
2015-05-21 15:09:37,312 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.300000004
2015-05-21 15:09:37,315 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000005
2015-05-21 15:09:37,324 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000006
2015-05-21 15:09:37,324 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000006
2015-05-21 15:09:37,358 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.300000008
2015-05-21 15:09:37,359 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.300000008
2015-05-21 15:09:37,371 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.30000000a
2015-05-21 15:09:37,374 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.30000000a
2015-05-21 15:09:37,398 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 22
2015-05-21 15:09:37,401 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:09:37,404 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:09:37,407 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:09:37,409 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:09:37,410 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:09:37,412 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:09:37,413 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:09:37,415 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:09:37,418 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:09:37,421 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:09:37,423 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:09:37,426 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:09:37,429 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2015-05-21 15:09:37,432 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2015-05-21 15:09:37,434 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2015-05-21 15:09:37,436 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2015-05-21 15:09:37,438 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2015-05-21 15:09:37,440 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2015-05-21 15:09:37,442 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2015-05-21 15:09:37,444 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2015-05-21 15:09:37,446 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2015-05-21 15:09:37,447 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2015-05-21 15:09:37,447 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2015-05-21 15:09:37,448 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x3fffffffd expected 0x30000000b
2015-05-21 15:09:37,448 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x3fffffffd expected 0x30000000b
2015-05-21 15:09:37,448 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x30000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.30000000a
2015-05-21 15:09:37,455 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35319:Leader@719] - Commiting zxid 0x3fffffffd from /127.0.0.1:12228 not first!
2015-05-21 15:09:37,455 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35319:Leader@721] - First is 12884901899
2015-05-21 15:09:37,457 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.3fffffffe
2015-05-21 15:09:37,463 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:09:37,463 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:09:37,463 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12228:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:09:37,463 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000622e11f0000]
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60105 which had sessionid 0x3000622e11f0000
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000622e11f0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:37,464 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:37,464 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:37,465 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:09:37,465 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35319:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35319 ********
2015-05-21 15:09:37,465 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:37,465 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:09:37,465 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:37,465 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35320:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35320 ********
2015-05-21 15:09:37,465 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35319:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:37,465 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:37,465 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35320:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:37,465 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:09:37,465 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:09:37,466 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:37,466 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:37,466 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000622e1000000]
2015-05-21 15:09:37,466 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000622e1000000]
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53602 which had sessionid 0x2000622e1000000
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44636 which had sessionid 0x1000622e1000000
2015-05-21 15:09:37,467 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:37,467 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:37,467 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:37,467 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:37,467 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:37,467 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:37,468 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:37,468 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:37,468 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:37,468 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:37,468 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:37,468 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:37,468 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:37,468 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:37,468 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:37,468 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:37,468 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:37,469 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:37,469 [myid:] - WARN  [SyncThread:1:SendAckRequestProcessor@64] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:141)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:62)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:186)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:113)
2015-05-21 15:09:37,469 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:37,469 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:37,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:37,470 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.300000008
2015-05-21 15:09:37,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.30000000a
2015-05-21 15:09:37,473 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x3fffffffe
2015-05-21 15:09:37,473 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,473 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,473 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:09:37,474 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,474 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x3fffffffe
2015-05-21 15:09:37,475 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,475 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,475 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:09:37,475 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,475 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,476 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:09:37,476 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,476 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:09:37,564 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:37,564 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:37,564 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:37,565 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:37,565 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:37,565 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:37,665 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:37,666 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:37,666 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:37,666 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:37,666 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:973)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:09:37,666 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:37,666 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:37,666 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:37,666 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:37,666 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:37,666 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:37,668 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:37,667 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:09:37,667 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:37,667 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:09:37,667 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:37,667 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:37,667 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:37,668 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:09:37,668 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:37,668 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:09:37,668 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:09:37,669 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:09:37,669 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:09:37,668 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:09:37,669 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:09:37,669 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:37,669 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:37,669 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:37,669 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:37,669 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:37,670 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:37,676 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:37,676 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:37,676 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:09:37,676 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:09:37,676 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:09:37,676 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:09:37,770 [myid:] - INFO  [localhost/127.0.0.1:12226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:37,771 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:37,771 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:37,771 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:37,771 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:37,771 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:37,771 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:09:37,771 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:09:37,771 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:37,771 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:37,772 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:09:37,772 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:37,772 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:37,772 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:09:37,773 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:37,773 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:37,773 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:37,773 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:37,874 [myid:] - INFO  [localhost/127.0.0.1:12229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:37,874 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:09:37,874 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:37,874 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:09:37,874 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:09:37,874 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:09:37,874 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:37,874 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:37,875 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:09:37,875 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:09:37,875 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:09:37,875 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:09:37,875 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:37,876 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:37,876 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:37,876 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:37,876 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:37,876 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:38,239 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:09:38,957 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:38,958 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x3000622e11f0000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:39,483 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:39,483 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x1000622e1000000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:39,522 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:39,523 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x2000622e1000000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:40,257 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:40,258 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x3000622e11f0000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:40,358 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:40,358 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:40,359 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:09:40,359 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:40,359 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:40,359 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:09:40,359 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:40,360 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:40,360 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:09:40,360 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:40,361 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:40,361 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:40,361 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:40,361 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:40,362 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:40,362 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11221
2015-05-21 15:09:40,362 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:40,363 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11221
2015-05-21 15:09:40,367 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.30000000a
2015-05-21 15:09:40,372 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:40,373 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:40,373 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@7048dc0f: java.net.BindException: Address already in use
2015-05-21 15:09:40,373 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:293)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:40,374 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12223
2015-05-21 15:09:40,374 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:09:40,374 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11224
2015-05-21 15:09:40,374 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:40,374 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11224
2015-05-21 15:09:40,374 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:40,375 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x3fffffffe
2015-05-21 15:09:40,375 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:12226
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:40,375 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.300000008
2015-05-21 15:09:40,375 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,376 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:40,378 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:40,378 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:40,378 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@16bdab45: java.net.BindException: Address already in use
2015-05-21 15:09:40,379 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:293)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:40,379 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12226
2015-05-21 15:09:40,379 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:09:40,379 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11227
2015-05-21 15:09:40,379 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:40,380 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11227
2015-05-21 15:09:40,380 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:40,380 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x3fffffffe
2015-05-21 15:09:40,380 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51793
2015-05-21 15:09:40,381 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.300000008
2015-05-21 15:09:40,381 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,381 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:40,381 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,382 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,382 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,382 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:40,382 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,384 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:40,384 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:40,384 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@3c724f11: java.net.BindException: Address already in use
2015-05-21 15:09:40,384 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:293)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:40,385 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12229
2015-05-21 15:09:40,385 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:09:40,385 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11221,127.0.0.1:11224,127.0.0.1:11227
2015-05-21 15:09:40,385 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:40,385 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44654
2015-05-21 15:09:40,386 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:40,386 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44654
2015-05-21 15:09:40,386 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x3fffffffe
2015-05-21 15:09:40,386 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44654 (no session established for client)
2015-05-21 15:09:40,386 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51797
2015-05-21 15:09:40,387 [myid:] - INFO  [localhost/127.0.0.1:12226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56587
2015-05-21 15:09:40,387 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,387 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,387 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,388 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,388 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,388 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,388 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,388 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,388 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,388 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,389 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:40,473 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:40,476 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:40,476 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:40,476 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:40,476 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:40,477 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:40,588 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:40,589 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:40,590 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:40,590 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:40,590 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:40,590 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2
2015-05-21 15:09:40,590 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2
2015-05-21 15:09:40,591 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:40,590 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2
2015-05-21 15:09:40,591 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:09:40,591 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 3
2015-05-21 15:09:40,591 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:09:40,594 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35346:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12222:12223:participant;127.0.0.1:11221
2015-05-21 15:09:40,595 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35347:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12225:12226:participant;127.0.0.1:11224
2015-05-21 15:09:40,622 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35346:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x3fffffffe minCommittedLog=0x300000009 lastProcessedZxid=0x3fffffffe peerLastZxid=0x3fffffffe
2015-05-21 15:09:40,622 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35347:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x3fffffffe minCommittedLog=0x300000009 lastProcessedZxid=0x3fffffffe peerLastZxid=0x3fffffffe
2015-05-21 15:09:40,622 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35346:LearnerHandler@703] - Sending DIFF zxid=0x3fffffffe for peer sid: 1
2015-05-21 15:09:40,622 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35347:LearnerHandler@703] - Sending DIFF zxid=0x3fffffffe for peer sid: 2
2015-05-21 15:09:40,623 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x3fffffffe
2015-05-21 15:09:40,623 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x3fffffffe
2015-05-21 15:09:40,624 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:40,625 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:40,636 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:40,636 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44659
2015-05-21 15:09:40,637 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44659
2015-05-21 15:09:40,637 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44659 (no session established for client)
2015-05-21 15:09:40,645 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:09:40,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:09:40,656 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3],[1, 3] ]; starting up and setting last processed zxid: 0x400000000
2015-05-21 15:09:40,656 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:40,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:40,657 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:40,657 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:40,657 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:40,658 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:40,658 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:40,658 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:40,887 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:40,888 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44660
2015-05-21 15:09:40,888 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44660
2015-05-21 15:09:40,888 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:40,889 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44660 (no session established for client)
2015-05-21 15:09:40,889 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11221 is accepting client connections
2015-05-21 15:09:40,889 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:40,889 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53626
2015-05-21 15:09:40,889 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53626
2015-05-21 15:09:40,890 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:40,890 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53626 (no session established for client)
2015-05-21 15:09:40,890 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11224 is accepting client connections
2015-05-21 15:09:40,890 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:40,890 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60129
2015-05-21 15:09:40,891 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60129
2015-05-21 15:09:40,891 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:40,891 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60129 (no session established for client)
2015-05-21 15:09:40,891 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11227 is accepting client connections
2015-05-21 15:09:40,891 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:40,894 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:40,895 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:09:40,895 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:40,895 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:40,897 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:09:40,898 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:40,899 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:09:40,899 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:40,899 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:09:40,899 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:41,183 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:41,184 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53629, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:09:41,184 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53629
2015-05-21 15:09:41,185 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@936] - Client attempting to renew session 0x2000622e1000000 at /127.0.0.1:53629
2015-05-21 15:09:41,185 [myid:] - INFO  [NIOWorkerThread-2:Learner@110] - Revalidating client: 0x2000622e1000000
2015-05-21 15:09:41,185 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@645] - Established session 0x2000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:53629
2015-05-21 15:09:41,186 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x2000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:41,410 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:41,411 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44665, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:09:41,411 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44665
2015-05-21 15:09:41,412 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x1000622e1000000 at /127.0.0.1:44665
2015-05-21 15:09:41,412 [myid:] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x1000622e1000000
2015-05-21 15:09:41,413 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:44665
2015-05-21 15:09:41,413 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x1000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:41,905 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:41,905 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60135, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:09:41,905 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60135
2015-05-21 15:09:41,906 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@936] - Client attempting to renew session 0x3000622e11f0000 at /127.0.0.1:60135
2015-05-21 15:09:41,906 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@645] - Established session 0x3000622e11f0000 with negotiated timeout 30000 for client /127.0.0.1:60135
2015-05-21 15:09:41,907 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x3000622e11f0000, negotiated timeout = 30000
2015-05-21 15:09:41,908 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 24
2015-05-21 15:09:41,909 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:09:41,911 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:09:41,914 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:09:41,916 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:09:41,918 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:09:41,920 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:09:41,921 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:09:41,923 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:09:41,924 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:09:41,925 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:09:41,927 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:09:41,928 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:09:41,929 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2015-05-21 15:09:41,930 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2015-05-21 15:09:41,932 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2015-05-21 15:09:41,933 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2015-05-21 15:09:41,934 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2015-05-21 15:09:41,935 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2015-05-21 15:09:41,936 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2015-05-21 15:09:41,938 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2015-05-21 15:09:41,939 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2015-05-21 15:09:41,940 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2015-05-21 15:09:41,941 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffd
2015-05-21 15:09:41,942 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffe
2015-05-21 15:09:41,943 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 24 thru 34
2015-05-21 15:09:41,944 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.400000001
2015-05-21 15:09:41,944 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x400000001 expected 0x1
2015-05-21 15:09:41,944 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x400000001 expected 0x1
2015-05-21 15:09:41,944 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.400000001
2015-05-21 15:09:41,944 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.400000001
2015-05-21 15:09:41,974 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.400000003
2015-05-21 15:09:41,989 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.400000005
2015-05-21 15:09:41,989 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.400000004
2015-05-21 15:09:42,007 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.400000006
2015-05-21 15:09:42,007 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.400000005
2015-05-21 15:09:42,024 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.400000007
2015-05-21 15:09:42,044 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.400000008
2015-05-21 15:09:42,057 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.40000000a
2015-05-21 15:09:42,057 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.400000009
2015-05-21 15:09:42,075 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:42,075 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:299)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:42,075 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000622e1000000]
2015-05-21 15:09:42,075 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44665 which had sessionid 0x1000622e1000000
2015-05-21 15:09:42,075 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:42,075 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:42,075 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:42,076 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:42,076 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:42,076 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:42,076 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:42,076 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:42,076 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:42,076 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:42,076 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:42,076 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:42,077 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:42,077 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:42,078 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:42,078 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:42,179 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:42,179 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:42,180 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:42,180 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:42,180 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:42,180 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:42,180 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:42,179 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:42,179 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:42,181 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:42,181 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:09:42,180 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:42,180 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:09:42,180 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:42,180 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:09:42,181 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:09:42,181 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:42,181 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:42,182 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:09:42,658 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:42,658 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:42,659 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:42,659 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:42,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:09:42,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:09:42,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:09:42,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:09:42,659 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:42,659 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:299)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:42,660 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000622e1000000]
2015-05-21 15:09:42,660 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53629 which had sessionid 0x2000622e1000000
2015-05-21 15:09:42,660 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:42,660 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:42,660 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:42,660 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:42,660 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:42,660 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:42,660 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:42,660 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:42,661 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:42,661 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:42,661 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:42,661 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:42,661 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:42,661 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:42,661 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:42,661 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:42,762 [myid:] - INFO  [localhost/127.0.0.1:12226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:42,762 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:42,762 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:42,762 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:42,763 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:42,762 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:42,763 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:09:42,762 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:42,763 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:09:42,763 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:42,763 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:09:43,388 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:43,388 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:43,388 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:43,388 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:43,505 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:43,505 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x1000622e1000000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:43,658 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:09:43,659 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:43,659 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:43,659 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:43,659 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:09:43,659 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:09:43,659 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:09:43,659 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:09:43,659 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:43,660 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:09:43,660 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:299)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:43,660 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12228:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:09:43,660 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000622e11f0000]
2015-05-21 15:09:43,660 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60135 which had sessionid 0x3000622e11f0000
2015-05-21 15:09:43,660 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:43,660 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000622e11f0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:43,660 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:09:43,661 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:09:43,661 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:09:43,661 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:09:43,661 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:09:43,661 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:43,661 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:43,661 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:09:43,661 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:43,661 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:43,661 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:43,662 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:09:43,662 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35346:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35346 ********
2015-05-21 15:09:43,662 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35347:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35347 ********
2015-05-21 15:09:43,662 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35346:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:43,662 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:43,662 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:43,662 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:43,662 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:43,662 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:43,662 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35347:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:43,763 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:09:43,763 [myid:] - INFO  [localhost/127.0.0.1:12229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:43,763 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:09:43,763 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:43,763 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:09:43,764 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:09:43,764 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:43,764 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:43,764 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:09:43,764 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:09:43,764 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:09:43,764 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:09:43,764 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:43,764 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:43,764 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:43,765 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:43,765 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:43,765 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:44,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:09:44,305 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:44,305 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x2000622e1000000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:44,647 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:44,648 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x1000622e1000000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:45,128 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:45,129 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x3000622e11f0000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:46,085 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:46,086 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x1000622e1000000 for server 127.0.0.1/127.0.0.1:11221, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:46,369 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:46,370 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x2000622e1000000 for server 127.0.0.1/127.0.0.1:11224, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:46,387 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:46,389 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:46,813 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:46,813 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x3000622e11f0000 for server 127.0.0.1/127.0.0.1:11227, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:46,914 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:46,914 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:46,914 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:09:46,915 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:46,915 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:46,915 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:09:46,915 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:46,915 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:46,916 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:09:46,916 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:46,916 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:46,917 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:46,917 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:46,917 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:46,918 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:46,918 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11221
2015-05-21 15:09:46,918 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:46,919 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11221
2015-05-21 15:09:46,921 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.400000005
2015-05-21 15:09:46,925 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:46,926 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:46,926 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@618926ef: java.net.BindException: Address already in use
2015-05-21 15:09:46,926 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:300)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:46,927 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12223
2015-05-21 15:09:46,927 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:09:46,927 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11224
2015-05-21 15:09:46,927 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:46,927 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11224
2015-05-21 15:09:46,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:46,928 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x40000000a
2015-05-21 15:09:46,928 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:12226
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:46,928 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.400000008
2015-05-21 15:09:46,928 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,928 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:46,931 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:46,931 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:46,931 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@477dfc2e: java.net.BindException: Address already in use
2015-05-21 15:09:46,931 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:300)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:46,932 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12226
2015-05-21 15:09:46,932 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:09:46,932 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11227
2015-05-21 15:09:46,932 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:46,932 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11227
2015-05-21 15:09:46,933 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:46,933 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x40000000a
2015-05-21 15:09:46,933 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51845
2015-05-21 15:09:46,933 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.400000009
2015-05-21 15:09:46,934 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,934 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:46,934 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,934 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,934 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,934 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:46,935 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,936 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:46,936 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:46,936 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@374d1cbd: java.net.BindException: Address already in use
2015-05-21 15:09:46,937 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:300)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:46,937 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12229
2015-05-21 15:09:46,937 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:09:46,937 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11221,127.0.0.1:11224,127.0.0.1:11227
2015-05-21 15:09:46,937 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:46,938 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44706
2015-05-21 15:09:46,938 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:46,938 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x40000000a
2015-05-21 15:09:46,938 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44706
2015-05-21 15:09:46,938 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44706 (no session established for client)
2015-05-21 15:09:46,938 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:51849
2015-05-21 15:09:46,939 [myid:] - INFO  [localhost/127.0.0.1:12226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56639
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,940 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:46,941 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:47,142 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:47,142 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2
2015-05-21 15:09:47,141 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:47,142 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:47,142 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:47,142 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:47,142 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:47,143 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2
2015-05-21 15:09:47,143 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2
2015-05-21 15:09:47,143 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 2
2015-05-21 15:09:47,143 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:12228
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:47,144 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x40000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.40000000a
2015-05-21 15:09:47,143 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 3
2015-05-21 15:09:47,147 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35399:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12222:12223:participant;127.0.0.1:11221
2015-05-21 15:09:47,175 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35399:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x40000000a minCommittedLog=0x40000000a lastProcessedZxid=0x40000000a peerLastZxid=0x40000000a
2015-05-21 15:09:47,175 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35399:LearnerHandler@703] - Sending DIFF zxid=0x40000000a for peer sid: 1
2015-05-21 15:09:47,176 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x40000000a
2015-05-21 15:09:47,177 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:47,188 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:47,189 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x40000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.40000000a
2015-05-21 15:09:47,189 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44711
2015-05-21 15:09:47,190 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44711
2015-05-21 15:09:47,191 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44711 (no session established for client)
2015-05-21 15:09:47,202 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3],[1, 3] ]; starting up and setting last processed zxid: 0x500000000
2015-05-21 15:09:47,202 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:47,203 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:47,205 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:47,205 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:47,206 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:47,441 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:47,442 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44712
2015-05-21 15:09:47,443 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44712
2015-05-21 15:09:47,443 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:47,444 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44712 (no session established for client)
2015-05-21 15:09:47,444 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11221 is accepting client connections
2015-05-21 15:09:47,445 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:47,445 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53678
2015-05-21 15:09:47,446 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53678
2015-05-21 15:09:47,447 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53678 (no session established for client)
2015-05-21 15:09:47,694 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:47,694 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44714, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:09:47,694 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44714
2015-05-21 15:09:47,696 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x1000622e1000000 at /127.0.0.1:44714
2015-05-21 15:09:47,696 [myid:] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x1000622e1000000
2015-05-21 15:09:47,697 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:47,697 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:44714
2015-05-21 15:09:47,698 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53680
2015-05-21 15:09:47,698 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x1000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:47,699 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53680
2015-05-21 15:09:47,700 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53680 (no session established for client)
2015-05-21 15:09:47,825 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:47,825 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53681, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:09:47,825 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53681
2015-05-21 15:09:47,827 [myid:] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:09:47,827 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53681 (no session established for client)
2015-05-21 15:09:47,827 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000622e1000000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:47,950 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:47,951 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53682
2015-05-21 15:09:47,952 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53682
2015-05-21 15:09:47,952 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53682 (no session established for client)
2015-05-21 15:09:48,145 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35407:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12225:12226:participant;127.0.0.1:11224
2015-05-21 15:09:48,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35407:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x40000000a minCommittedLog=0x40000000a lastProcessedZxid=0x500000000 peerLastZxid=0x40000000a
2015-05-21 15:09:48,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35407:LearnerHandler@720] - Using committedLog for peer sid: 2
2015-05-21 15:09:48,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:35407:LearnerHandler@810] - Sending DIFF zxid=0x40000000a for peer sid: 2
2015-05-21 15:09:48,158 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x40000000a
2015-05-21 15:09:48,159 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:48,168 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x40000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.40000000a
2015-05-21 15:09:48,178 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:48,178 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:48,179 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:48,202 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:48,203 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53684
2015-05-21 15:09:48,204 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53684
2015-05-21 15:09:48,204 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:48,205 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53684 (no session established for client)
2015-05-21 15:09:48,206 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11224 is accepting client connections
2015-05-21 15:09:48,206 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:48,206 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60187
2015-05-21 15:09:48,208 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60187
2015-05-21 15:09:48,208 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:48,209 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60187 (no session established for client)
2015-05-21 15:09:48,209 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11227 is accepting client connections
2015-05-21 15:09:48,209 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:09:48,214 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:48,214 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:48,214 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:48,215 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:48,215 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:48,215 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:48,215 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:48,215 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:48,215 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:48,215 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000622e1000000
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:48,216 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:48,221 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:09:48,221 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:48,221 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:09:48,221 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:48,221 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:09:48,221 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:48,222 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:09:48,222 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:48,222 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:48,222 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:48,222 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:48,222 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:48,222 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:48,223 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000622e1000000
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:09:48,224 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:48,600 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:48,601 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60188, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:09:48,601 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60188
2015-05-21 15:09:48,603 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@936] - Client attempting to renew session 0x3000622e11f0000 at /127.0.0.1:60188
2015-05-21 15:09:48,603 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@645] - Established session 0x3000622e11f0000 with negotiated timeout 30000 for client /127.0.0.1:60188
2015-05-21 15:09:48,605 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x3000622e11f0000, negotiated timeout = 30000
2015-05-21 15:09:49,598 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:49,598 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53687, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:09:49,598 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53687
2015-05-21 15:09:49,600 [myid:] - INFO  [NIOWorkerThread-6:ZooKeeperServer@936] - Client attempting to renew session 0x2000622e1000000 at /127.0.0.1:53687
2015-05-21 15:09:49,600 [myid:] - INFO  [NIOWorkerThread-6:Learner@110] - Revalidating client: 0x2000622e1000000
2015-05-21 15:09:49,602 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):ZooKeeperServer@645] - Established session 0x2000622e1000000 with negotiated timeout 30000 for client /127.0.0.1:53687
2015-05-21 15:09:49,603 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x2000622e1000000, negotiated timeout = 30000
2015-05-21 15:09:49,608 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 34
2015-05-21 15:09:49,613 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:09:49,618 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:09:49,622 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:09:49,627 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:09:49,631 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:09:49,634 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:09:49,637 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:09:49,641 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:09:49,644 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:09:49,647 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:09:49,650 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:09:49,653 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:09:49,656 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2015-05-21 15:09:49,660 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2015-05-21 15:09:49,663 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2015-05-21 15:09:49,666 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2015-05-21 15:09:49,670 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2015-05-21 15:09:49,673 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2015-05-21 15:09:49,676 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2015-05-21 15:09:49,679 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2015-05-21 15:09:49,682 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2015-05-21 15:09:49,685 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2015-05-21 15:09:49,689 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffd
2015-05-21 15:09:49,692 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffe
2015-05-21 15:09:49,695 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000001
2015-05-21 15:09:49,698 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000002
2015-05-21 15:09:49,701 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000003
2015-05-21 15:09:49,704 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000004
2015-05-21 15:09:49,707 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000005
2015-05-21 15:09:49,710 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000006
2015-05-21 15:09:49,713 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000007
2015-05-21 15:09:49,717 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000008
2015-05-21 15:09:49,720 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:400000009
2015-05-21 15:09:49,723 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:40000000a
2015-05-21 15:09:49,724 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 34 thru 44
2015-05-21 15:09:49,726 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.500000001
2015-05-21 15:09:49,726 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@122] - Got zxid 0x500000001 expected 0x1
2015-05-21 15:09:49,726 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@122] - Got zxid 0x500000001 expected 0x1
2015-05-21 15:09:49,726 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.500000001
2015-05-21 15:09:49,726 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.500000001
2015-05-21 15:09:49,785 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.500000004
2015-05-21 15:09:49,794 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.500000006
2015-05-21 15:09:49,795 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.500000005
2015-05-21 15:09:49,795 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.500000005
2015-05-21 15:09:49,810 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.500000007
2015-05-21 15:09:49,810 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.500000007
2015-05-21 15:09:49,854 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test8328146383359628975.junit.dir/version-2/snapshot.500000009
2015-05-21 15:09:49,860 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2015-05-21 15:09:49,861 [myid:] - INFO  [NIOWorkerThread-8:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x1000622e1000000
2015-05-21 15:09:49,862 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x1000622e1000000
2015-05-21 15:09:49,862 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.50000000b
2015-05-21 15:09:49,869 [myid:] - INFO  [NIOWorkerThread-9:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000622e1000000]
2015-05-21 15:09:49,870 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000622e1000000 closed
2015-05-21 15:09:49,870 [myid:] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44714 which had sessionid 0x1000622e1000000
2015-05-21 15:09:49,870 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:09:49,870 [myid:] - INFO  [NIOWorkerThread-10:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x2000622e1000000
2015-05-21 15:09:49,871 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x2000622e1000000
2015-05-21 15:09:49,872 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x50000000b to /home/mitake/github/zookeeper.git/build/test/tmp/test5256336527653226081.junit.dir/version-2/snapshot.50000000b
2015-05-21 15:09:49,872 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x50000000b to /home/mitake/github/zookeeper.git/build/test/tmp/test5715527009020026680.junit.dir/version-2/snapshot.50000000b
2015-05-21 15:09:49,884 [myid:] - INFO  [NIOWorkerThread-11:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000622e1000000]
2015-05-21 15:09:49,884 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000622e1000000 closed
2015-05-21 15:09:49,884 [myid:] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53687 which had sessionid 0x2000622e1000000
2015-05-21 15:09:49,884 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:09:49,884 [myid:] - INFO  [NIOWorkerThread-20:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x3000622e11f0000
2015-05-21 15:09:49,885 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x3000622e11f0000
2015-05-21 15:09:49,885 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.50000000d
2015-05-21 15:09:49,885 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.50000000d
2015-05-21 15:09:49,910 [myid:] - INFO  [NIOWorkerThread-21:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000622e11f0000]
2015-05-21 15:09:49,910 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x3000622e11f0000 closed
2015-05-21 15:09:49,910 [myid:] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60188 which had sessionid 0x3000622e11f0000
2015-05-21 15:09:49,910 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:49,911 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:49,911 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:49,910 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:09:49,912 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:49,912 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:49,912 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:49,912 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:49,912 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:49,913 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:49,913 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:49,914 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:49,914 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:49,914 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:49,915 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:49,915 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:49,915 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:49,915 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:50,015 [myid:] - INFO  [/127.0.0.1:12223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:50,016 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:50,018 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:50,018 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:50,017 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:50,019 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:09:50,018 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled)
2015-05-21 15:09:50,017 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:50,020 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:50,016 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:50,021 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:09:50,020 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled) to exit thread
2015-05-21 15:09:50,019 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:50,018 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:50,018 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:50,022 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:50,022 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:50,023 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:09:50,022 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:09:50,207 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:50,207 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:50,207 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:50,207 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:50,208 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:09:50,208 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:09:50,208 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:09:50,208 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:09:50,209 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:50,209 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:50,209 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:50,210 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:50,210 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:50,210 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:50,210 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:50,210 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:50,211 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:50,211 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:50,211 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:50,211 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:50,212 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:50,213 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:50,213 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:50,213 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:50,213 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:50,314 [myid:] - INFO  [localhost/127.0.0.1:12226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:50,314 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:50,314 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled)
2015-05-21 15:09:50,314 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:50,315 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:50,314 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:50,315 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled) to exit thread
2015-05-21 15:09:50,315 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:09:50,315 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:50,315 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:50,315 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:09:51,207 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:09:51,207 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:51,207 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:51,208 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:51,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:09:51,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:09:51,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:09:51,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:09:51,209 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:51,209 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:09:51,209 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:51,210 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:51,210 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:09:51,210 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12228:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:09:51,210 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:09:51,211 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:09:51,211 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:09:51,211 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:09:51,211 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:51,212 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:51,212 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:09:51,212 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:51,212 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:51,212 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:51,213 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:09:51,213 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35407:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35407 ********
2015-05-21 15:09:51,214 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:51,214 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35407:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:51,214 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35399:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35399 ********
2015-05-21 15:09:51,215 [myid:] - WARN  [LearnerHandler-/127.0.0.1:35399:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:51,215 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:51,215 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:51,215 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:51,216 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:51,317 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:09:51,317 [myid:] - INFO  [localhost/127.0.0.1:12229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:51,317 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:09:51,318 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled)
2015-05-21 15:09:51,318 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:09:51,318 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled) to exit thread
2015-05-21 15:09:51,318 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:51,318 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:51,318 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:09:51,319 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:09:51,319 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:09:51,319 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:09:51,320 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:09:51,320 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11221 is no longer accepting client connections
2015-05-21 15:09:51,320 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:09:51,321 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11224 is no longer accepting client connections
2015-05-21 15:09:51,321 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:09:51,321 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11227 is no longer accepting client connections
2015-05-21 15:09:51,323 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testRolloverThenFollowerRestart
2015-05-21 15:09:51,332 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11230
2015-05-21 15:09:51,332 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11231
2015-05-21 15:09:51,332 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11232
2015-05-21 15:09:51,332 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11233
2015-05-21 15:09:51,332 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11234
2015-05-21 15:09:51,332 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11235
2015-05-21 15:09:51,333 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11236
2015-05-21 15:09:51,333 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11237
2015-05-21 15:09:51,333 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11238
2015-05-21 15:09:51,333 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 1; public port 11230
2015-05-21 15:09:51,333 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:51,333 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11230
2015-05-21 15:09:51,334 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 2; public port 11233
2015-05-21 15:09:51,334 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:51,334 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11233
2015-05-21 15:09:51,335 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 3; public port 11236
2015-05-21 15:09:51,335 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:51,335 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11236
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:09:51,336 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:09:51,337 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:51,337 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11230 is no longer accepting client connections
2015-05-21 15:09:51,337 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11233
2015-05-21 15:09:51,337 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11233 is no longer accepting client connections
2015-05-21 15:09:51,337 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:09:51,337 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11236 is no longer accepting client connections
2015-05-21 15:09:51,337 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11230
2015-05-21 15:09:51,338 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:51,338 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11230
2015-05-21 15:09:51,338 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:51,351 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:51,365 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:51,366 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:51,367 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@ac68f7c: java.net.BindException: Address already in use
2015-05-21 15:09:51,367 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:51,368 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12232
2015-05-21 15:09:51,369 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:09:51,369 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11233
2015-05-21 15:09:51,369 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:51,370 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11233
2015-05-21 15:09:51,370 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:51,371 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:09:51,371 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:51,371 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:12235
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:51,372 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,373 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12238
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:51,383 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:51,396 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:51,397 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:51,398 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@726b80fa: java.net.BindException: Address already in use
2015-05-21 15:09:51,398 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:51,399 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12235
2015-05-21 15:09:51,400 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:09:51,400 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11236
2015-05-21 15:09:51,400 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:51,400 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11236
2015-05-21 15:09:51,401 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:51,402 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:09:51,402 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:51,402 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53004
2015-05-21 15:09:51,404 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12238
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:51,404 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,405 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,406 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,406 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,406 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,406 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12238
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:09:51,413 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:09:51,425 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:51,426 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:51,426 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@433d44fc: java.net.BindException: Address already in use
2015-05-21 15:09:51,427 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:51,428 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12238
2015-05-21 15:09:51,429 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:09:51,429 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11230,127.0.0.1:11233,127.0.0.1:11236
2015-05-21 15:09:51,429 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:51,430 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45185
2015-05-21 15:09:51,430 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:51,430 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45185
2015-05-21 15:09:51,431 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:09:51,431 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45185 (no session established for client)
2015-05-21 15:09:51,431 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53008
2015-05-21 15:09:51,433 [myid:] - INFO  [/127.0.0.1:12235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48514
2015-05-21 15:09:51,433 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,434 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,435 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,435 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,435 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,435 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,436 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,436 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,436 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,436 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,437 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:51,636 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2
2015-05-21 15:09:51,638 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:51,637 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:51,638 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:51,638 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2
2015-05-21 15:09:51,638 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:51,639 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:09:51,639 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:12237
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:51,639 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:51,640 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:12237
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:51,640 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:51,640 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2
2015-05-21 15:09:51,640 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 2
2015-05-21 15:09:51,641 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.0
2015-05-21 15:09:51,681 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:51,682 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45190
2015-05-21 15:09:51,683 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45190
2015-05-21 15:09:51,683 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45190 (no session established for client)
2015-05-21 15:09:51,934 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:51,934 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45191
2015-05-21 15:09:51,935 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45191
2015-05-21 15:09:51,936 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45191 (no session established for client)
2015-05-21 15:09:52,186 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:52,187 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45192
2015-05-21 15:09:52,188 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45192
2015-05-21 15:09:52,188 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45192 (no session established for client)
2015-05-21 15:09:52,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:09:52,438 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:52,439 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45193
2015-05-21 15:09:52,440 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45193
2015-05-21 15:09:52,440 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45193 (no session established for client)
2015-05-21 15:09:52,640 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50564:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12231:12232:participant;127.0.0.1:11230
2015-05-21 15:09:52,641 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50565:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12234:12235:participant;127.0.0.1:11233
2015-05-21 15:09:52,664 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50564:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:09:52,664 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50565:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:09:52,664 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50564:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:09:52,664 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50565:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:09:52,666 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:09:52,666 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:09:52,666 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:52,666 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:52,682 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.0
2015-05-21 15:09:52,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.0
2015-05-21 15:09:52,691 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:52,691 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45196
2015-05-21 15:09:52,692 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45196
2015-05-21 15:09:52,693 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45196 (no session established for client)
2015-05-21 15:09:52,695 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 3],[2, 3] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:09:52,695 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:52,696 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:52,697 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:52,697 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:52,697 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:52,697 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:52,698 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:52,698 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:52,940 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:52,940 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:52,941 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:52,941 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:52,941 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:52,941 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:52,943 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:52,943 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45197
2015-05-21 15:09:52,944 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45197
2015-05-21 15:09:52,945 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:52,945 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45197 (no session established for client)
2015-05-21 15:09:52,946 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11230 is accepting client connections
2015-05-21 15:09:52,946 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11233
2015-05-21 15:09:52,946 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53755
2015-05-21 15:09:52,947 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53755
2015-05-21 15:09:52,948 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:52,949 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53755 (no session established for client)
2015-05-21 15:09:52,949 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11233 is accepting client connections
2015-05-21 15:09:52,949 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:09:52,950 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37949
2015-05-21 15:09:52,951 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:37949
2015-05-21 15:09:52,951 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:52,951 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37949 (no session established for client)
2015-05-21 15:09:52,952 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11236 is accepting client connections
2015-05-21 15:09:52,952 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:09:52,956 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:52,957 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:52,957 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:52,957 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:52,957 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:52,957 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:52,957 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:52,957 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:52,958 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:09:52,959 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:52,959 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:09:52,963 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:52,964 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:09:52,965 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:09:52,965 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:09:52,965 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:09:52,965 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:09:52,965 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:09:52,965 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:09:52,965 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11230 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@24ec87dc
2015-05-21 15:09:52,965 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11233 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@1ca801a2
2015-05-21 15:09:52,965 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:52,966 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45200, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:09:52,966 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45200
2015-05-21 15:09:52,966 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:52,966 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11236 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@dc20488
2015-05-21 15:09:52,966 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53758, server: 127.0.0.1/127.0.0.1:11233
2015-05-21 15:09:52,966 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53758
2015-05-21 15:09:52,966 [myid:] - INFO  [NIOWorkerThread-8:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:45200
2015-05-21 15:09:52,966 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:52,967 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37952
2015-05-21 15:09:52,967 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:37952, server: 127.0.0.1/127.0.0.1:11236
2015-05-21 15:09:52,967 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:53758
2015-05-21 15:09:52,967 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:09:52,967 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:09:52,968 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:09:52,968 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:09:52,968 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:09:52,968 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:37952
2015-05-21 15:09:52,990 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x1000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:45200
2015-05-21 15:09:52,990 [myid:] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x2000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:53758
2015-05-21 15:09:52,991 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x1000623343b0000, negotiated timeout = 30000
2015-05-21 15:09:52,991 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11233, sessionid = 0x2000623343b0000, negotiated timeout = 30000
2015-05-21 15:09:52,996 [myid:] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x300062334580000 with negotiated timeout 30000 for client /127.0.0.1:37952
2015-05-21 15:09:52,996 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11236, sessionid = 0x300062334580000, negotiated timeout = 30000
2015-05-21 15:09:52,996 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2015-05-21 15:09:52,998 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.100000003
2015-05-21 15:09:52,998 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.100000003
2015-05-21 15:09:52,998 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.100000003
2015-05-21 15:09:53,009 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:09:53,009 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:09:53,009 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:09:53,078 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.100000008
2015-05-21 15:09:53,088 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.10000000a
2015-05-21 15:09:53,088 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.100000009
2015-05-21 15:09:53,088 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.100000009
2015-05-21 15:09:53,099 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.10000000b
2015-05-21 15:09:53,099 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.10000000b
2015-05-21 15:09:53,142 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2015-05-21 15:09:53,143 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x10000000e
2015-05-21 15:09:53,143 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x10000000e
2015-05-21 15:09:53,144 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x10000000d to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.10000000d
2015-05-21 15:09:53,153 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50564:Leader@719] - Commiting zxid 0x1fffffffd from /127.0.0.1:12237 not first!
2015-05-21 15:09:53,154 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50564:Leader@721] - First is 4294967310
2015-05-21 15:09:53,155 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.1fffffffe
2015-05-21 15:09:53,156 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x1fffffffd to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:53,157 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x1fffffffd to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:53,166 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:09:53,166 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:09:53,167 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12237:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:09:53,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x300062334580000]
2015-05-21 15:09:53,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37952 which had sessionid 0x300062334580000
2015-05-21 15:09:53,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:09:53,167 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x300062334580000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:53,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:09:53,168 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:09:53,168 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:09:53,168 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:09:53,168 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:09:53,168 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:53,168 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:09:53,168 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:53,168 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:53,168 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:53,169 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:09:53,169 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:09:53,169 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:53,169 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:09:53,169 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50565:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:50565 ********
2015-05-21 15:09:53,169 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:53,169 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50564:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:50564 ********
2015-05-21 15:09:53,171 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:09:53,171 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50564:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:53,171 [myid:] - WARN  [SyncThread:1:SendAckRequestProcessor@64] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:141)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:62)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:186)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:113)
2015-05-21 15:09:53,170 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50565:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:53,170 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2015-05-21 15:09:53,169 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:53,172 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:09:53,172 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:53,171 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:53,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623343b0000]
2015-05-21 15:09:53,173 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000623343b0000]
2015-05-21 15:09:53,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45200 which had sessionid 0x1000623343b0000
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53758 which had sessionid 0x2000623343b0000
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:53,174 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000623343b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:53,174 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623343b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:53,174 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:53,174 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:53,175 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:53,175 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:53,175 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:53,175 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:53,175 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:53,175 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:53,175 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:53,175 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:53,176 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:53,176 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:53,176 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:53,176 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:53,176 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:53,176 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:53,176 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:53,176 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:53,177 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:53,177 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.10000000d
2015-05-21 15:09:53,179 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x1fffffffe
2015-05-21 15:09:53,179 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x1fffffffe
2015-05-21 15:09:53,179 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,180 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,180 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:53,180 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,180 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,180 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:53,184 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,184 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,184 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:53,185 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,185 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,188 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:53,388 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:53,388 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:53,389 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:53,389 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:53,389 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2
2015-05-21 15:09:53,389 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:53,389 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:53,390 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:53,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:53,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:53,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:53,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2
2015-05-21 15:09:53,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:53,394 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57266:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12231:12232:participant;127.0.0.1:11230
2015-05-21 15:09:53,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57266:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x1fffffffe lastProcessedZxid=0x1fffffffe peerLastZxid=0x1fffffffe
2015-05-21 15:09:53,418 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57266:LearnerHandler@703] - Sending DIFF zxid=0x1fffffffe for peer sid: 1
2015-05-21 15:09:53,419 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:09:53,419 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:53,420 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:53,433 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:09:53,434 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:53,436 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:53,437 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:54,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:09:54,312 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:54,313 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37954
2015-05-21 15:09:54,313 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:37954, server: 127.0.0.1/127.0.0.1:11236
2015-05-21 15:09:54,314 [myid:] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:09:54,314 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37954 (no session established for client)
2015-05-21 15:09:54,314 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x300062334580000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:54,491 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:54,491 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45205
2015-05-21 15:09:54,491 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45205, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:09:54,492 [myid:] - INFO  [NIOWorkerThread-11:ZooKeeperServer@936] - Client attempting to renew session 0x1000623343b0000 at /127.0.0.1:45205
2015-05-21 15:09:54,492 [myid:] - INFO  [NIOWorkerThread-11:Learner@110] - Revalidating client: 0x1000623343b0000
2015-05-21 15:09:54,496 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:45205
2015-05-21 15:09:54,497 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x1000623343b0000, negotiated timeout = 30000
2015-05-21 15:09:54,697 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:09:54,697 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:09:54,697 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:54,697 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:54,698 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:09:54,702 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x1fffffffe
2015-05-21 15:09:54,703 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:54,703 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:54,703 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:09:54,704 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:54,704 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:54,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:54,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:54,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:54,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:54,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2
2015-05-21 15:09:54,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:54,707 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57269:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:12237:12238:participant;127.0.0.1:11236
2015-05-21 15:09:54,720 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57269:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x1fffffffe lastProcessedZxid=0x200000000 peerLastZxid=0x1fffffffe
2015-05-21 15:09:54,720 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57269:LearnerHandler@720] - Using committedLog for peer sid: 3
2015-05-21 15:09:54,720 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57269:LearnerHandler@810] - Sending DIFF zxid=0x1fffffffe for peer sid: 3
2015-05-21 15:09:54,721 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:09:54,722 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:54,722 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:54,735 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:54,736 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:54,826 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:54,826 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53764, server: 127.0.0.1/127.0.0.1:11233
2015-05-21 15:09:54,826 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53764
2015-05-21 15:09:54,827 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x2000623343b0000 at /127.0.0.1:53764
2015-05-21 15:09:54,828 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@645] - Established session 0x2000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:53764
2015-05-21 15:09:54,829 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11233, sessionid = 0x2000623343b0000, negotiated timeout = 30000
2015-05-21 15:09:55,457 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:55,457 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:37958, server: 127.0.0.1/127.0.0.1:11236
2015-05-21 15:09:55,457 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37958
2015-05-21 15:09:55,458 [myid:] - INFO  [NIOWorkerThread-5:ZooKeeperServer@936] - Client attempting to renew session 0x300062334580000 at /127.0.0.1:37958
2015-05-21 15:09:55,459 [myid:] - INFO  [NIOWorkerThread-5:Learner@110] - Revalidating client: 0x300062334580000
2015-05-21 15:09:55,461 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@645] - Established session 0x300062334580000 with negotiated timeout 30000 for client /127.0.0.1:37958
2015-05-21 15:09:55,462 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11236, sessionid = 0x300062334580000, negotiated timeout = 30000
2015-05-21 15:09:55,462 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:09:55,462 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:325)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:09:55,463 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623343b0000]
2015-05-21 15:09:55,464 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45205 which had sessionid 0x1000623343b0000
2015-05-21 15:09:55,464 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:55,464 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623343b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:55,464 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:09:55,465 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:55,465 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:09:55,465 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:55,465 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:55,465 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:55,466 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:55,466 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:55,466 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:55,467 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:09:55,467 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:55,468 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:09:55,468 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:09:55,468 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:09:55,569 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:09:55,570 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:55,571 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:55,571 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:09:55,571 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:55,573 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:55,571 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:55,573 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:09:55,570 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:55,574 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:55,570 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:09:55,574 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:55,575 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:09:55,573 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:09:55,576 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:09:55,572 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled) to exit thread
2015-05-21 15:09:55,572 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:55,572 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:09:55,575 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:09:56,438 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:56,438 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:56,438 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:56,438 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:09:56,439 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:09:56,439 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:09:56,439 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:09:56,439 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:09:56,440 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:56,711 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:56,712 [myid:] - WARN  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1215] - Session 0x1000623343b0000 for server 127.0.0.1/127.0.0.1:11230, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:09:56,812 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11230
2015-05-21 15:09:56,813 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:09:56,813 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11230
2015-05-21 15:09:56,815 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:56,818 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:09:56,819 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:09:56,820 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@5c9e4a20: java.net.BindException: Address already in use
2015-05-21 15:09:56,820 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.server.ZxidRolloverTest.start(ZxidRolloverTest.java:155)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:326)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 19 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:09:56,821 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12232
2015-05-21 15:09:56,822 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:56,823 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45211
2015-05-21 15:09:56,824 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:56,824 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45211
2015-05-21 15:09:56,824 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x1fffffffe
2015-05-21 15:09:56,824 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45211 (no session established for client)
2015-05-21 15:09:56,825 [myid:] - INFO  [/127.0.0.1:12235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48539
2015-05-21 15:09:56,826 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:09:56,826 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:09:56,826 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53035
2015-05-21 15:09:56,826 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42151
2015-05-21 15:09:56,826 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 1)
2015-05-21 15:09:56,828 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53037
2015-05-21 15:09:56,828 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:09:56,828 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@294] - 1 Received version: 100000000 my version: 0
2015-05-21 15:09:56,829 [myid:] - ERROR [WorkerReceiver[myid=1]:QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:09:56,830 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:56,830 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:09:56,830 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:56,831 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:56,831 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:56,831 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:56,832 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:09:56,832 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:56,832 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:56,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:56,833 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:09:56,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:56,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:56,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2
2015-05-21 15:09:56,833 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:09:56,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:56,834 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:09:56,835 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57279:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12231:12232:participant;127.0.0.1:11230
2015-05-21 15:09:56,835 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57279:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x1fffffffe lastProcessedZxid=0x200000000 peerLastZxid=0x1fffffffe
2015-05-21 15:09:56,835 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57279:LearnerHandler@720] - Using committedLog for peer sid: 1
2015-05-21 15:09:56,835 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57279:LearnerHandler@810] - Sending DIFF zxid=0x1fffffffe for peer sid: 1
2015-05-21 15:09:56,836 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:09:56,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:56,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:09:56,849 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:56,849 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:57,074 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:09:57,075 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45217
2015-05-21 15:09:57,076 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45217
2015-05-21 15:09:57,076 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:57,077 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45217 (no session established for client)
2015-05-21 15:09:57,077 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11233
2015-05-21 15:09:57,078 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53775
2015-05-21 15:09:57,079 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53775
2015-05-21 15:09:57,079 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:57,080 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53775 (no session established for client)
2015-05-21 15:09:57,080 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:09:57,081 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37969
2015-05-21 15:09:57,082 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:37969
2015-05-21 15:09:57,082 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:09:57,083 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37969 (no session established for client)
2015-05-21 15:09:57,703 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:09:57,704 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:09:57,970 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:57,970 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45220
2015-05-21 15:09:57,970 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45220, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:09:57,972 [myid:] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x1000623343b0000 at /127.0.0.1:45220
2015-05-21 15:09:57,972 [myid:] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x1000623343b0000
2015-05-21 15:09:57,973 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:45220
2015-05-21 15:09:57,974 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x1000623343b0000, negotiated timeout = 30000
2015-05-21 15:09:57,981 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 12
2015-05-21 15:09:57,985 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:09:57,989 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:09:57,993 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:09:57,997 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:09:58,001 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:09:58,004 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:09:58,007 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:09:58,011 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:09:58,014 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:09:58,017 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:09:58,020 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:09:58,023 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:09:58,024 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 12 thru 22
2015-05-21 15:09:58,026 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:09:58,026 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:09:58,026 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:09:58,027 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:09:58,027 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:09:58,067 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.200000003
2015-05-21 15:09:58,079 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.200000004
2015-05-21 15:09:58,082 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000005
2015-05-21 15:09:58,094 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000006
2015-05-21 15:09:58,094 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.200000005
2015-05-21 15:09:58,113 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000007
2015-05-21 15:09:58,134 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.200000008
2015-05-21 15:09:58,144 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.20000000a
2015-05-21 15:09:58,144 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.200000009
2015-05-21 15:09:58,147 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.200000009
2015-05-21 15:09:58,160 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 22
2015-05-21 15:09:58,164 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:09:58,167 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:09:58,171 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:09:58,174 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:09:58,177 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:09:58,180 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:09:58,183 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:09:58,186 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:09:58,189 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:09:58,192 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:09:58,195 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:09:58,198 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:09:58,201 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:09:58,204 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:09:58,207 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:09:58,210 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:09:58,213 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:09:58,216 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:09:58,219 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:09:58,222 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:09:58,225 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:09:58,228 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:09:58,229 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2015-05-21 15:09:58,231 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.2fffffffd
2015-05-21 15:09:58,231 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@122] - Got zxid 0x2fffffffd expected 0x20000000b
2015-05-21 15:09:58,231 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@122] - Got zxid 0x2fffffffd expected 0x20000000b
2015-05-21 15:09:58,231 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.2fffffffd
2015-05-21 15:09:58,251 [myid:] - WARN  [SyncThread:2:Leader@719] - Commiting zxid 0x2fffffffd from null not first!
2015-05-21 15:09:58,251 [myid:] - WARN  [SyncThread:2:Leader@721] - First is 8589934603
2015-05-21 15:09:58,261 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:09:58,261 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:09:58,262 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12234:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:09:58,262 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x2000623343b0000]
2015-05-21 15:09:58,263 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53764 which had sessionid 0x2000623343b0000
2015-05-21 15:09:58,263 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:09:58,263 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000623343b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:58,263 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:09:58,263 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:09:58,263 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:09:58,263 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:09:58,264 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:09:58,264 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:58,264 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:09:58,264 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:58,264 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:58,264 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:58,264 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:09:58,265 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:09:58,265 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:58,265 [myid:] - ERROR [ProcessThread(sid:2 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:2 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:09:58,266 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:2 cport:-1): exits, error code 1
2015-05-21 15:09:58,265 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57279:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:57279 ********
2015-05-21 15:09:58,265 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57269:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:57269 ********
2015-05-21 15:09:58,266 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57269:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:58,265 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57266:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:57266 ********
2015-05-21 15:09:58,265 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:09:58,267 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57266:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:58,266 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57279:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:09:58,266 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:09:58,266 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:09:58,268 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:09:58,269 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:58,269 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:09:58,270 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x300062334580000]
2015-05-21 15:09:58,270 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623343b0000]
2015-05-21 15:09:58,270 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37958 which had sessionid 0x300062334580000
2015-05-21 15:09:58,271 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45220 which had sessionid 0x1000623343b0000
2015-05-21 15:09:58,271 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:58,271 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:09:58,271 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:58,271 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x300062334580000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:58,271 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:58,271 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:09:58,272 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:58,271 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623343b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:09:58,272 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:09:58,272 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:58,272 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:09:58,271 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:09:58,273 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:58,272 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:58,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:09:58,273 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:09:58,273 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:58,274 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:09:58,274 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:58,274 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:09:58,274 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:58,274 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:09:58,275 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:58,275 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:58,275 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:58,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:58,276 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.200000008
2015-05-21 15:09:58,276 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.200000009
2015-05-21 15:09:58,279 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x2fffffffe
2015-05-21 15:09:58,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x2fffffffe
2015-05-21 15:09:58,280 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,280 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,280 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:58,280 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,280 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,280 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:58,281 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,281 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,281 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:58,281 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,281 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,282 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2
2015-05-21 15:09:58,482 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:58,483 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:09:58,483 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2
2015-05-21 15:09:58,483 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:09:58,483 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x2fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:09:58,484 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50591:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12231:12232:participant;127.0.0.1:11230
2015-05-21 15:09:58,503 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50591:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x2fffffffe minCommittedLog=0x200000009 lastProcessedZxid=0x2fffffffe peerLastZxid=0x2fffffffe
2015-05-21 15:09:58,503 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50591:LearnerHandler@703] - Sending DIFF zxid=0x2fffffffe for peer sid: 1
2015-05-21 15:09:58,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x2fffffffe
2015-05-21 15:09:58,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:58,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x2fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:09:58,527 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3] ]; starting up and setting last processed zxid: 0x300000000
2015-05-21 15:09:58,528 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:58,529 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:58,529 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:59,438 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:09:59,438 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:09:59,439 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:09:59,439 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:09:59,440 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.200000009
2015-05-21 15:09:59,445 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x2fffffffe
2015-05-21 15:09:59,446 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:59,446 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:09:59,446 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:09:59,447 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:59,448 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:09:59,448 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:09:59,448 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:09:59,448 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:09:59,448 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:09:59,449 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2
2015-05-21 15:09:59,449 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:09:59,450 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50592:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12234:12235:participant;127.0.0.1:11233
2015-05-21 15:09:59,462 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50592:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x2fffffffe minCommittedLog=0x200000009 lastProcessedZxid=0x300000000 peerLastZxid=0x2fffffffe
2015-05-21 15:09:59,462 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50592:LearnerHandler@720] - Using committedLog for peer sid: 2
2015-05-21 15:09:59,462 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50592:LearnerHandler@810] - Sending DIFF zxid=0x2fffffffe for peer sid: 2
2015-05-21 15:09:59,463 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Learner@366] - Getting a diff from the leader 0x2fffffffe
2015-05-21 15:09:59,464 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:09:59,464 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x2fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:09:59,475 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:09:59,475 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:09:59,491 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:59,491 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45223
2015-05-21 15:09:59,491 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45223, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:09:59,492 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x1000623343b0000 at /127.0.0.1:45223
2015-05-21 15:09:59,492 [myid:] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x1000623343b0000
2015-05-21 15:09:59,494 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:45223
2015-05-21 15:09:59,495 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x1000623343b0000, negotiated timeout = 30000
2015-05-21 15:09:59,864 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11236. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:09:59,864 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37974
2015-05-21 15:09:59,864 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:37974, server: 127.0.0.1/127.0.0.1:11236
2015-05-21 15:09:59,865 [myid:] - INFO  [NIOWorkerThread-10:ZooKeeperServer@936] - Client attempting to renew session 0x300062334580000 at /127.0.0.1:37974
2015-05-21 15:09:59,866 [myid:] - INFO  [NIOWorkerThread-10:ZooKeeperServer@645] - Established session 0x300062334580000 with negotiated timeout 30000 for client /127.0.0.1:37974
2015-05-21 15:09:59,867 [myid:] - INFO  [main-SendThread(127.0.0.1:11236):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11236, sessionid = 0x300062334580000, negotiated timeout = 30000
2015-05-21 15:10:00,212 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:00,212 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53782
2015-05-21 15:10:00,213 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:53782, server: 127.0.0.1/127.0.0.1:11233
2015-05-21 15:10:00,214 [myid:] - INFO  [NIOWorkerThread-9:ZooKeeperServer@936] - Client attempting to renew session 0x2000623343b0000 at /127.0.0.1:53782
2015-05-21 15:10:00,214 [myid:] - INFO  [NIOWorkerThread-9:Learner@110] - Revalidating client: 0x2000623343b0000
2015-05-21 15:10:00,215 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):ZooKeeperServer@645] - Established session 0x2000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:53782
2015-05-21 15:10:00,216 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11233, sessionid = 0x2000623343b0000, negotiated timeout = 30000
2015-05-21 15:10:00,216 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:10:00,216 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:336)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:00,217 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623343b0000]
2015-05-21 15:10:00,217 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45223 which had sessionid 0x1000623343b0000
2015-05-21 15:10:00,217 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:00,217 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623343b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:00,217 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:00,217 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:00,217 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:00,217 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:00,217 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:00,218 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:00,218 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:00,218 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:00,218 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:00,218 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:00,219 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:00,219 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:00,219 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:00,219 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:00,239 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:00,320 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:00,320 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:00,320 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:00,322 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:00,320 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:00,322 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:00,322 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:10:00,323 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:00,323 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:00,322 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:00,324 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:00,321 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:00,324 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:00,321 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:00,321 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:00,325 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:00,325 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:00,326 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:00,323 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled) to exit thread
2015-05-21 15:10:00,530 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:00,530 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:00,530 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:00,530 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:00,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:10:00,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:10:00,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:10:00,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:10:00,532 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:10:02,278 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:02,278 [myid:] - WARN  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1215] - Session 0x1000623343b0000 for server 127.0.0.1/127.0.0.1:11230, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:02,379 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11230
2015-05-21 15:10:02,380 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:02,380 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11230
2015-05-21 15:10:02,382 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:10:02,387 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:02,388 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:02,388 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@397fe9c: java.net.BindException: Address already in use
2015-05-21 15:10:02,388 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.server.ZxidRolloverTest.start(ZxidRolloverTest.java:155)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:337)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 19 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:02,390 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12232
2015-05-21 15:10:02,390 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:10:02,391 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45228
2015-05-21 15:10:02,392 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45228
2015-05-21 15:10:02,392 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:02,393 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45228 (no session established for client)
2015-05-21 15:10:02,393 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x2fffffffe
2015-05-21 15:10:02,393 [myid:] - INFO  [/127.0.0.1:12235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48556
2015-05-21 15:10:02,394 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:10:02,394 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:02,394 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42167
2015-05-21 15:10:02,394 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 1)
2015-05-21 15:10:02,395 [myid:] - INFO  [localhost/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53053
2015-05-21 15:10:02,395 [myid:] - INFO  [localhost/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53054
2015-05-21 15:10:02,396 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@294] - 1 Received version: 100000000 my version: 0
2015-05-21 15:10:02,396 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:10:02,396 [myid:] - ERROR [WorkerReceiver[myid=1]:QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:02,396 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:10:02,396 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:02,396 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:02,397 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:02,397 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:02,397 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:02,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:02,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2
2015-05-21 15:10:02,398 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:02,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:02,398 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:02,398 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:02,398 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50603:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12231:12232:participant;127.0.0.1:11230
2015-05-21 15:10:02,398 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50603:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x2fffffffe minCommittedLog=0x200000009 lastProcessedZxid=0x300000000 peerLastZxid=0x2fffffffe
2015-05-21 15:10:02,398 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50603:LearnerHandler@720] - Using committedLog for peer sid: 1
2015-05-21 15:10:02,398 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50603:LearnerHandler@810] - Sending DIFF zxid=0x2fffffffe for peer sid: 1
2015-05-21 15:10:02,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x2fffffffe
2015-05-21 15:10:02,400 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:02,400 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x2fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:10:02,415 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:02,415 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:02,446 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:02,447 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:02,643 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:10:02,643 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45234
2015-05-21 15:10:02,644 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45234
2015-05-21 15:10:02,645 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:02,645 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45234 (no session established for client)
2015-05-21 15:10:02,645 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11233
2015-05-21 15:10:02,646 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53792
2015-05-21 15:10:02,647 [myid:] - INFO  [NIOWorkerThread-11:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53792
2015-05-21 15:10:02,647 [myid:] - INFO  [NIOWorkerThread-11:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:02,648 [myid:] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53792 (no session established for client)
2015-05-21 15:10:02,648 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:10:02,649 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37986
2015-05-21 15:10:02,650 [myid:] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:37986
2015-05-21 15:10:02,650 [myid:] - INFO  [NIOWorkerThread-12:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:02,652 [myid:] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37986 (no session established for client)
2015-05-21 15:10:03,412 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:03,413 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45237
2015-05-21 15:10:03,413 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45237, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:10:03,415 [myid:] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x1000623343b0000 at /127.0.0.1:45237
2015-05-21 15:10:03,415 [myid:] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x1000623343b0000
2015-05-21 15:10:03,416 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:45237
2015-05-21 15:10:03,417 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x1000623343b0000, negotiated timeout = 30000
2015-05-21 15:10:03,425 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 24
2015-05-21 15:10:03,429 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:03,433 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:03,437 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:03,441 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:03,444 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:03,447 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:03,450 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:03,453 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:03,455 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:03,458 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:03,461 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:10:03,464 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:10:03,467 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:10:03,470 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:10:03,473 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:10:03,475 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:10:03,478 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:10:03,481 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:10:03,483 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:10:03,486 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:10:03,489 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:10:03,492 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:10:03,495 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2015-05-21 15:10:03,498 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2015-05-21 15:10:03,499 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 24 thru 34
2015-05-21 15:10:03,502 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:10:03,502 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:10:03,503 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:10:03,534 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.300000003
2015-05-21 15:10:03,534 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.300000003
2015-05-21 15:10:03,548 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000005
2015-05-21 15:10:03,548 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000005
2015-05-21 15:10:03,553 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.300000004
2015-05-21 15:10:03,574 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000006
2015-05-21 15:10:03,594 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000007 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.300000007
2015-05-21 15:10:03,603 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000009
2015-05-21 15:10:03,603 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.300000008
2015-05-21 15:10:03,604 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.300000008
2015-05-21 15:10:03,619 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.30000000a
2015-05-21 15:10:03,619 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.30000000a
2015-05-21 15:10:03,641 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:10:03,641 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:342)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:03,642 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623343b0000]
2015-05-21 15:10:03,642 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45237 which had sessionid 0x1000623343b0000
2015-05-21 15:10:03,643 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:03,643 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623343b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:03,643 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:03,643 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:03,643 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:03,643 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:03,643 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:03,643 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:03,644 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:03,644 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:03,644 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:03,645 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:03,645 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:03,645 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:03,645 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:03,646 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:03,746 [myid:] - INFO  [localhost/127.0.0.1:12232:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:03,747 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:03,748 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:10:03,748 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:03,748 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:03,750 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:03,748 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:03,751 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:03,748 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:03,751 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:03,748 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:03,752 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:03,752 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:03,753 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:03,750 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:03,753 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:03,749 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:03,749 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled) to exit thread
2015-05-21 15:10:03,749 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:04,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:04,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:04,532 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:04,532 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:04,532 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:10:04,532 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:10:04,532 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:10:04,533 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:10:04,533 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:10:04,915 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:04,916 [myid:] - WARN  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1215] - Session 0x1000623343b0000 for server 127.0.0.1/127.0.0.1:11230, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:05,017 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11230
2015-05-21 15:10:05,017 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:05,017 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11230
2015-05-21 15:10:05,020 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.300000008
2015-05-21 15:10:05,026 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:05,028 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:05,028 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@52d1f1fb: java.net.BindException: Address already in use
2015-05-21 15:10:05,028 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.server.ZxidRolloverTest.start(ZxidRolloverTest.java:155)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:343)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 19 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:05,030 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12232
2015-05-21 15:10:05,030 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:10:05,031 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45240
2015-05-21 15:10:05,032 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:05,032 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45240
2015-05-21 15:10:05,032 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x30000000a
2015-05-21 15:10:05,032 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45240 (no session established for client)
2015-05-21 15:10:05,033 [myid:] - INFO  [/127.0.0.1:12235:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48568
2015-05-21 15:10:05,033 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:10:05,034 [myid:] - INFO  [localhost/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53064
2015-05-21 15:10:05,034 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42180
2015-05-21 15:10:05,034 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 1)
2015-05-21 15:10:05,034 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:05,034 [myid:] - INFO  [localhost/127.0.0.1:12232:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53066
2015-05-21 15:10:05,035 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@294] - 1 Received version: 100000000 my version: 0
2015-05-21 15:10:05,035 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:10:05,035 [myid:] - ERROR [WorkerReceiver[myid=1]:QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:05,036 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:10:05,036 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:05,036 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:05,037 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:05,037 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:05,037 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:05,037 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:05,037 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:05,038 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:05,038 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2
2015-05-21 15:10:05,038 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:05,039 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50615:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12231:12232:participant;127.0.0.1:11230
2015-05-21 15:10:05,039 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50615:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x30000000a minCommittedLog=0x200000009 lastProcessedZxid=0x30000000a peerLastZxid=0x30000000a
2015-05-21 15:10:05,039 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50615:LearnerHandler@703] - Sending DIFF zxid=0x30000000a for peer sid: 1
2015-05-21 15:10:05,040 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x30000000a
2015-05-21 15:10:05,041 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:05,042 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x30000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.30000000a
2015-05-21 15:10:05,057 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:05,057 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:05,283 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:10:05,283 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45246
2015-05-21 15:10:05,284 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:45246
2015-05-21 15:10:05,284 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:05,285 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45246 (no session established for client)
2015-05-21 15:10:05,285 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11233
2015-05-21 15:10:05,286 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:53804
2015-05-21 15:10:05,287 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:53804
2015-05-21 15:10:05,287 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:05,287 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53804 (no session established for client)
2015-05-21 15:10:05,288 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:10:05,288 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:37998
2015-05-21 15:10:05,289 [myid:] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:37998
2015-05-21 15:10:05,289 [myid:] - INFO  [NIOWorkerThread-15:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:05,290 [myid:] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37998 (no session established for client)
2015-05-21 15:10:05,397 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:05,398 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:06,458 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:06,459 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:45249
2015-05-21 15:10:06,459 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:45249, server: 127.0.0.1/127.0.0.1:11230
2015-05-21 15:10:06,460 [myid:] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x1000623343b0000 at /127.0.0.1:45249
2015-05-21 15:10:06,460 [myid:] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x1000623343b0000
2015-05-21 15:10:06,462 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623343b0000 with negotiated timeout 30000 for client /127.0.0.1:45249
2015-05-21 15:10:06,462 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x1000623343b0000, negotiated timeout = 30000
2015-05-21 15:10:06,469 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 34
2015-05-21 15:10:06,474 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:06,478 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:06,482 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:06,486 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:06,489 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:06,492 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:06,495 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:06,497 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:06,500 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:06,503 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:06,506 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:10:06,509 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:10:06,512 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:10:06,515 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:10:06,518 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:10:06,521 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:10:06,523 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:10:06,526 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:10:06,529 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:10:06,532 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:10:06,535 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:10:06,536 [myid:] - ERROR [LearnerHandler-/127.0.0.1:50591:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:254)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:10:06,537 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50591:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:50591 ********
2015-05-21 15:10:06,538 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:10:06,541 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2015-05-21 15:10:06,544 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2015-05-21 15:10:06,547 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2015-05-21 15:10:06,550 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2015-05-21 15:10:06,553 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2015-05-21 15:10:06,557 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2015-05-21 15:10:06,560 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2015-05-21 15:10:06,563 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2015-05-21 15:10:06,566 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2015-05-21 15:10:06,569 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2015-05-21 15:10:06,571 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2015-05-21 15:10:06,574 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2015-05-21 15:10:06,575 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 34 thru 44
2015-05-21 15:10:06,577 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@122] - Got zxid 0x30000000b expected 0x1
2015-05-21 15:10:06,577 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.30000000b
2015-05-21 15:10:06,605 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x30000000c to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.30000000c
2015-05-21 15:10:06,614 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.30000000e
2015-05-21 15:10:06,625 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x30000000e to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.30000000e
2015-05-21 15:10:06,633 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000010
2015-05-21 15:10:06,633 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x30000000f to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.30000000f
2015-05-21 15:10:06,650 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000011
2015-05-21 15:10:06,650 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000010 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.300000010
2015-05-21 15:10:06,669 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000012
2015-05-21 15:10:06,685 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000012 to /home/mitake/github/zookeeper.git/build/test/tmp/test5433114264020371886.junit.dir/version-2/snapshot.300000012
2015-05-21 15:10:06,694 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000014
2015-05-21 15:10:06,702 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2015-05-21 15:10:06,703 [myid:] - INFO  [NIOWorkerThread-21:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x1000623343b0000
2015-05-21 15:10:06,703 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x1000623343b0000
2015-05-21 15:10:06,714 [myid:] - INFO  [NIOWorkerThread-22:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623343b0000]
2015-05-21 15:10:06,714 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:06,714 [myid:] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:45249 which had sessionid 0x1000623343b0000
2015-05-21 15:10:06,714 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000623343b0000 closed
2015-05-21 15:10:06,714 [myid:] - INFO  [NIOWorkerThread-17:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x2000623343b0000
2015-05-21 15:10:06,715 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x2000623343b0000
2015-05-21 15:10:06,715 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000015 to /home/mitake/github/zookeeper.git/build/test/tmp/test8996276934896733419.junit.dir/version-2/snapshot.300000015
2015-05-21 15:10:06,729 [myid:] - INFO  [NIOWorkerThread-18:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000623343b0000]
2015-05-21 15:10:06,729 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000623343b0000 closed
2015-05-21 15:10:06,729 [myid:] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:53782 which had sessionid 0x2000623343b0000
2015-05-21 15:10:06,729 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:06,730 [myid:] - INFO  [NIOWorkerThread-18:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x300062334580000
2015-05-21 15:10:06,731 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x300062334580000
2015-05-21 15:10:06,731 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000017
2015-05-21 15:10:06,731 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000016 to /home/mitake/github/zookeeper.git/build/test/tmp/test8648523858179385823.junit.dir/version-2/snapshot.300000016
2015-05-21 15:10:06,746 [myid:] - INFO  [NIOWorkerThread-19:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x300062334580000]
2015-05-21 15:10:06,746 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x300062334580000 closed
2015-05-21 15:10:06,746 [myid:] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:37974 which had sessionid 0x300062334580000
2015-05-21 15:10:06,746 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:10:06,746 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:06,746 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:06,747 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:06,747 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:06,747 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:06,747 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:06,748 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:06,748 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:06,748 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:06,749 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:06,749 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:06,755 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:06,755 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:06,755 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11230:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:06,756 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:06,756 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:06,756 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:06,856 [myid:] - INFO  [localhost/127.0.0.1:12232:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:06,857 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:06,858 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled)
2015-05-21 15:10:06,858 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:06,857 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:06,859 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:06,857 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:06,857 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:06,860 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:06,857 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:06,860 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:06,859 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:06,861 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:06,859 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:06,862 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:06,858 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:06,858 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled) to exit thread
2015-05-21 15:10:06,858 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:06,861 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:07,532 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:07,532 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:07,533 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:07,533 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:07,533 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:10:07,533 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:10:07,533 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:10:07,534 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:10:07,534 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled)
2015-05-21 15:10:07,534 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:07,535 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:07,535 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:07,535 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:07,535 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:07,535 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:07,535 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:07,536 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:07,536 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:07,537 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:07,537 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:07,538 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:07,539 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:07,539 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:07,539 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:07,539 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:07,640 [myid:] - INFO  [/127.0.0.1:12235:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:07,640 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:07,640 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:07,642 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:07,640 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled)
2015-05-21 15:10:07,640 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:07,643 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:07,642 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled) to exit thread
2015-05-21 15:10:07,643 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:07,643 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:07,641 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:08,034 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:08,036 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:08,036 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:08,038 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:08,532 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:10:08,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:08,533 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:08,533 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:08,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:10:08,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:10:08,534 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:10:08,534 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:10:08,534 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled)
2015-05-21 15:10:08,534 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:08,534 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:08,535 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:08,535 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12237:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:08,535 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:08,536 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:08,536 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:08,536 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:08,536 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:08,536 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:08,537 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:08,537 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:08,537 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:08,537 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:08,537 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:08,538 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:08,539 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50592:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:50592 ********
2015-05-21 15:10:08,539 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50603:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:50603 ********
2015-05-21 15:10:08,539 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50592:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:08,539 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:08,539 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50615:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:50615 ********
2015-05-21 15:10:08,539 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50603:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:08,541 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:08,540 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:08,540 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11236:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:08,540 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50615:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:08,541 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:08,642 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:08,642 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:10:08,643 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled)
2015-05-21 15:10:08,643 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:08,643 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled) to exit thread
2015-05-21 15:10:08,643 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:08,643 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:08,644 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:08,644 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:08,644 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:08,644 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:08,644 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11236)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:08,645 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11230
2015-05-21 15:10:08,645 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11230 is no longer accepting client connections
2015-05-21 15:10:08,645 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11233
2015-05-21 15:10:08,646 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11233 is no longer accepting client connections
2015-05-21 15:10:08,646 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11236
2015-05-21 15:10:08,646 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11236 is no longer accepting client connections
2015-05-21 15:10:08,647 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testRolloverThenLeaderRestart
2015-05-21 15:10:08,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11239
2015-05-21 15:10:08,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11240
2015-05-21 15:10:08,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11241
2015-05-21 15:10:08,657 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11242
2015-05-21 15:10:08,658 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11243
2015-05-21 15:10:08,658 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11244
2015-05-21 15:10:08,658 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11245
2015-05-21 15:10:08,658 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11246
2015-05-21 15:10:08,658 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11247
2015-05-21 15:10:08,658 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 1; public port 11239
2015-05-21 15:10:08,658 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:08,658 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11239
2015-05-21 15:10:08,659 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 2; public port 11242
2015-05-21 15:10:08,659 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:08,659 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11242
2015-05-21 15:10:08,660 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 3; public port 11245
2015-05-21 15:10:08,660 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:08,660 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11245
2015-05-21 15:10:08,661 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:08,661 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:08,661 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:08,661 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:08,661 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:08,661 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:08,662 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:08,662 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:08,662 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:08,662 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:08,662 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11239 is no longer accepting client connections
2015-05-21 15:10:08,662 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:08,662 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11242 is no longer accepting client connections
2015-05-21 15:10:08,662 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:08,663 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11245 is no longer accepting client connections
2015-05-21 15:10:08,663 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11239
2015-05-21 15:10:08,663 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:08,663 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11239
2015-05-21 15:10:08,664 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:08,671 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:08,679 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:08,679 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:08,679 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@3f3d92b4: java.net.BindException: Address already in use
2015-05-21 15:10:08,680 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:08,680 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12241
2015-05-21 15:10:08,680 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:10:08,681 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11242
2015-05-21 15:10:08,681 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:08,681 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11242
2015-05-21 15:10:08,681 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:08,681 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:10:08,681 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:08,682 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:12244
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:08,682 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12247
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:08,683 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,688 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:08,700 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:08,701 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:08,701 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@2737c77b: java.net.BindException: Address already in use
2015-05-21 15:10:08,702 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:08,703 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12244
2015-05-21 15:10:08,703 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:10:08,703 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11245
2015-05-21 15:10:08,703 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:08,704 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11245
2015-05-21 15:10:08,704 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:08,705 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:10:08,705 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:08,706 [myid:] - INFO  [/127.0.0.1:12241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36189
2015-05-21 15:10:08,707 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,707 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12247
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:08,707 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,708 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12247
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:08,708 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,708 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,709 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,718 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:08,730 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:08,731 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:08,731 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@4e30cbae: java.net.BindException: Address already in use
2015-05-21 15:10:08,731 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:08,732 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12247
2015-05-21 15:10:08,733 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:10:08,733 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11239,127.0.0.1:11242,127.0.0.1:11245
2015-05-21 15:10:08,733 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:08,733 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58105
2015-05-21 15:10:08,733 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:08,733 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:58105
2015-05-21 15:10:08,733 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:10:08,734 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58105 (no session established for client)
2015-05-21 15:10:08,734 [myid:] - INFO  [/127.0.0.1:12241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36193
2015-05-21 15:10:08,734 [myid:] - INFO  [/127.0.0.1:12244:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58952
2015-05-21 15:10:08,734 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,735 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,735 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,735 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,735 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,736 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,736 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,736 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,736 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,736 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,736 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:08,936 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:08,936 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:08,936 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:08,938 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:08,938 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:08,937 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:08,938 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2
2015-05-21 15:10:08,938 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2
2015-05-21 15:10:08,938 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:08,938 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:10:08,939 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.0
2015-05-21 15:10:08,940 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53727:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12240:12241:participant;127.0.0.1:11239
2015-05-21 15:10:08,940 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53728:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12243:12244:participant;127.0.0.1:11242
2015-05-21 15:10:08,967 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53728:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:10:08,967 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53727:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:10:08,967 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53728:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:10:08,967 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53727:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:10:08,969 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:10:08,969 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:10:08,969 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:08,969 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:08,981 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.0
2015-05-21 15:10:08,981 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.0
2015-05-21 15:10:08,984 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:08,984 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58110
2015-05-21 15:10:08,985 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:58110
2015-05-21 15:10:08,985 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58110 (no session established for client)
2015-05-21 15:10:08,992 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 3],[2, 3] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:10:08,992 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:08,993 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:08,994 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:08,994 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:08,994 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:08,994 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:08,994 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:08,994 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:09,236 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:09,236 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58111
2015-05-21 15:10:09,237 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:58111
2015-05-21 15:10:09,238 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:09,238 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58111 (no session established for client)
2015-05-21 15:10:09,238 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11239 is accepting client connections
2015-05-21 15:10:09,238 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:09,239 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35475
2015-05-21 15:10:09,240 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:35475
2015-05-21 15:10:09,240 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:09,241 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35475 (no session established for client)
2015-05-21 15:10:09,241 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11242 is accepting client connections
2015-05-21 15:10:09,241 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:09,242 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41324
2015-05-21 15:10:09,243 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41324
2015-05-21 15:10:09,243 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:09,243 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41324 (no session established for client)
2015-05-21 15:10:09,244 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11245 is accepting client connections
2015-05-21 15:10:09,244 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:10:09,248 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:09,249 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:10:09,250 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:09,251 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:09,255 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:10:09,256 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:09,257 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:10:09,257 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:09,257 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:10:09,257 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:09,257 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11239 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@5c52d28a
2015-05-21 15:10:09,257 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11242 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@515f1fee
2015-05-21 15:10:09,257 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:09,257 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:58114, server: 127.0.0.1/127.0.0.1:11239
2015-05-21 15:10:09,257 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58114
2015-05-21 15:10:09,257 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11245 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@52097ce5
2015-05-21 15:10:09,257 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:09,258 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35478
2015-05-21 15:10:09,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:09,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:35478, server: 127.0.0.1/127.0.0.1:11242
2015-05-21 15:10:09,258 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41327
2015-05-21 15:10:09,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41327, server: 127.0.0.1/127.0.0.1:11245
2015-05-21 15:10:09,258 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:58114
2015-05-21 15:10:09,258 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:35478
2015-05-21 15:10:09,259 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:41327
2015-05-21 15:10:09,259 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:09,259 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:10:09,259 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:10:09,259 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:09,259 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:09,283 [myid:] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x100062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:58114
2015-05-21 15:10:09,283 [myid:] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x300062374010000 with negotiated timeout 30000 for client /127.0.0.1:41327
2015-05-21 15:10:09,283 [myid:] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x200062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:35478
2015-05-21 15:10:09,283 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11239, sessionid = 0x100062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:09,284 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11245, sessionid = 0x300062374010000, negotiated timeout = 30000
2015-05-21 15:10:09,284 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11242, sessionid = 0x200062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:09,284 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2015-05-21 15:10:09,285 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.100000003
2015-05-21 15:10:09,285 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.100000003
2015-05-21 15:10:09,286 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.100000003
2015-05-21 15:10:09,299 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:10:09,299 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:10:09,300 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:10:09,356 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.100000008
2015-05-21 15:10:09,356 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.100000008
2015-05-21 15:10:09,359 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.100000008
2015-05-21 15:10:09,369 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.10000000a
2015-05-21 15:10:09,369 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.10000000a
2015-05-21 15:10:09,372 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.10000000a
2015-05-21 15:10:09,407 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x10000000c to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.10000000c
2015-05-21 15:10:09,417 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 10
2015-05-21 15:10:09,419 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:09,421 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:09,423 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:09,425 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:09,426 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:09,428 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:09,430 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:09,431 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:09,433 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:09,435 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:09,436 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:10:09,437 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:09,437 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:367)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:09,438 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x300062374010000]
2015-05-21 15:10:09,438 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12246:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:09,438 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41327 which had sessionid 0x300062374010000
2015-05-21 15:10:09,438 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:09,438 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x300062374010000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:09,439 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:09,439 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:09,439 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:09,439 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:09,439 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:09,439 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:09,440 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:09,440 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:09,440 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:09,440 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:09,440 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:09,440 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:09,440 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53727:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53727 ********
2015-05-21 15:10:09,440 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53728:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53728 ********
2015-05-21 15:10:09,440 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:09,440 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53727:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:09,441 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:09,440 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:09,440 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:09,441 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:10:09,441 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:09,441 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:09,441 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:09,441 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53728:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:09,442 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x200062373ea0000]
2015-05-21 15:10:09,441 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35478 which had sessionid 0x200062373ea0000
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:09,442 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x200062373ea0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062373ea0000]
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58114 which had sessionid 0x100062373ea0000
2015-05-21 15:10:09,442 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:09,442 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062373ea0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:09,442 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:09,443 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:09,443 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:09,443 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:09,443 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:09,443 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:09,443 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:09,443 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:09,443 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:09,443 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:09,443 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:09,443 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:09,443 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:09,444 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:09,444 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:09,444 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:09,444 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:09,444 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:09,444 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:09,444 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.10000000c
2015-05-21 15:10:09,444 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.100000008
2015-05-21 15:10:09,445 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x10000000d
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x10000000d
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:09,446 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,447 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:09,542 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:10:09,542 [myid:] - INFO  [/127.0.0.1:12247:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:09,542 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:09,544 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:10:09,544 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:09,544 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:09,544 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:09,545 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:09,544 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:09,546 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:09,544 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:09,546 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:09,544 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:09,544 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:09,547 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:09,543 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:09,547 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:09,548 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:09,547 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:09,546 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:09,545 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:09,549 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:09,544 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled) to exit thread
2015-05-21 15:10:09,549 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:09,548 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:09,550 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:09,550 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:09,550 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:09,551 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:09,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:09,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:09,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:09,647 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:09,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:09,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:09,648 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2
2015-05-21 15:10:09,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:09,648 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:09,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:09,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2
2015-05-21 15:10:09,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:09,649 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x10000000d to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.10000000d
2015-05-21 15:10:09,652 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47766:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12240:12241:participant;127.0.0.1:11239
2015-05-21 15:10:09,676 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47766:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x10000000d minCommittedLog=0x10000000d lastProcessedZxid=0x10000000d peerLastZxid=0x10000000d
2015-05-21 15:10:09,676 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47766:LearnerHandler@703] - Sending DIFF zxid=0x10000000d for peer sid: 1
2015-05-21 15:10:09,677 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@366] - Getting a diff from the leader 0x10000000d
2015-05-21 15:10:09,677 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:09,678 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x10000000d to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.10000000d
2015-05-21 15:10:09,695 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:10:09,696 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:09,696 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:09,696 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:10,239 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:10,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:10,750 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:10,750 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58119
2015-05-21 15:10:10,750 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:58119, server: 127.0.0.1/127.0.0.1:11239
2015-05-21 15:10:10,752 [myid:] - INFO  [NIOWorkerThread-6:ZooKeeperServer@936] - Client attempting to renew session 0x100062373ea0000 at /127.0.0.1:58119
2015-05-21 15:10:10,752 [myid:] - INFO  [NIOWorkerThread-6:Learner@110] - Revalidating client: 0x100062373ea0000
2015-05-21 15:10:10,753 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@645] - Established session 0x100062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:58119
2015-05-21 15:10:10,754 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11239, sessionid = 0x100062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:11,036 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:11,036 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:11,140 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:11,141 [myid:] - WARN  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1215] - Session 0x300062374010000 for server 127.0.0.1/127.0.0.1:11245, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:11,244 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11245
2015-05-21 15:10:11,244 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:11,244 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11245
2015-05-21 15:10:11,246 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.100000008
2015-05-21 15:10:11,248 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:11,248 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:11,248 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@36ab0a5b: java.net.BindException: Address already in use
2015-05-21 15:10:11,249 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.server.ZxidRolloverTest.start(ZxidRolloverTest.java:155)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:368)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 19 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:11,249 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12247
2015-05-21 15:10:11,249 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:11,249 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58121
2015-05-21 15:10:11,250 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:58121
2015-05-21 15:10:11,250 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:11,250 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:11,250 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x10000000d
2015-05-21 15:10:11,250 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58121 (no session established for client)
2015-05-21 15:10:11,250 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:11,250 [myid:] - INFO  [/127.0.0.1:12241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36209
2015-05-21 15:10:11,250 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35486
2015-05-21 15:10:11,251 [myid:] - INFO  [/127.0.0.1:12244:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58969
2015-05-21 15:10:11,251 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:35486
2015-05-21 15:10:11,251 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:10:11,251 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:11,251 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@294] - 3 Received version: 100000000 my version: 0
2015-05-21 15:10:11,251 [myid:] - ERROR [WorkerReceiver[myid=3]:QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:11,251 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:10:11,251 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35486 (no session established for client)
2015-05-21 15:10:11,251 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:11,251 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:11,251 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41336
2015-05-21 15:10:11,252 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41336
2015-05-21 15:10:11,252 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41336 (no session established for client)
2015-05-21 15:10:11,252 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:11,252 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:11,252 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:11,252 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:11,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:11,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2
2015-05-21 15:10:11,253 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:11,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:11,253 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:11,253 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:11,253 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:11,253 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47774:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:12246:12247:participant;127.0.0.1:11245
2015-05-21 15:10:11,260 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47774:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x10000000d minCommittedLog=0x10000000d lastProcessedZxid=0x200000000 peerLastZxid=0x10000000d
2015-05-21 15:10:11,260 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47774:LearnerHandler@720] - Using committedLog for peer sid: 3
2015-05-21 15:10:11,260 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47774:LearnerHandler@810] - Sending DIFF zxid=0x10000000d for peer sid: 3
2015-05-21 15:10:11,261 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Learner@366] - Getting a diff from the leader 0x10000000d
2015-05-21 15:10:11,261 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:11,261 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x10000000d to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.10000000d
2015-05-21 15:10:11,274 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:11,274 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:11,424 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:11,424 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:35490, server: 127.0.0.1/127.0.0.1:11242
2015-05-21 15:10:11,424 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35490
2015-05-21 15:10:11,426 [myid:] - INFO  [NIOWorkerThread-5:ZooKeeperServer@936] - Client attempting to renew session 0x200062373ea0000 at /127.0.0.1:35490
2015-05-21 15:10:11,426 [myid:] - INFO  [NIOWorkerThread-5:ZooKeeperServer@645] - Established session 0x200062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:35490
2015-05-21 15:10:11,427 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11242, sessionid = 0x200062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:11,502 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:11,503 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41339
2015-05-21 15:10:11,504 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41339
2015-05-21 15:10:11,504 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:11,505 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41339 (no session established for client)
2015-05-21 15:10:12,447 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:12,447 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:12,808 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:12,808 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41340, server: 127.0.0.1/127.0.0.1:11245
2015-05-21 15:10:12,808 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41340
2015-05-21 15:10:12,810 [myid:] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x300062374010000 at /127.0.0.1:41340
2015-05-21 15:10:12,810 [myid:] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x300062374010000
2015-05-21 15:10:12,811 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@645] - Established session 0x300062374010000 with negotiated timeout 30000 for client /127.0.0.1:41340
2015-05-21 15:10:12,812 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11245, sessionid = 0x300062374010000, negotiated timeout = 30000
2015-05-21 15:10:12,814 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 10
2015-05-21 15:10:12,819 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:12,823 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:12,828 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:12,832 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:12,833 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:12,835 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:12,842 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:12,845 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:12,846 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:12,849 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:12,850 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2015-05-21 15:10:12,852 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:10:12,852 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:10:12,852 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:10:12,852 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:10:12,900 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.200000004
2015-05-21 15:10:12,900 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.200000004
2015-05-21 15:10:12,914 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000006
2015-05-21 15:10:12,914 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000006
2015-05-21 15:10:12,919 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.200000005
2015-05-21 15:10:12,935 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000007
2015-05-21 15:10:12,950 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.200000008
2015-05-21 15:10:12,960 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.20000000a
2015-05-21 15:10:12,965 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.200000009
2015-05-21 15:10:12,978 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 20
2015-05-21 15:10:12,980 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:12,981 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:12,983 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:12,986 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:12,987 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:12,988 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:12,989 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:12,991 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:12,993 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:12,994 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:12,995 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:10:12,996 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:10:12,997 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:10:12,999 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:10:13,000 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:10:13,001 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:10:13,002 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:10:13,004 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:10:13,006 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:10:13,008 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:10:13,009 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 20 thru 30
2015-05-21 15:10:13,009 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.2fffffffd
2015-05-21 15:10:13,009 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@122] - Got zxid 0x2fffffffd expected 0x20000000b
2015-05-21 15:10:13,009 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@122] - Got zxid 0x2fffffffd expected 0x20000000b
2015-05-21 15:10:13,009 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x20000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.20000000a
2015-05-21 15:10:13,020 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47774:Leader@719] - Commiting zxid 0x2fffffffd from /127.0.0.1:12243 not first!
2015-05-21 15:10:13,021 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47774:Leader@721] - First is 8589934603
2015-05-21 15:10:13,022 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.2fffffffe
2015-05-21 15:10:13,035 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:10:13,035 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:10:13,036 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12243:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:13,036 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x200062373ea0000]
2015-05-21 15:10:13,036 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35490 which had sessionid 0x200062373ea0000
2015-05-21 15:10:13,037 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:10:13,037 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:13,037 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:13,037 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:13,037 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x200062373ea0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:13,037 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:13,037 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:10:13,038 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:13,038 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:13,038 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:13,038 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:13,038 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:13,039 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:13,039 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:10:13,039 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:13,040 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47774:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:47774 ********
2015-05-21 15:10:13,040 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:10:13,040 [myid:] - WARN  [SyncThread:3:SendAckRequestProcessor@64] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:141)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:62)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:186)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:113)
2015-05-21 15:10:13,039 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:13,039 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47766:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:47766 ********
2015-05-21 15:10:13,041 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:13,039 [myid:] - ERROR [ProcessThread(sid:2 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:2 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:10:13,042 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:2 cport:-1): exits, error code 1
2015-05-21 15:10:13,041 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:13,041 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47766:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:13,040 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:13,040 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47774:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:13,043 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x300062374010000]
2015-05-21 15:10:13,043 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062373ea0000]
2015-05-21 15:10:13,042 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58119 which had sessionid 0x100062373ea0000
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41340 which had sessionid 0x300062374010000
2015-05-21 15:10:13,044 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062373ea0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:13,044 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x300062374010000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:13,045 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:13,045 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:13,044 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:13,045 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:13,045 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:13,045 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:13,045 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:13,046 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:13,046 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:13,046 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:13,046 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:13,046 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:13,046 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:13,046 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:13,046 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:13,046 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:13,046 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:13,046 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:13,047 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.20000000a
2015-05-21 15:10:13,047 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.200000008
2015-05-21 15:10:13,049 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x2fffffffe
2015-05-21 15:10:13,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x2fffffffe
2015-05-21 15:10:13,050 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:13,050 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,050 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,050 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:13,050 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,051 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,051 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,051 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,051 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,051 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:13,051 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,051 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,052 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,052 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,052 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:13,052 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,053 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:13,138 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled)
2015-05-21 15:10:13,138 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:13,138 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:13,139 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:13,139 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:13,139 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:13,140 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:13,240 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:10:13,240 [myid:] - INFO  [/127.0.0.1:12244:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:13,241 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:13,241 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:13,241 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:13,242 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:13,241 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:13,243 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:13,241 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:13,243 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:13,241 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled)
2015-05-21 15:10:13,241 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:13,244 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:13,241 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:13,244 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:13,244 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:13,241 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:13,245 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:13,244 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:13,243 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled) to exit thread
2015-05-21 15:10:13,242 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:13,246 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:13,242 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:13,245 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:13,246 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:10:13,247 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:10:13,247 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:10:13,247 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:10:13,247 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:13,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:13,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:13,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:13,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:13,253 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:13,253 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2
2015-05-21 15:10:13,253 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:13,254 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:13,254 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:13,254 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:13,254 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2
2015-05-21 15:10:13,254 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x2fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:10:13,254 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:13,256 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53750:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12240:12241:participant;127.0.0.1:11239
2015-05-21 15:10:13,273 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53750:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x2fffffffe minCommittedLog=0x2fffffffd lastProcessedZxid=0x2fffffffe peerLastZxid=0x2fffffffe
2015-05-21 15:10:13,274 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53750:LearnerHandler@703] - Sending DIFF zxid=0x2fffffffe for peer sid: 1
2015-05-21 15:10:13,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@366] - Getting a diff from the leader 0x2fffffffe
2015-05-21 15:10:13,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:13,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x2fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:10:13,298 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3] ]; starting up and setting last processed zxid: 0x300000000
2015-05-21 15:10:13,299 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:13,300 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:13,300 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:14,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:14,273 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:14,273 [myid:] - WARN  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1215] - Session 0x200062373ea0000 for server 127.0.0.1/127.0.0.1:11242, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:14,275 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:14,275 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:58133, server: 127.0.0.1/127.0.0.1:11239
2015-05-21 15:10:14,275 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58133
2015-05-21 15:10:14,276 [myid:] - INFO  [NIOWorkerThread-13:ZooKeeperServer@936] - Client attempting to renew session 0x100062373ea0000 at /127.0.0.1:58133
2015-05-21 15:10:14,277 [myid:] - INFO  [NIOWorkerThread-13:Learner@110] - Revalidating client: 0x100062373ea0000
2015-05-21 15:10:14,278 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@645] - Established session 0x100062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:58133
2015-05-21 15:10:14,279 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11239, sessionid = 0x100062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:14,376 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11242
2015-05-21 15:10:14,377 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:14,377 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11242
2015-05-21 15:10:14,379 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.200000009
2015-05-21 15:10:14,383 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:14,385 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:14,385 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@3a6749fd: java.net.BindException: Address already in use
2015-05-21 15:10:14,385 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.server.ZxidRolloverTest.start(ZxidRolloverTest.java:155)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:380)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 19 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:14,388 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12244
2015-05-21 15:10:14,388 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:14,388 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58134
2015-05-21 15:10:14,390 [myid:] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:58134
2015-05-21 15:10:14,390 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:14,390 [myid:] - INFO  [NIOWorkerThread-17:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:14,390 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x2fffffffe
2015-05-21 15:10:14,391 [myid:] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58134 (no session established for client)
2015-05-21 15:10:14,391 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:14,391 [myid:] - INFO  [/127.0.0.1:12241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36222
2015-05-21 15:10:14,391 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35499
2015-05-21 15:10:14,392 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:35499
2015-05-21 15:10:14,392 [myid:] - INFO  [localhost/127.0.0.1:12247:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:50560
2015-05-21 15:10:14,392 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:10:14,392 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35499 (no session established for client)
2015-05-21 15:10:14,392 [myid:] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-05-21 15:10:14,392 [myid:] - INFO  [localhost/127.0.0.1:12244:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58983
2015-05-21 15:10:14,392 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:14,393 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@294] - 2 Received version: 100000000 my version: 0
2015-05-21 15:10:14,393 [myid:] - ERROR [WorkerReceiver[myid=2]:QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:14,393 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:14,393 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:10:14,394 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:14,394 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:14,394 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:14,394 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:14,394 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:14,394 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:14,395 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:14,395 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:14,395 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:14,395 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:14,395 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:14,395 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:14,395 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2
2015-05-21 15:10:14,396 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:14,396 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:14,397 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53758:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12243:12244:participant;127.0.0.1:11242
2015-05-21 15:10:14,404 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53758:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x2fffffffe minCommittedLog=0x2fffffffd lastProcessedZxid=0x300000000 peerLastZxid=0x2fffffffe
2015-05-21 15:10:14,405 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53758:LearnerHandler@720] - Using committedLog for peer sid: 2
2015-05-21 15:10:14,405 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53758:LearnerHandler@810] - Sending DIFF zxid=0x2fffffffe for peer sid: 2
2015-05-21 15:10:14,405 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@366] - Getting a diff from the leader 0x2fffffffe
2015-05-21 15:10:14,406 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:14,406 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x2fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.2fffffffe
2015-05-21 15:10:14,415 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:14,415 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:14,642 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:14,643 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35503
2015-05-21 15:10:14,644 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:35503
2015-05-21 15:10:14,644 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:14,644 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35503 (no session established for client)
2015-05-21 15:10:14,645 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:14,645 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41352
2015-05-21 15:10:14,646 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41352
2015-05-21 15:10:14,646 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:14,647 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41352 (no session established for client)
2015-05-21 15:10:14,772 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:14,773 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41353, server: 127.0.0.1/127.0.0.1:11245
2015-05-21 15:10:14,773 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41353
2015-05-21 15:10:14,774 [myid:] - INFO  [NIOWorkerThread-8:ZooKeeperServer@936] - Client attempting to renew session 0x300062374010000 at /127.0.0.1:41353
2015-05-21 15:10:14,775 [myid:] - INFO  [NIOWorkerThread-8:ZooKeeperServer@645] - Established session 0x300062374010000 with negotiated timeout 30000 for client /127.0.0.1:41353
2015-05-21 15:10:14,776 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11245, sessionid = 0x300062374010000, negotiated timeout = 30000
2015-05-21 15:10:15,698 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:15,699 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35506
2015-05-21 15:10:15,699 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:35506, server: 127.0.0.1/127.0.0.1:11242
2015-05-21 15:10:15,700 [myid:] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x200062373ea0000 at /127.0.0.1:35506
2015-05-21 15:10:15,700 [myid:] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x200062373ea0000
2015-05-21 15:10:15,701 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@645] - Established session 0x200062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:35506
2015-05-21 15:10:15,702 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11242, sessionid = 0x200062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:15,707 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 22
2015-05-21 15:10:15,711 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:15,716 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:15,720 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:15,723 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:15,726 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:15,729 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:15,732 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:15,735 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:15,738 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:15,741 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:15,744 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:10:15,747 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:10:15,748 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:10:15,749 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:10:15,750 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:10:15,750 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:10:15,752 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:10:15,753 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:10:15,754 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:10:15,755 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:10:15,756 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2015-05-21 15:10:15,758 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2015-05-21 15:10:15,759 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2015-05-21 15:10:15,761 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:10:15,761 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:10:15,762 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:10:15,807 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.300000003
2015-05-21 15:10:15,814 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.300000004
2015-05-21 15:10:15,814 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.300000004
2015-05-21 15:10:15,815 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000005
2015-05-21 15:10:15,822 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000006
2015-05-21 15:10:15,822 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.300000006
2015-05-21 15:10:15,853 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000007 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.300000007
2015-05-21 15:10:15,867 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000009
2015-05-21 15:10:15,876 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x300000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.300000009
2015-05-21 15:10:15,886 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:10:15,886 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:15,886 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:386)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:15,887 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x300062374010000]
2015-05-21 15:10:15,887 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12246:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:15,888 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41353 which had sessionid 0x300062374010000
2015-05-21 15:10:15,888 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:15,888 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:15,888 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x300062374010000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:15,888 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:15,889 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:15,889 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:15,889 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:15,889 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:15,889 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:15,889 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:15,890 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:15,890 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:15,890 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:15,890 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:15,891 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53750:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53750 ********
2015-05-21 15:10:15,891 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:15,891 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53750:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:15,891 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:15,892 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:15,891 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53758:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:53758 ********
2015-05-21 15:10:15,892 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:15,891 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:15,892 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53758:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:15,891 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:10:15,891 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:15,892 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:15,892 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:15,892 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:15,892 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x200062373ea0000]
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35506 which had sessionid 0x200062373ea0000
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062373ea0000]
2015-05-21 15:10:15,893 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x200062373ea0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58133 which had sessionid 0x100062373ea0000
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:15,893 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062373ea0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:15,893 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:15,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:15,893 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:15,894 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:15,894 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:15,894 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:15,894 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:15,894 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:15,894 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:15,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:15,895 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.300000007
2015-05-21 15:10:15,895 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.300000004
2015-05-21 15:10:15,898 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x30000000a
2015-05-21 15:10:15,899 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x30000000a
2015-05-21 15:10:15,899 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x0 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,899 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x0 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,899 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x0 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:15,899 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,899 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,899 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:15,899 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,900 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,900 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,900 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,900 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:15,900 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,900 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,900 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,901 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,901 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:15,902 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:15,993 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:10:15,993 [myid:] - INFO  [localhost/127.0.0.1:12247:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:15,993 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:15,994 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:10:15,994 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:15,994 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:15,994 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:15,994 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:15,994 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:15,995 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:15,993 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:15,996 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:15,993 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:15,996 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:15,993 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:15,997 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:15,993 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:15,997 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:15,996 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:15,998 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:15,996 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:15,998 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:15,994 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:15,994 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled) to exit thread
2015-05-21 15:10:15,999 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:15,999 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:15,999 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:16,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:16,000 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:16,052 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:16,052 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:16,101 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:16,101 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:16,101 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:16,101 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:16,101 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2
2015-05-21 15:10:16,102 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:16,102 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x30000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.30000000a
2015-05-21 15:10:16,102 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:16,102 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:16,103 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:16,103 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:16,103 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2
2015-05-21 15:10:16,103 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:16,104 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47793:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12240:12241:participant;127.0.0.1:11239
2015-05-21 15:10:16,119 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47793:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x30000000a minCommittedLog=0x300000008 lastProcessedZxid=0x30000000a peerLastZxid=0x30000000a
2015-05-21 15:10:16,119 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47793:LearnerHandler@703] - Sending DIFF zxid=0x30000000a for peer sid: 1
2015-05-21 15:10:16,120 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@366] - Getting a diff from the leader 0x30000000a
2015-05-21 15:10:16,121 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:16,121 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x30000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.30000000a
2015-05-21 15:10:16,140 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x400000000
2015-05-21 15:10:16,141 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:16,143 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:16,143 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:16,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:17,320 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:17,320 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:58146, server: 127.0.0.1/127.0.0.1:11239
2015-05-21 15:10:17,320 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58146
2015-05-21 15:10:17,321 [myid:] - INFO  [NIOWorkerThread-20:ZooKeeperServer@936] - Client attempting to renew session 0x100062373ea0000 at /127.0.0.1:58146
2015-05-21 15:10:17,322 [myid:] - INFO  [NIOWorkerThread-20:Learner@110] - Revalidating client: 0x100062373ea0000
2015-05-21 15:10:17,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):ZooKeeperServer@645] - Established session 0x100062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:58146
2015-05-21 15:10:17,324 [myid:] - INFO  [main-SendThread(127.0.0.1:11239):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11239, sessionid = 0x100062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:17,586 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:17,587 [myid:] - WARN  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1215] - Session 0x300062374010000 for server 127.0.0.1/127.0.0.1:11245, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:17,594 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11242. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:17,595 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:35511, server: 127.0.0.1/127.0.0.1:11242
2015-05-21 15:10:17,595 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35511
2015-05-21 15:10:17,596 [myid:] - INFO  [NIOWorkerThread-7:ZooKeeperServer@936] - Client attempting to renew session 0x200062373ea0000 at /127.0.0.1:35511
2015-05-21 15:10:17,597 [myid:] - INFO  [NIOWorkerThread-7:ZooKeeperServer@645] - Established session 0x200062373ea0000 with negotiated timeout 30000 for client /127.0.0.1:35511
2015-05-21 15:10:17,598 [myid:] - INFO  [main-SendThread(127.0.0.1:11242):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11242, sessionid = 0x200062373ea0000, negotiated timeout = 30000
2015-05-21 15:10:17,689 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11245
2015-05-21 15:10:17,690 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:17,690 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11245
2015-05-21 15:10:17,692 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.300000009
2015-05-21 15:10:17,697 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:17,698 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:17,698 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@32020a25: java.net.BindException: Address already in use
2015-05-21 15:10:17,698 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.server.ZxidRolloverTest.start(ZxidRolloverTest.java:155)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:387)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 19 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:17,700 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12247
2015-05-21 15:10:17,700 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:17,701 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:58149
2015-05-21 15:10:17,702 [myid:] - INFO  [NIOWorkerThread-24:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:58149
2015-05-21 15:10:17,702 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:17,702 [myid:] - INFO  [NIOWorkerThread-24:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:17,702 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x30000000a
2015-05-21 15:10:17,703 [myid:] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58149 (no session established for client)
2015-05-21 15:10:17,703 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:17,703 [myid:] - INFO  [/127.0.0.1:12241:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36237
2015-05-21 15:10:17,703 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35514
2015-05-21 15:10:17,704 [myid:] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:35514
2015-05-21 15:10:17,704 [myid:] - INFO  [localhost/127.0.0.1:12244:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:58997
2015-05-21 15:10:17,704 [myid:] - INFO  [NIOWorkerThread-9:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:17,704 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:10:17,704 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@294] - 3 Received version: 100000000 my version: 0
2015-05-21 15:10:17,704 [myid:] - ERROR [WorkerReceiver[myid=3]:QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:17,704 [myid:] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35514 (no session established for client)
2015-05-21 15:10:17,704 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:17,704 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:10:17,704 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:17,704 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41364
2015-05-21 15:10:17,705 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:17,705 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:17,705 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41364
2015-05-21 15:10:17,705 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:17,705 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:17,705 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41364 (no session established for client)
2015-05-21 15:10:17,705 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:17,705 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:17,705 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:17,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:17,706 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:17,706 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:17,706 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:17,706 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:17,706 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2
2015-05-21 15:10:17,706 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:17,707 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:17,707 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:17,707 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:17,707 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:17,708 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47802:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:12246:12247:participant;127.0.0.1:11245
2015-05-21 15:10:17,721 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47802:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x30000000a minCommittedLog=0x300000008 lastProcessedZxid=0x400000000 peerLastZxid=0x30000000a
2015-05-21 15:10:17,721 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47802:LearnerHandler@720] - Using committedLog for peer sid: 3
2015-05-21 15:10:17,721 [myid:] - INFO  [LearnerHandler-/127.0.0.1:47802:LearnerHandler@810] - Sending DIFF zxid=0x30000000a for peer sid: 3
2015-05-21 15:10:17,722 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Learner@366] - Getting a diff from the leader 0x30000000a
2015-05-21 15:10:17,722 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:17,723 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x30000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.30000000a
2015-05-21 15:10:17,735 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:17,736 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:17,955 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:17,956 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41366
2015-05-21 15:10:17,957 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41366
2015-05-21 15:10:17,957 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:17,957 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41366 (no session established for client)
2015-05-21 15:10:18,901 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:18,901 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:19,580 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:19,580 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41367
2015-05-21 15:10:19,580 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41367, server: 127.0.0.1/127.0.0.1:11245
2015-05-21 15:10:19,582 [myid:] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x300062374010000 at /127.0.0.1:41367
2015-05-21 15:10:19,582 [myid:] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x300062374010000
2015-05-21 15:10:19,583 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@645] - Established session 0x300062374010000 with negotiated timeout 30000 for client /127.0.0.1:41367
2015-05-21 15:10:19,584 [myid:] - INFO  [main-SendThread(127.0.0.1:11245):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11245, sessionid = 0x300062374010000, negotiated timeout = 30000
2015-05-21 15:10:19,586 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 32
2015-05-21 15:10:19,588 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:19,589 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:19,590 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:19,591 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:19,592 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:19,592 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:19,593 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:19,594 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:19,595 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:19,596 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:19,598 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:10:19,601 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:10:19,603 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:10:19,605 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:10:19,608 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:10:19,611 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:10:19,613 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:10:19,616 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:10:19,618 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:10:19,619 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:10:19,621 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2015-05-21 15:10:19,622 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2015-05-21 15:10:19,623 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2015-05-21 15:10:19,624 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2015-05-21 15:10:19,625 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2015-05-21 15:10:19,626 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2015-05-21 15:10:19,627 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2015-05-21 15:10:19,628 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2015-05-21 15:10:19,630 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2015-05-21 15:10:19,631 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2015-05-21 15:10:19,632 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2015-05-21 15:10:19,633 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2015-05-21 15:10:19,634 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 32 thru 42
2015-05-21 15:10:19,636 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@122] - Got zxid 0x400000001 expected 0x1
2015-05-21 15:10:19,636 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@122] - Got zxid 0x400000001 expected 0x1
2015-05-21 15:10:19,637 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.400000001
2015-05-21 15:10:19,691 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.400000004
2015-05-21 15:10:19,691 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.400000004
2015-05-21 15:10:19,694 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.400000004
2015-05-21 15:10:19,701 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.400000006
2015-05-21 15:10:19,701 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.400000006
2015-05-21 15:10:19,703 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.400000006
2015-05-21 15:10:19,740 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5498381801885641683.junit.dir/version-2/snapshot.400000008
2015-05-21 15:10:19,754 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.40000000a
2015-05-21 15:10:19,754 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test6775033445665245315.junit.dir/version-2/snapshot.400000009
2015-05-21 15:10:19,757 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x400000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.400000009
2015-05-21 15:10:19,768 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2015-05-21 15:10:19,769 [myid:] - INFO  [NIOWorkerThread-9:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x100062373ea0000
2015-05-21 15:10:19,769 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x100062373ea0000
2015-05-21 15:10:19,769 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.40000000b
2015-05-21 15:10:19,770 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.40000000b
2015-05-21 15:10:19,783 [myid:] - INFO  [NIOWorkerThread-10:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062373ea0000]
2015-05-21 15:10:19,783 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:19,783 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x100062373ea0000 closed
2015-05-21 15:10:19,783 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:58146 which had sessionid 0x100062373ea0000
2015-05-21 15:10:19,783 [myid:] - INFO  [NIOWorkerThread-12:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x200062373ea0000
2015-05-21 15:10:19,784 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x200062373ea0000
2015-05-21 15:10:19,792 [myid:] - INFO  [NIOWorkerThread-13:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x200062373ea0000]
2015-05-21 15:10:19,792 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x200062373ea0000 closed
2015-05-21 15:10:19,792 [myid:] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35511 which had sessionid 0x200062373ea0000
2015-05-21 15:10:19,792 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:19,793 [myid:] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x300062374010000
2015-05-21 15:10:19,793 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x300062374010000
2015-05-21 15:10:19,804 [myid:] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x300062374010000]
2015-05-21 15:10:19,804 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:19,804 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x300062374010000 closed
2015-05-21 15:10:19,804 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41367 which had sessionid 0x300062374010000
2015-05-21 15:10:19,804 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled)
2015-05-21 15:10:19,804 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:19,805 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:19,805 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:19,805 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:19,805 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:19,805 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:19,805 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:19,805 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:19,805 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:19,805 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:19,805 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:19,806 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:19,806 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:19,806 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:19,806 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:19,806 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:19,907 [myid:] - INFO  [/127.0.0.1:12241:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:19,907 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:19,908 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled)
2015-05-21 15:10:19,907 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:19,907 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:19,909 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:19,907 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:19,909 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:19,907 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:19,907 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:19,910 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:19,910 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:19,910 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:19,911 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:19,909 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:19,912 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:19,909 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:19,908 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled) to exit thread
2015-05-21 15:10:19,908 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:20,144 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:20,144 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:20,145 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:20,145 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:20,145 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:10:20,146 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:10:20,146 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:10:20,146 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11239)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:10:20,146 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled)
2015-05-21 15:10:20,146 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:20,147 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:20,147 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:20,147 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12243:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:20,147 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:20,148 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:20,148 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:20,148 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:20,148 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:20,148 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:20,148 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:20,149 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:20,149 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:20,149 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:20,150 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:20,150 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:20,151 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:20,151 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:20,152 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11242:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:20,152 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:20,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:10:20,152 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:20,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:20,151 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47802:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:47802 ********
2015-05-21 15:10:20,151 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47793:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:47793 ********
2015-05-21 15:10:20,152 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47802:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:20,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:20,152 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:20,153 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:20,153 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:20,152 [myid:] - WARN  [LearnerHandler-/127.0.0.1:47793:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:20,153 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:20,153 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:20,153 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:20,154 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:20,154 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:20,154 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:20,154 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:20,154 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:20,154 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:20,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2066265698952105414.junit.dir/version-2/snapshot.400000009
2015-05-21 15:10:20,162 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x40000000d
2015-05-21 15:10:20,162 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address /127.0.0.1:12241
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:20,163 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000d (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:20,163 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x40000000d (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:20,164 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:20,239 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:20,254 [myid:] - INFO  [localhost/127.0.0.1:12244:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:20,254 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:10:20,254 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:20,254 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:20,255 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:20,254 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:20,255 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:20,254 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:20,254 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled)
2015-05-21 15:10:20,256 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:20,256 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:20,256 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:20,256 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:20,255 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:20,256 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:20,256 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled) to exit thread
2015-05-21 15:10:20,257 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:10:20,257 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:10:20,258 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:10:20,258 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11242)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:10:20,258 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:10:20,258 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:20,259 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:20,259 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:20,259 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:20,259 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:20,359 [myid:] - INFO  [localhost/127.0.0.1:12247:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:20,359 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:20,360 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled)
2015-05-21 15:10:20,360 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:10:20,360 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled) to exit thread
2015-05-21 15:10:20,360 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:20,360 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:20,361 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:20,361 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:20,361 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11245)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:20,361 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11239
2015-05-21 15:10:20,362 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11239 is no longer accepting client connections
2015-05-21 15:10:20,362 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11242
2015-05-21 15:10:20,362 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11242 is no longer accepting client connections
2015-05-21 15:10:20,362 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11245
2015-05-21 15:10:20,363 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11245 is no longer accepting client connections
2015-05-21 15:10:20,363 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testMultipleRollover
2015-05-21 15:10:20,374 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11248
2015-05-21 15:10:20,374 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11249
2015-05-21 15:10:20,374 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11250
2015-05-21 15:10:20,375 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11251
2015-05-21 15:10:20,375 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11252
2015-05-21 15:10:20,375 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11253
2015-05-21 15:10:20,375 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11254
2015-05-21 15:10:20,375 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11255
2015-05-21 15:10:20,375 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11256
2015-05-21 15:10:20,375 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 1; public port 11248
2015-05-21 15:10:20,376 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:20,376 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11248
2015-05-21 15:10:20,376 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 2; public port 11251
2015-05-21 15:10:20,377 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:20,377 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11251
2015-05-21 15:10:20,377 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 3; public port 11254
2015-05-21 15:10:20,377 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:20,378 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11254
2015-05-21 15:10:20,378 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:20,378 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:20,378 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:20,378 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:20,378 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:20,379 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11248 is no longer accepting client connections
2015-05-21 15:10:20,379 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11251 is no longer accepting client connections
2015-05-21 15:10:20,379 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11254 is no longer accepting client connections
2015-05-21 15:10:20,379 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11248
2015-05-21 15:10:20,380 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:20,380 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11248
2015-05-21 15:10:20,380 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:20,393 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:20,405 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:20,406 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:20,406 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@35236fb0: java.net.BindException: Address already in use
2015-05-21 15:10:20,406 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:20,407 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12250
2015-05-21 15:10:20,408 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:10:20,408 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11251
2015-05-21 15:10:20,408 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:20,408 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11251
2015-05-21 15:10:20,409 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:20,410 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:10:20,410 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:20,411 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:12253
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:20,411 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,411 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:20,421 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:20,430 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:20,431 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:20,431 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@4748c8a0: java.net.BindException: Address already in use
2015-05-21 15:10:20,431 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:20,432 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12253
2015-05-21 15:10:20,433 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:10:20,433 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11254
2015-05-21 15:10:20,433 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:20,433 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11254
2015-05-21 15:10:20,434 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:20,434 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:10:20,435 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:20,435 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:57827
2015-05-21 15:10:20,436 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,436 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:20,436 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,437 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,437 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,437 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:20,437 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,442 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:20,449 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:20,450 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:20,450 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@6094b6ff: java.net.BindException: Address already in use
2015-05-21 15:10:20,450 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:20,451 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12256
2015-05-21 15:10:20,452 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:10:20,452 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11248,127.0.0.1:11251,127.0.0.1:11254
2015-05-21 15:10:20,452 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:20,453 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36108
2015-05-21 15:10:20,453 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:20,453 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36108
2015-05-21 15:10:20,453 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:10:20,454 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36108 (no session established for client)
2015-05-21 15:10:20,454 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:57831
2015-05-21 15:10:20,456 [myid:] - INFO  [/127.0.0.1:12253:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:49768
2015-05-21 15:10:20,456 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,457 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,457 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,457 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,457 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,457 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,457 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,457 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,458 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,458 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,458 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:20,658 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:20,658 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:20,658 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:20,658 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:20,658 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:20,660 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2
2015-05-21 15:10:20,659 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:20,660 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.0
2015-05-21 15:10:20,660 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:20,660 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:20,660 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2
2015-05-21 15:10:20,660 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:20,661 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39347:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12249:12250:participant;127.0.0.1:11248
2015-05-21 15:10:20,662 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39348:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12252:12253:participant;127.0.0.1:11251
2015-05-21 15:10:20,693 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39347:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:10:20,693 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39348:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:10:20,693 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39347:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 1
2015-05-21 15:10:20,693 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39348:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:10:20,694 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:10:20,694 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:10:20,694 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:20,694 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:20,704 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:20,704 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36113
2015-05-21 15:10:20,705 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36113
2015-05-21 15:10:20,705 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:20,705 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:20,705 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36113 (no session established for client)
2015-05-21 15:10:20,715 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.0
2015-05-21 15:10:20,715 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.0
2015-05-21 15:10:20,723 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 3],[2, 3] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:10:20,723 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:20,723 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:20,724 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:20,724 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:20,725 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:20,730 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:20,730 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:20,730 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:20,956 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:20,956 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36114
2015-05-21 15:10:20,957 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36114
2015-05-21 15:10:20,957 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:20,958 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36114 (no session established for client)
2015-05-21 15:10:20,958 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11248 is accepting client connections
2015-05-21 15:10:20,958 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:10:20,959 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41508
2015-05-21 15:10:20,960 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41508
2015-05-21 15:10:20,960 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:20,960 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41508 (no session established for client)
2015-05-21 15:10:20,960 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11251 is accepting client connections
2015-05-21 15:10:20,961 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:20,961 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41691
2015-05-21 15:10:20,962 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41691
2015-05-21 15:10:20,962 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:20,963 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41691 (no session established for client)
2015-05-21 15:10:20,963 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11254 is accepting client connections
2015-05-21 15:10:20,963 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:10:20,967 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:20,967 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:20,968 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:20,969 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:10:20,969 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:20,969 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:20,972 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:10:20,972 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:20,972 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:10:20,972 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:20,973 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:20,974 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:10:20,975 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:20,975 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:10:20,975 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:20,975 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:10:20,975 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:20,975 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11248 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@34bb5def
2015-05-21 15:10:20,976 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11251 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@174f19bc
2015-05-21 15:10:20,976 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:20,976 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:36117, server: 127.0.0.1/127.0.0.1:11248
2015-05-21 15:10:20,976 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36117
2015-05-21 15:10:20,976 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11254 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@4af788d6
2015-05-21 15:10:20,976 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:20,977 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41511, server: 127.0.0.1/127.0.0.1:11251
2015-05-21 15:10:20,977 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41511
2015-05-21 15:10:20,977 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:20,977 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:36117
2015-05-21 15:10:20,978 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41694, server: 127.0.0.1/127.0.0.1:11254
2015-05-21 15:10:20,978 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41694
2015-05-21 15:10:20,978 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:41511
2015-05-21 15:10:20,978 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:20,979 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:10:20,979 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:10:20,979 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:20,979 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:20,979 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:41694
2015-05-21 15:10:20,994 [myid:] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x1000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:36117
2015-05-21 15:10:20,994 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x2000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:41511
2015-05-21 15:10:20,995 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11248, sessionid = 0x1000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:20,995 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11251, sessionid = 0x2000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:20,996 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x3000623a1d40000 with negotiated timeout 30000 for client /127.0.0.1:41694
2015-05-21 15:10:20,996 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11254, sessionid = 0x3000623a1d40000, negotiated timeout = 30000
2015-05-21 15:10:20,996 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2015-05-21 15:10:20,997 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.100000003
2015-05-21 15:10:20,997 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.100000003
2015-05-21 15:10:21,013 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:10:21,014 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000005
2015-05-21 15:10:21,016 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.100000004
2015-05-21 15:10:21,038 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000006
2015-05-21 15:10:21,060 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000007 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.100000007
2015-05-21 15:10:21,068 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000009
2015-05-21 15:10:21,086 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.100000009
2015-05-21 15:10:21,086 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x100000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.100000009
2015-05-21 15:10:21,101 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.10000000b
2015-05-21 15:10:21,101 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.10000000b
2015-05-21 15:10:21,140 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2015-05-21 15:10:21,141 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x10000000e
2015-05-21 15:10:21,141 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x10000000e
2015-05-21 15:10:21,141 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x10000000d to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.10000000d
2015-05-21 15:10:21,148 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39348:Leader@719] - Commiting zxid 0x1fffffffd from /127.0.0.1:12255 not first!
2015-05-21 15:10:21,148 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39348:Leader@721] - First is 4294967310
2015-05-21 15:10:21,148 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.1fffffffe
2015-05-21 15:10:21,151 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x1fffffffd to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:10:21,165 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:10:21,165 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:10:21,166 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000623a1d40000]
2015-05-21 15:10:21,166 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12255:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:21,166 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41694 which had sessionid 0x3000623a1d40000
2015-05-21 15:10:21,166 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:10:21,166 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000623a1d40000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:21,166 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:21,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:21,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:21,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:21,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:10:21,167 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:21,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:21,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:21,167 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:21,175 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:21,176 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:21,176 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:10:21,176 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39348:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:39348 ********
2015-05-21 15:10:21,176 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:21,176 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39348:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:21,176 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:10:21,177 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2015-05-21 15:10:21,176 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:21,176 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39347:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:39347 ********
2015-05-21 15:10:21,177 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:21,177 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:21,177 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:10:21,177 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39347:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623a1b70000]
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000623a1b70000]
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36117 which had sessionid 0x1000623a1b70000
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41511 which had sessionid 0x2000623a1b70000
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:21,179 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:21,178 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:21,178 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:21,179 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:21,178 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:21,179 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:21,179 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:21,179 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:21,179 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:21,179 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:21,179 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:21,179 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:21,179 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:21,180 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:21,180 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:21,180 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:21,180 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:21,180 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:21,180 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:21,180 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:21,180 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:21,180 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:21,180 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:21,180 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:21,181 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:10:21,181 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.100000009
2015-05-21 15:10:21,181 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x1fffffffe
2015-05-21 15:10:21,182 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x1fffffffe
2015-05-21 15:10:21,182 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,182 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,182 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:21,182 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,182 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,182 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:21,182 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,183 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,183 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,183 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:21,183 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,183 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:21,383 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:21,383 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:21,383 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:21,384 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:21,385 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:10:21,386 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57504:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12249:12250:participant;127.0.0.1:11248
2015-05-21 15:10:21,408 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57504:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x10000000a lastProcessedZxid=0x1fffffffe peerLastZxid=0x1fffffffe
2015-05-21 15:10:21,408 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57504:LearnerHandler@703] - Sending DIFF zxid=0x1fffffffe for peer sid: 1
2015-05-21 15:10:21,409 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:10:21,409 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:21,409 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:10:21,422 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:10:21,422 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:21,423 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:21,424 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:22,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:22,586 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:22,587 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:36121, server: 127.0.0.1/127.0.0.1:11248
2015-05-21 15:10:22,587 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36121
2015-05-21 15:10:22,588 [myid:] - INFO  [NIOWorkerThread-7:ZooKeeperServer@936] - Client attempting to renew session 0x1000623a1b70000 at /127.0.0.1:36121
2015-05-21 15:10:22,588 [myid:] - INFO  [NIOWorkerThread-7:Learner@110] - Revalidating client: 0x1000623a1b70000
2015-05-21 15:10:22,589 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:36121
2015-05-21 15:10:22,590 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11248, sessionid = 0x1000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:22,724 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:22,724 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:10:22,725 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:22,725 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:22,725 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.10000000d
2015-05-21 15:10:22,727 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x1fffffffe
2015-05-21 15:10:22,728 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:22,728 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:22,728 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:22,729 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:22,730 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:22,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:22,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:22,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:22,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:22,731 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2
2015-05-21 15:10:22,731 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:22,732 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57506:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:12255:12256:participant;127.0.0.1:11254
2015-05-21 15:10:22,739 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57506:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x10000000a lastProcessedZxid=0x200000000 peerLastZxid=0x1fffffffe
2015-05-21 15:10:22,739 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57506:LearnerHandler@720] - Using committedLog for peer sid: 3
2015-05-21 15:10:22,739 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57506:LearnerHandler@810] - Sending DIFF zxid=0x1fffffffe for peer sid: 3
2015-05-21 15:10:22,740 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:10:22,740 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:22,741 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:10:22,750 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:22,750 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:23,026 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:23,027 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41516, server: 127.0.0.1/127.0.0.1:11251
2015-05-21 15:10:23,027 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41516
2015-05-21 15:10:23,028 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x2000623a1b70000 at /127.0.0.1:41516
2015-05-21 15:10:23,028 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@645] - Established session 0x2000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:41516
2015-05-21 15:10:23,029 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11251, sessionid = 0x2000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:23,163 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:23,163 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:23,164 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:23,164 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:23,187 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:23,188 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41699, server: 127.0.0.1/127.0.0.1:11254
2015-05-21 15:10:23,188 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41699
2015-05-21 15:10:23,189 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x3000623a1d40000 at /127.0.0.1:41699
2015-05-21 15:10:23,189 [myid:] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x3000623a1d40000
2015-05-21 15:10:23,190 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@645] - Established session 0x3000623a1d40000 with negotiated timeout 30000 for client /127.0.0.1:41699
2015-05-21 15:10:23,191 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11254, sessionid = 0x3000623a1d40000, negotiated timeout = 30000
2015-05-21 15:10:23,192 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 12 thru 22
2015-05-21 15:10:23,194 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:10:23,194 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:10:23,195 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:10:23,241 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.200000003
2015-05-21 15:10:23,250 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000005
2015-05-21 15:10:23,250 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.200000004
2015-05-21 15:10:23,260 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000006
2015-05-21 15:10:23,262 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.200000005
2015-05-21 15:10:23,285 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000007
2015-05-21 15:10:23,316 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.200000008
2015-05-21 15:10:23,324 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.20000000a
2015-05-21 15:10:23,324 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.200000009
2015-05-21 15:10:23,333 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2015-05-21 15:10:23,335 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.20000000b
2015-05-21 15:10:23,335 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x20000000a to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.20000000a
2015-05-21 15:10:23,350 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.20000000c
2015-05-21 15:10:23,371 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x20000000c to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.20000000c
2015-05-21 15:10:23,384 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.20000000e
2015-05-21 15:10:23,396 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x20000000e to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.20000000e
2015-05-21 15:10:23,404 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000010
2015-05-21 15:10:23,414 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000010 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.200000010
2015-05-21 15:10:23,415 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000010 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.200000010
2015-05-21 15:10:23,430 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000012
2015-05-21 15:10:23,430 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000012
2015-05-21 15:10:23,473 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 32 thru 42
2015-05-21 15:10:23,475 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000014 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.200000014
2015-05-21 15:10:23,475 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000014 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.200000014
2015-05-21 15:10:23,483 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.200000016
2015-05-21 15:10:23,483 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000016
2015-05-21 15:10:23,483 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000015 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.200000015
2015-05-21 15:10:23,506 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000017
2015-05-21 15:10:23,536 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000018 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.200000018
2015-05-21 15:10:23,536 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000018 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.200000018
2015-05-21 15:10:23,545 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.20000001a
2015-05-21 15:10:23,545 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.20000001a
2015-05-21 15:10:23,547 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x200000019 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.200000019
2015-05-21 15:10:23,560 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.20000001b
2015-05-21 15:10:23,589 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x20000001c to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.20000001c
2015-05-21 15:10:23,602 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.20000001e
2015-05-21 15:10:23,606 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x20000001d to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.20000001d
2015-05-21 15:10:23,616 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled)
2015-05-21 15:10:23,616 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:424)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:23,616 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623a1b70000]
2015-05-21 15:10:23,616 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36121 which had sessionid 0x1000623a1b70000
2015-05-21 15:10:23,617 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:23,617 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:23,617 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:23,617 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:23,617 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:23,617 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:23,617 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:23,617 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:23,617 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:23,617 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:23,622 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:23,622 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:23,622 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:23,623 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:23,623 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:23,623 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:23,723 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:23,723 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:23,724 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:23,724 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:23,724 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:23,724 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:23,725 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:23,724 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:23,725 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:23,724 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:23,726 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:23,724 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled)
2015-05-21 15:10:23,724 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:23,726 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:23,726 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled) to exit thread
2015-05-21 15:10:23,726 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:23,727 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:23,725 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:23,727 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:24,424 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:24,424 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:24,425 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:24,425 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:24,425 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:10:24,425 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:10:24,425 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:10:24,426 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:10:24,426 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:10:24,426 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:24,426 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:424)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:24,427 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12252:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:24,427 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x2000623a1b70000]
2015-05-21 15:10:24,427 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41516 which had sessionid 0x2000623a1b70000
2015-05-21 15:10:24,428 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:24,428 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:24,428 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:24,428 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:24,428 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:24,428 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:24,428 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:24,428 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:24,429 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:24,429 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:24,429 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:24,429 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:24,430 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:24,430 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:24,431 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57504:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:57504 ********
2015-05-21 15:10:24,431 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:24,431 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:24,431 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:24,431 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:24,431 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:24,432 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:24,431 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57504:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:24,431 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57506:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:57506 ********
2015-05-21 15:10:24,432 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:10:24,433 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57506:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:24,433 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:24,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x3000623a1d40000]
2015-05-21 15:10:24,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41699 which had sessionid 0x3000623a1d40000
2015-05-21 15:10:24,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:24,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:24,434 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000623a1d40000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:24,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:24,435 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:24,435 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:24,435 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:24,435 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:24,436 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:24,436 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:24,436 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:24,436 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:24,436 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:24,438 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.20000001d
2015-05-21 15:10:24,441 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x20000001e
2015-05-21 15:10:24,442 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:24,442 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:24,442 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:24,443 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:24,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:10:24,533 [myid:] - INFO  [/127.0.0.1:12253:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:24,533 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:24,533 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:24,533 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:24,534 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:24,533 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:24,534 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:24,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:24,534 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:24,533 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:10:24,535 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:24,534 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:24,535 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:24,534 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:24,535 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:10:24,535 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled) to exit thread
2015-05-21 15:10:24,536 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:10:24,536 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:10:24,536 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:10:24,536 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:24,537 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:24,537 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:24,537 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:24,537 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:24,537 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:24,638 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:24,638 [myid:] - INFO  [/127.0.0.1:12256:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:24,638 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:10:24,638 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:24,638 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:24,639 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled) to exit thread
2015-05-21 15:10:24,639 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:24,639 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:24,639 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:24,640 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:24,640 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:24,640 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11248 is no longer accepting client connections
2015-05-21 15:10:24,640 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:10:24,641 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11251 is no longer accepting client connections
2015-05-21 15:10:24,641 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:24,641 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11254 is no longer accepting client connections
2015-05-21 15:10:24,855 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:24,856 [myid:] - WARN  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1215] - Session 0x1000623a1b70000 for server 127.0.0.1/127.0.0.1:11248, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:25,729 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:25,729 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:26,132 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:26,133 [myid:] - WARN  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1215] - Session 0x3000623a1d40000 for server 127.0.0.1/127.0.0.1:11254, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:26,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:26,369 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:26,369 [myid:] - WARN  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1215] - Session 0x1000623a1b70000 for server 127.0.0.1/127.0.0.1:11248, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:26,392 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:26,392 [myid:] - WARN  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1215] - Session 0x2000623a1b70000 for server 127.0.0.1/127.0.0.1:11251, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:27,442 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:27,443 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:27,443 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:27,443 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:27,870 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:27,871 [myid:] - WARN  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1215] - Session 0x3000623a1d40000 for server 127.0.0.1/127.0.0.1:11254, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:27,881 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:27,881 [myid:] - WARN  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1215] - Session 0x2000623a1b70000 for server 127.0.0.1/127.0.0.1:11251, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:27,972 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled)
2015-05-21 15:10:27,972 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled)
2015-05-21 15:10:27,972 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled) to exit thread
2015-05-21 15:10:27,972 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:10:27,972 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:10:27,972 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled) to exit thread
2015-05-21 15:10:27,973 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:27,973 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:27,973 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled) to exit thread
2015-05-21 15:10:27,973 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:27,974 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11248 is no longer accepting client connections
2015-05-21 15:10:27,974 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:10:27,974 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11251 is no longer accepting client connections
2015-05-21 15:10:27,974 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:27,975 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11254 is no longer accepting client connections
2015-05-21 15:10:27,975 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11248
2015-05-21 15:10:27,975 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:27,975 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11248
2015-05-21 15:10:27,978 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.20000001c
2015-05-21 15:10:27,983 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:27,984 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:27,984 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@15a498e3: java.net.BindException: Address already in use
2015-05-21 15:10:27,984 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:425)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:27,985 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12250
2015-05-21 15:10:27,986 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:10:27,986 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11251
2015-05-21 15:10:27,986 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:27,986 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11251
2015-05-21 15:10:27,987 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:27,987 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x20000001e
2015-05-21 15:10:27,988 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:12253
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:27,988 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.200000018
2015-05-21 15:10:27,988 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:27,988 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:27,990 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:27,990 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:27,990 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@6608c769: java.net.BindException: Address already in use
2015-05-21 15:10:27,991 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:425)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:27,991 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12253
2015-05-21 15:10:27,991 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:10:27,991 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11254
2015-05-21 15:10:27,991 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:27,991 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11254
2015-05-21 15:10:27,992 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:27,992 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x20000001e
2015-05-21 15:10:27,992 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:57862
2015-05-21 15:10:27,992 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.20000001d
2015-05-21 15:10:27,993 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:27,993 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:27,993 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:27,993 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:12256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:27,993 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:27,993 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:27,993 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:27,994 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:27,995 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:27,995 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@31e33295: java.net.BindException: Address already in use
2015-05-21 15:10:27,995 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:425)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 20 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:27,996 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12256
2015-05-21 15:10:27,997 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:10:27,997 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11248,127.0.0.1:11251,127.0.0.1:11254
2015-05-21 15:10:27,997 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:27,997 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36143
2015-05-21 15:10:27,998 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:27,998 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36143
2015-05-21 15:10:27,998 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x20000001e
2015-05-21 15:10:27,999 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36143 (no session established for client)
2015-05-21 15:10:27,999 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:57866
2015-05-21 15:10:28,000 [myid:] - INFO  [localhost/127.0.0.1:12253:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:49803
2015-05-21 15:10:28,000 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,000 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,001 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,001 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,001 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,001 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,001 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,002 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,002 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,002 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,002 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:28,009 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:28,009 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36146
2015-05-21 15:10:28,009 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:36146, server: 127.0.0.1/127.0.0.1:11248
2015-05-21 15:10:28,010 [myid:] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:10:28,010 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36146 (no session established for client)
2015-05-21 15:10:28,010 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:28,202 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:28,202 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:28,202 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:28,202 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:28,202 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:28,202 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:28,202 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:28,203 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:28,204 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2
2015-05-21 15:10:28,204 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x20000001e to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.20000001e
2015-05-21 15:10:28,204 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:28,206 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39383:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12252:12253:participant;127.0.0.1:11251
2015-05-21 15:10:28,206 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39384:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12249:12250:participant;127.0.0.1:11248
2015-05-21 15:10:28,241 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39384:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x20000001e minCommittedLog=0x20000001e lastProcessedZxid=0x20000001e peerLastZxid=0x20000001e
2015-05-21 15:10:28,241 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39383:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x20000001e minCommittedLog=0x20000001e lastProcessedZxid=0x20000001e peerLastZxid=0x20000001e
2015-05-21 15:10:28,241 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39384:LearnerHandler@703] - Sending DIFF zxid=0x20000001e for peer sid: 1
2015-05-21 15:10:28,242 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39383:LearnerHandler@703] - Sending DIFF zxid=0x20000001e for peer sid: 2
2015-05-21 15:10:28,243 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@366] - Getting a diff from the leader 0x20000001e
2015-05-21 15:10:28,243 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@366] - Getting a diff from the leader 0x20000001e
2015-05-21 15:10:28,243 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:28,243 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:28,249 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:28,249 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36149
2015-05-21 15:10:28,250 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36149
2015-05-21 15:10:28,251 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36149 (no session established for client)
2015-05-21 15:10:28,252 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x20000001e to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.20000001e
2015-05-21 15:10:28,252 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x20000001e to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.20000001e
2015-05-21 15:10:28,266 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3],[1, 3] ]; starting up and setting last processed zxid: 0x300000000
2015-05-21 15:10:28,266 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:28,267 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:28,268 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:28,268 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:28,268 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:28,268 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:28,269 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:28,269 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:28,501 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:28,501 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36150
2015-05-21 15:10:28,502 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36150
2015-05-21 15:10:28,503 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:28,503 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36150 (no session established for client)
2015-05-21 15:10:28,503 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11248 is accepting client connections
2015-05-21 15:10:28,503 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:10:28,504 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41544
2015-05-21 15:10:28,505 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41544
2015-05-21 15:10:28,505 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:28,505 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41544 (no session established for client)
2015-05-21 15:10:28,506 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11251 is accepting client connections
2015-05-21 15:10:28,506 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:28,506 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41727
2015-05-21 15:10:28,507 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41727
2015-05-21 15:10:28,507 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:28,508 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41727 (no session established for client)
2015-05-21 15:10:28,508 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11254 is accepting client connections
2015-05-21 15:10:28,508 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:10:28,513 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:28,513 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:28,513 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:28,513 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:28,513 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:28,513 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:28,513 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:28,514 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:10:28,515 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:28,515 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:28,520 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:10:28,520 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:28,520 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:28,521 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:28,522 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:28,523 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:10:28,523 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:28,523 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:10:28,523 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:28,523 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:10:28,523 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:29,709 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:29,709 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41728, server: 127.0.0.1/127.0.0.1:11254
2015-05-21 15:10:29,709 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41728
2015-05-21 15:10:29,711 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@936] - Client attempting to renew session 0x3000623a1d40000 at /127.0.0.1:41728
2015-05-21 15:10:29,711 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@645] - Established session 0x3000623a1d40000 with negotiated timeout 30000 for client /127.0.0.1:41728
2015-05-21 15:10:29,712 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11254, sessionid = 0x3000623a1d40000, negotiated timeout = 30000
2015-05-21 15:10:29,762 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:29,762 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36154
2015-05-21 15:10:29,762 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:36154, server: 127.0.0.1/127.0.0.1:11248
2015-05-21 15:10:29,763 [myid:] - INFO  [NIOWorkerThread-5:ZooKeeperServer@936] - Client attempting to renew session 0x1000623a1b70000 at /127.0.0.1:36154
2015-05-21 15:10:29,763 [myid:] - INFO  [NIOWorkerThread-5:Learner@110] - Revalidating client: 0x1000623a1b70000
2015-05-21 15:10:29,764 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:36154
2015-05-21 15:10:29,765 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11248, sessionid = 0x1000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:29,948 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:29,948 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41548
2015-05-21 15:10:29,949 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41548, server: 127.0.0.1/127.0.0.1:11251
2015-05-21 15:10:29,950 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@936] - Client attempting to renew session 0x2000623a1b70000 at /127.0.0.1:41548
2015-05-21 15:10:29,950 [myid:] - INFO  [NIOWorkerThread-2:Learner@110] - Revalidating client: 0x2000623a1b70000
2015-05-21 15:10:29,951 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@645] - Established session 0x2000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:41548
2015-05-21 15:10:29,952 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11251, sessionid = 0x2000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:29,956 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 42
2015-05-21 15:10:29,960 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:29,964 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:29,967 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:29,971 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:29,974 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:29,976 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:29,979 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:29,981 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:29,984 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:29,986 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:29,988 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:10:29,991 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:10:29,993 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:10:29,995 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:10:29,998 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:10:30,000 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:10:30,002 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:10:30,004 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:10:30,007 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:10:30,009 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:10:30,011 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:10:30,014 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:10:30,016 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000b
2015-05-21 15:10:30,019 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000c
2015-05-21 15:10:30,021 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000d
2015-05-21 15:10:30,024 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000e
2015-05-21 15:10:30,027 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000f
2015-05-21 15:10:30,030 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000010
2015-05-21 15:10:30,032 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000011
2015-05-21 15:10:30,034 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000012
2015-05-21 15:10:30,037 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000013
2015-05-21 15:10:30,039 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000014
2015-05-21 15:10:30,042 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000015
2015-05-21 15:10:30,045 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000016
2015-05-21 15:10:30,048 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000017
2015-05-21 15:10:30,050 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000018
2015-05-21 15:10:30,053 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000019
2015-05-21 15:10:30,055 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001a
2015-05-21 15:10:30,058 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001b
2015-05-21 15:10:30,060 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001c
2015-05-21 15:10:30,063 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001d
2015-05-21 15:10:30,065 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001e
2015-05-21 15:10:30,067 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 42 thru 52
2015-05-21 15:10:30,068 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.3fffffffd
2015-05-21 15:10:30,068 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@122] - Got zxid 0x3fffffffd expected 0x1
2015-05-21 15:10:30,068 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@122] - Got zxid 0x3fffffffd expected 0x1
2015-05-21 15:10:30,069 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.3fffffffd
2015-05-21 15:10:30,069 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.3fffffffd
2015-05-21 15:10:30,095 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39383:Leader@719] - Commiting zxid 0x3fffffffd from /127.0.0.1:12255 not first!
2015-05-21 15:10:30,095 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39383:Leader@721] - First is 12884901889
2015-05-21 15:10:30,109 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:10:30,109 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:10:30,110 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12255:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000623a1d40000]
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41728 which had sessionid 0x3000623a1d40000
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000623a1d40000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:30,110 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:30,110 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:30,111 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:30,111 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:10:30,111 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:30,111 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:10:30,111 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39384:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:39384 ********
2015-05-21 15:10:30,111 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39383:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:39383 ********
2015-05-21 15:10:30,111 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:30,111 [myid:] - WARN  [SyncThread:2:SendAckRequestProcessor@64] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:141)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:62)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:186)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:113)
2015-05-21 15:10:30,111 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39383:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:30,111 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39384:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:30,111 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2015-05-21 15:10:30,112 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:30,111 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:10:30,111 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000623a1b70000]
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623a1b70000]
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41548 which had sessionid 0x2000623a1b70000
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36154 which had sessionid 0x1000623a1b70000
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:30,112 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:30,112 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:30,113 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:30,112 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:30,113 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:30,113 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:30,113 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:30,113 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:30,113 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:30,113 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:30,113 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:30,113 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:30,114 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.20000001e
2015-05-21 15:10:30,114 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.20000001e
2015-05-21 15:10:30,116 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x3fffffffe
2015-05-21 15:10:30,116 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x3fffffffe
2015-05-21 15:10:30,116 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,116 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,116 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,116 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:30,116 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,117 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:30,117 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,117 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,117 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:30,117 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,117 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,117 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:30,269 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:30,269 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:10:30,269 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:30,269 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:30,271 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.20000001e
2015-05-21 15:10:30,275 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x3fffffffe
2015-05-21 15:10:30,276 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,276 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,276 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,277 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,277 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,277 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,278 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,278 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,278 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:30,478 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:30,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:30,478 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:30,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:30,478 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:30,478 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:30,479 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:30,479 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:30,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:30,479 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:30,479 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:30,479 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2
2015-05-21 15:10:30,479 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2
2015-05-21 15:10:30,479 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:30,480 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:30,480 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:30,480 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2
2015-05-21 15:10:30,480 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:30,480 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:10:30,482 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39392:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12252:12253:participant;127.0.0.1:11251
2015-05-21 15:10:30,483 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39393:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12249:12250:participant;127.0.0.1:11248
2015-05-21 15:10:30,498 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39392:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x3fffffffe minCommittedLog=0x3fffffffd lastProcessedZxid=0x3fffffffe peerLastZxid=0x3fffffffe
2015-05-21 15:10:30,498 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39393:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x3fffffffe minCommittedLog=0x3fffffffd lastProcessedZxid=0x3fffffffe peerLastZxid=0x3fffffffe
2015-05-21 15:10:30,498 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39393:LearnerHandler@703] - Sending DIFF zxid=0x3fffffffe for peer sid: 1
2015-05-21 15:10:30,498 [myid:] - INFO  [LearnerHandler-/127.0.0.1:39392:LearnerHandler@703] - Sending DIFF zxid=0x3fffffffe for peer sid: 2
2015-05-21 15:10:30,499 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@366] - Getting a diff from the leader 0x3fffffffe
2015-05-21 15:10:30,499 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@366] - Getting a diff from the leader 0x3fffffffe
2015-05-21 15:10:30,499 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:30,499 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:30,500 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:30,500 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:30,512 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 3] ]; starting up and setting last processed zxid: 0x400000000
2015-05-21 15:10:30,513 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:30,513 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:30,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:30,514 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:30,514 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:31,217 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:31,217 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:36158, server: 127.0.0.1/127.0.0.1:11248
2015-05-21 15:10:31,218 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36158
2015-05-21 15:10:31,218 [myid:] - INFO  [NIOWorkerThread-16:ZooKeeperServer@936] - Client attempting to renew session 0x1000623a1b70000 at /127.0.0.1:36158
2015-05-21 15:10:31,219 [myid:] - INFO  [NIOWorkerThread-16:Learner@110] - Revalidating client: 0x1000623a1b70000
2015-05-21 15:10:31,220 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:36158
2015-05-21 15:10:31,221 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11248, sessionid = 0x1000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:31,479 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:31,480 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41552, server: 127.0.0.1/127.0.0.1:11251
2015-05-21 15:10:31,480 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41552
2015-05-21 15:10:31,481 [myid:] - INFO  [NIOWorkerThread-6:ZooKeeperServer@936] - Client attempting to renew session 0x2000623a1b70000 at /127.0.0.1:41552
2015-05-21 15:10:31,481 [myid:] - INFO  [NIOWorkerThread-6:Learner@110] - Revalidating client: 0x2000623a1b70000
2015-05-21 15:10:31,482 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@645] - Established session 0x2000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:41552
2015-05-21 15:10:31,483 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11251, sessionid = 0x2000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:31,529 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:31,529 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41735, server: 127.0.0.1/127.0.0.1:11254
2015-05-21 15:10:31,529 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41735
2015-05-21 15:10:31,530 [myid:] - INFO  [NIOWorkerThread-6:ZooKeeperServer@936] - Client attempting to renew session 0x3000623a1d40000 at /127.0.0.1:41735
2015-05-21 15:10:31,531 [myid:] - INFO  [NIOWorkerThread-6:ZooKeeperServer@645] - Established session 0x3000623a1d40000 with negotiated timeout 30000 for client /127.0.0.1:41735
2015-05-21 15:10:31,532 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11254, sessionid = 0x3000623a1d40000, negotiated timeout = 30000
2015-05-21 15:10:31,532 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:31,532 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:31,532 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:433)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:31,533 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12255:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:31,533 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000623a1d40000]
2015-05-21 15:10:31,533 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41735 which had sessionid 0x3000623a1d40000
2015-05-21 15:10:31,534 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:31,534 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:31,534 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000623a1d40000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:31,534 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:31,534 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:31,534 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:31,534 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:31,534 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:31,535 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:31,535 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:31,535 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:31,535 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:31,535 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:31,536 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:31,537 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:31,537 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:31,537 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:31,538 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:31,537 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39393:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:39393 ********
2015-05-21 15:10:31,537 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39392:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:39392 ********
2015-05-21 15:10:31,538 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39393:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:31,538 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:10:31,538 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:31,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:31,538 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:31,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000623a1b70000]
2015-05-21 15:10:31,537 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:31,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41552 which had sessionid 0x2000623a1b70000
2015-05-21 15:10:31,539 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:31,540 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:31,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:31,539 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:31,538 [myid:] - WARN  [LearnerHandler-/127.0.0.1:39392:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:31,540 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:31,540 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623a1b70000]
2015-05-21 15:10:31,540 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:31,540 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36158 which had sessionid 0x1000623a1b70000
2015-05-21 15:10:31,540 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:31,541 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623a1b70000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:31,541 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:31,541 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:31,540 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:31,541 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:31,541 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:31,541 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:31,541 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:31,541 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:31,541 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:31,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:31,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:31,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:31,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:31,542 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:31,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:31,542 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:31,542 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:31,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:31,542 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:31,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:31,544 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:31,544 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:31,546 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x3fffffffe
2015-05-21 15:10:31,547 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x3fffffffe
2015-05-21 15:10:31,547 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,547 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,547 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:31,548 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,548 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,548 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:31,548 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,548 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,549 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,549 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,549 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:31,550 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,640 [myid:] - INFO  [localhost/127.0.0.1:12256:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:31,640 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:10:31,641 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:31,641 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:31,642 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:31,641 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:31,642 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:31,641 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:31,641 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:31,643 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:31,641 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:31,643 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:31,641 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:31,644 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:31,641 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:31,644 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:31,645 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:31,643 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:31,645 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:31,643 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled) to exit thread
2015-05-21 15:10:31,642 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:31,646 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:31,642 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:31,646 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:31,644 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:31,646 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:31,646 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:31,647 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:31,647 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:31,749 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:31,749 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:31,749 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:31,749 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:31,749 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2
2015-05-21 15:10:31,750 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:31,750 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:31,750 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:10:31,751 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12256
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:31,751 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,751 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:31,752 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:31,953 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:31,953 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:31,953 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:31,953 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:31,953 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2
2015-05-21 15:10:31,954 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:31,955 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57547:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12249:12250:participant;127.0.0.1:11248
2015-05-21 15:10:31,981 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57547:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x3fffffffe peerLastZxid=0x3fffffffe
2015-05-21 15:10:31,981 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57547:LearnerHandler@703] - Sending DIFF zxid=0x3fffffffe for peer sid: 1
2015-05-21 15:10:31,981 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@366] - Getting a diff from the leader 0x3fffffffe
2015-05-21 15:10:31,982 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:31,982 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x3fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:32,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x500000000
2015-05-21 15:10:32,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:32,004 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:32,004 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:32,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:33,064 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11248. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:33,064 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:36164, server: 127.0.0.1/127.0.0.1:11248
2015-05-21 15:10:33,064 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36164
2015-05-21 15:10:33,065 [myid:] - INFO  [NIOWorkerThread-18:ZooKeeperServer@936] - Client attempting to renew session 0x1000623a1b70000 at /127.0.0.1:36164
2015-05-21 15:10:33,065 [myid:] - INFO  [NIOWorkerThread-18:Learner@110] - Revalidating client: 0x1000623a1b70000
2015-05-21 15:10:33,067 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:36164
2015-05-21 15:10:33,067 [myid:] - INFO  [main-SendThread(127.0.0.1:11248):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11248, sessionid = 0x1000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:33,503 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:33,503 [myid:] - WARN  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1215] - Session 0x3000623a1d40000 for server 127.0.0.1/127.0.0.1:11254, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:10:33,564 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11251. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:33,565 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41559, server: 127.0.0.1/127.0.0.1:11251
2015-05-21 15:10:33,565 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41559
2015-05-21 15:10:33,566 [myid:] - INFO  [NIOWorkerThread-8:ZooKeeperServer@936] - Client attempting to renew session 0x2000623a1b70000 at /127.0.0.1:41559
2015-05-21 15:10:33,566 [myid:] - INFO  [NIOWorkerThread-8:ZooKeeperServer@645] - Established session 0x2000623a1b70000 with negotiated timeout 30000 for client /127.0.0.1:41559
2015-05-21 15:10:33,567 [myid:] - INFO  [main-SendThread(127.0.0.1:11251):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11251, sessionid = 0x2000623a1b70000, negotiated timeout = 30000
2015-05-21 15:10:33,606 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11254
2015-05-21 15:10:33,606 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:33,606 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11254
2015-05-21 15:10:33,609 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.3fffffffe
2015-05-21 15:10:33,613 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:33,614 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:33,614 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@2268109: java.net.BindException: Address already in use
2015-05-21 15:10:33,614 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.server.ZxidRolloverTest.start(ZxidRolloverTest.java:155)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:434)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 19 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:33,615 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:12256
2015-05-21 15:10:33,615 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:33,616 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36167
2015-05-21 15:10:33,616 [myid:] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36167
2015-05-21 15:10:33,617 [myid:] - INFO  [NIOWorkerThread-22:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:33,617 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:33,617 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x3fffffffe
2015-05-21 15:10:33,617 [myid:] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36167 (no session established for client)
2015-05-21 15:10:33,617 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:10:33,618 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:57890
2015-05-21 15:10:33,618 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41562
2015-05-21 15:10:33,618 [myid:] - INFO  [localhost/127.0.0.1:12253:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:49828
2015-05-21 15:10:33,618 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41562
2015-05-21 15:10:33,618 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:33,618 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), FOLLOWING (my state)0 (n.config version)
2015-05-21 15:10:33,618 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@294] - 3 Received version: 300000000 my version: 0
2015-05-21 15:10:33,618 [myid:] - ERROR [WorkerReceiver[myid=3]:QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:33,618 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41562 (no session established for client)
2015-05-21 15:10:33,619 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:33,619 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:33,619 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:10:33,619 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41746
2015-05-21 15:10:33,619 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:33,619 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41746
2015-05-21 15:10:33,619 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), FOLLOWING (my state)300000000 (n.config version)
2015-05-21 15:10:33,619 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:33,620 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41746 (no session established for client)
2015-05-21 15:10:33,619 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:33,620 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x5 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:33,620 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x5 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:33,620 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:33,620 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:33,620 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:33,620 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), FOLLOWING (my state)300000000 (n.config version)
2015-05-21 15:10:33,620 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:33,620 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:33,621 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2
2015-05-21 15:10:33,621 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:33,621 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x5 (n.peerEPoch), FOLLOWING (my state)300000000 (n.config version)
2015-05-21 15:10:33,621 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x5 (n.peerEPoch), FOLLOWING (my state)300000000 (n.config version)
2015-05-21 15:10:33,621 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x4 (n.peerEPoch), FOLLOWING (my state)300000000 (n.config version)
2015-05-21 15:10:33,621 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x5 (n.peerEPoch), FOLLOWING (my state)300000000 (n.config version)
2015-05-21 15:10:33,621 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57556:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:12255:12256:participant;127.0.0.1:11254
2015-05-21 15:10:33,628 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57556:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x500000000 peerLastZxid=0x3fffffffe
2015-05-21 15:10:33,631 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57556:LearnerHandler@735] - Use txnlog and committedLog for peer sid: 3
2015-05-21 15:10:33,632 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57556:LearnerHandler@810] - Sending DIFF zxid=0x500000000 for peer sid: 3
2015-05-21 15:10:33,632 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Learner@366] - Getting a diff from the leader 0x500000000
2015-05-21 15:10:33,633 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:33,633 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x500000000 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.500000000
2015-05-21 15:10:33,647 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:33,647 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:33,870 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:33,870 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41748
2015-05-21 15:10:33,871 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:41748
2015-05-21 15:10:33,872 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:33,872 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41748 (no session established for client)
2015-05-21 15:10:34,549 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:34,549 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:35,452 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:35,453 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:41749, server: 127.0.0.1/127.0.0.1:11254
2015-05-21 15:10:35,453 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:41749
2015-05-21 15:10:35,454 [myid:] - INFO  [NIOWorkerThread-3:ZooKeeperServer@936] - Client attempting to renew session 0x3000623a1d40000 at /127.0.0.1:41749
2015-05-21 15:10:35,454 [myid:] - INFO  [NIOWorkerThread-3:Learner@110] - Revalidating client: 0x3000623a1d40000
2015-05-21 15:10:35,455 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@645] - Established session 0x3000623a1d40000 with negotiated timeout 30000 for client /127.0.0.1:41749
2015-05-21 15:10:35,456 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11254, sessionid = 0x3000623a1d40000, negotiated timeout = 30000
2015-05-21 15:10:35,458 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 44
2015-05-21 15:10:35,461 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2015-05-21 15:10:35,464 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2015-05-21 15:10:35,467 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2015-05-21 15:10:35,470 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2015-05-21 15:10:35,472 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2015-05-21 15:10:35,475 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2015-05-21 15:10:35,477 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2015-05-21 15:10:35,479 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2015-05-21 15:10:35,481 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2015-05-21 15:10:35,483 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2015-05-21 15:10:35,486 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:10:35,488 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:10:35,490 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2015-05-21 15:10:35,492 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2015-05-21 15:10:35,494 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2015-05-21 15:10:35,497 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2015-05-21 15:10:35,499 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2015-05-21 15:10:35,501 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2015-05-21 15:10:35,504 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2015-05-21 15:10:35,506 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2015-05-21 15:10:35,509 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2015-05-21 15:10:35,511 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2015-05-21 15:10:35,513 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000b
2015-05-21 15:10:35,516 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000c
2015-05-21 15:10:35,518 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000d
2015-05-21 15:10:35,521 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000e
2015-05-21 15:10:35,524 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000f
2015-05-21 15:10:35,526 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000010
2015-05-21 15:10:35,528 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000011
2015-05-21 15:10:35,531 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000012
2015-05-21 15:10:35,533 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000013
2015-05-21 15:10:35,536 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000014
2015-05-21 15:10:35,538 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000015
2015-05-21 15:10:35,541 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000016
2015-05-21 15:10:35,543 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000017
2015-05-21 15:10:35,545 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000018
2015-05-21 15:10:35,548 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000019
2015-05-21 15:10:35,550 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001a
2015-05-21 15:10:35,553 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001b
2015-05-21 15:10:35,555 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001c
2015-05-21 15:10:35,557 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001d
2015-05-21 15:10:35,560 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001e
2015-05-21 15:10:35,562 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffd
2015-05-21 15:10:35,565 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffe
2015-05-21 15:10:35,566 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 44 thru 54
2015-05-21 15:10:35,568 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@122] - Got zxid 0x500000001 expected 0x1
2015-05-21 15:10:35,568 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@122] - Got zxid 0x500000001 expected 0x1
2015-05-21 15:10:35,568 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.500000001
2015-05-21 15:10:35,594 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.500000003
2015-05-21 15:10:35,595 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.500000003
2015-05-21 15:10:35,606 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.500000005
2015-05-21 15:10:35,610 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.500000005
2015-05-21 15:10:35,635 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.500000005
2015-05-21 15:10:35,646 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.500000007
2015-05-21 15:10:35,657 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000007 to /home/mitake/github/zookeeper.git/build/test/tmp/test3785538583156433570.junit.dir/version-2/snapshot.500000007
2015-05-21 15:10:35,666 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.500000009
2015-05-21 15:10:35,666 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x500000008 to /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.500000008
2015-05-21 15:10:35,680 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.50000000a
2015-05-21 15:10:35,700 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2015-05-21 15:10:35,700 [myid:] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x1000623a1b70000
2015-05-21 15:10:35,701 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x1000623a1b70000
2015-05-21 15:10:35,714 [myid:] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623a1b70000]
2015-05-21 15:10:35,714 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000623a1b70000 closed
2015-05-21 15:10:35,715 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36164 which had sessionid 0x1000623a1b70000
2015-05-21 15:10:35,714 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:35,715 [myid:] - INFO  [NIOWorkerThread-13:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x2000623a1b70000
2015-05-21 15:10:35,716 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x2000623a1b70000
2015-05-21 15:10:35,716 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x50000000b to /home/mitake/github/zookeeper.git/build/test/tmp/test5693817718083718356.junit.dir/version-2/snapshot.50000000b
2015-05-21 15:10:35,723 [myid:] - INFO  [NIOWorkerThread-14:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x2000623a1b70000]
2015-05-21 15:10:35,723 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000623a1b70000 closed
2015-05-21 15:10:35,723 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41559 which had sessionid 0x2000623a1b70000
2015-05-21 15:10:35,723 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:35,723 [myid:] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x3000623a1d40000
2015-05-21 15:10:35,724 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x3000623a1d40000
2015-05-21 15:10:35,724 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.50000000d
2015-05-21 15:10:35,733 [myid:] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x3000623a1d40000]
2015-05-21 15:10:35,733 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x3000623a1d40000 closed
2015-05-21 15:10:35,733 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:41749 which had sessionid 0x3000623a1d40000
2015-05-21 15:10:35,733 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled)
2015-05-21 15:10:35,733 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:35,734 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:35,733 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:35,734 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:35,734 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:35,735 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:35,735 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:35,735 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:35,735 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:35,735 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:35,735 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:35,735 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:35,736 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:35,736 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11248:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:35,736 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:35,736 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:35,736 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:35,837 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:35,837 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:35,838 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:35,838 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:35,838 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:35,839 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:35,837 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:35,839 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:35,838 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled)
2015-05-21 15:10:35,837 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:35,839 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:35,837 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:35,840 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:35,840 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:35,839 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:35,839 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled) to exit thread
2015-05-21 15:10:35,838 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:35,841 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:35,840 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:36,006 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:36,006 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:36,006 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:36,006 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:36,006 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:10:36,006 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:10:36,007 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:10:36,007 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11248)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:10:36,007 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:10:36,007 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:36,007 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:36,008 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:36,008 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:36,008 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12252:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:36,008 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:36,009 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:36,009 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:36,009 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:36,009 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:36,009 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:36,009 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:36,010 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:36,010 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:36,010 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:36,010 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:36,011 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:36,011 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57556:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:57556 ********
2015-05-21 15:10:36,011 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11251:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:36,011 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57547:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:57547 ********
2015-05-21 15:10:36,011 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:36,012 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57547:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:36,012 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:36,012 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:36,012 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57556:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:36,012 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:10:36,013 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:36,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:36,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:36,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:36,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:36,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:36,014 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:36,015 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:36,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:36,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:36,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:36,015 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:36,016 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:36,016 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:36,017 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6670429440214905303.junit.dir/version-2/snapshot.500000008
2015-05-21 15:10:36,020 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x50000000d
2015-05-21 15:10:36,021 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:36,021 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x50000000d (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x5 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:36,022 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x50000000d (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x5 (n.peerEPoch), LEADING (my state)300000000 (n.config version)
2015-05-21 15:10:36,022 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x5 (n.peerEPoch), LOOKING (my state)300000000 (n.config version)
2015-05-21 15:10:36,114 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:10:36,114 [myid:] - INFO  [localhost/127.0.0.1:12253:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:36,114 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:36,114 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:36,115 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled)
2015-05-21 15:10:36,115 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:36,115 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:36,115 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled) to exit thread
2015-05-21 15:10:36,115 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:36,115 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:36,115 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:36,115 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:36,115 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:36,115 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:36,115 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:36,115 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:36,115 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:10:36,115 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:10:36,116 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:10:36,116 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11251)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:10:36,116 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:36,116 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:36,116 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:36,116 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:36,116 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11254:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:36,116 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:36,217 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:36,217 [myid:] - INFO  [localhost/127.0.0.1:12256:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:36,217 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:10:36,217 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled)
2015-05-21 15:10:36,218 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:36,218 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled) to exit thread
2015-05-21 15:10:36,218 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:36,218 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:36,218 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:36,219 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:36,219 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11248
2015-05-21 15:10:36,219 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11248 is no longer accepting client connections
2015-05-21 15:10:36,220 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11251
2015-05-21 15:10:36,220 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11251 is no longer accepting client connections
2015-05-21 15:10:36,220 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:10:36,220 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11254 is no longer accepting client connections
2015-05-21 15:10:36,221 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testSimpleRolloverFollower
2015-05-21 15:10:36,231 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11257
2015-05-21 15:10:36,231 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11258
2015-05-21 15:10:36,232 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11259
2015-05-21 15:10:36,232 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11260
2015-05-21 15:10:36,232 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11261
2015-05-21 15:10:36,232 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11262
2015-05-21 15:10:36,232 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11263
2015-05-21 15:10:36,232 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11264
2015-05-21 15:10:36,232 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11265
2015-05-21 15:10:36,232 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 1; public port 11257
2015-05-21 15:10:36,232 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:36,233 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11257
2015-05-21 15:10:36,233 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 2; public port 11260
2015-05-21 15:10:36,233 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:36,234 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11260
2015-05-21 15:10:36,234 [myid:] - INFO  [main:QuorumUtil@116] - Creating QuorumPeer 3; public port 11263
2015-05-21 15:10:36,234 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:36,234 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11263
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer
2015-05-21 15:10:36,235 [myid:] - INFO  [main:QuorumUtil@257] - No election available to shutdown QuorumPeer
2015-05-21 15:10:36,236 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer to exit thread
2015-05-21 15:10:36,236 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:36,236 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11257 is no longer accepting client connections
2015-05-21 15:10:36,236 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:10:36,236 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11260 is no longer accepting client connections
2015-05-21 15:10:36,236 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:10:36,236 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11263 is no longer accepting client connections
2015-05-21 15:10:36,236 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 1; public port 11257
2015-05-21 15:10:36,236 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:36,237 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11257
2015-05-21 15:10:36,237 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:36,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:36,247 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:36,260 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:36,261 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:36,261 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@2facba56: java.net.BindException: Address already in use
2015-05-21 15:10:36,261 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:36,262 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12259
2015-05-21 15:10:36,262 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 1
2015-05-21 15:10:36,262 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 2; public port 11260
2015-05-21 15:10:36,262 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:36,263 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11260
2015-05-21 15:10:36,263 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:36,263 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:10:36,263 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:36,264 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address /127.0.0.1:12262
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:36,264 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12265
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:36,265 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,275 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:36,286 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:36,287 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:36,287 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@2f53b135: java.net.BindException: Address already in use
2015-05-21 15:10:36,287 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:36,288 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12262
2015-05-21 15:10:36,288 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 2
2015-05-21 15:10:36,288 [myid:] - INFO  [main:QuorumUtil@203] - Creating QuorumPeer 3; public port 11263
2015-05-21 15:10:36,288 [myid:] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:10:36,288 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0/0.0.0.0:11263
2015-05-21 15:10:36,288 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:36,288 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:10:36,288 [myid:] - INFO  [main:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:36,289 [myid:] - INFO  [/127.0.0.1:12259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:45942
2015-05-21 15:10:36,289 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12265
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:36,289 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,289 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,290 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,290 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address /127.0.0.1:12265
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:36,290 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,290 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,298 [myid:] - INFO  [main:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:10:36,305 [myid:] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-05-21 15:10:36,305 [myid:] - WARN  [main:Slf4jLog@76] - failed SocketConnector@0.0.0.0:8080: java.net.BindException: Address already in use
2015-05-21 15:10:36,305 [myid:] - WARN  [main:Slf4jLog@76] - failed Server@5ce3ccd3: java.net.BindException: Address already in use
2015-05-21 15:10:36,306 [myid:] - WARN  [main:QuorumPeer@624] - Problem starting AdminServer
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:622)
	at org.apache.zookeeper.test.QuorumUtil.start(QuorumUtil.java:211)
	at org.apache.zookeeper.test.QuorumUtil.startAll(QuorumUtil.java:145)
	at org.apache.zookeeper.server.ZxidRolloverTest.startAll(ZxidRolloverTest.java:149)
	at org.apache.zookeeper.server.ZxidRolloverTest.setUp(ZxidRolloverTest.java:64)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
Caused by: java.net.BindException: Address already in use
	at java.net.PlainSocketImpl.socketBind(Native Method)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:376)
	at java.net.ServerSocket.bind(ServerSocket.java:376)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:181)
	at org.mortbay.jetty.bio.SocketConnector.newServerSocket(SocketConnector.java:80)
	at org.mortbay.jetty.bio.SocketConnector.open(SocketConnector.java:73)
	at org.mortbay.jetty.AbstractConnector.doStart(AbstractConnector.java:283)
	at org.mortbay.jetty.bio.SocketConnector.doStart(SocketConnector.java:147)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.Server.doStart(Server.java:235)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.zookeeper.server.admin.JettyAdminServer.start(JettyAdminServer.java:85)
	... 15 more
org.apache.zookeeper.server.admin.AdminServer$AdminServerException: Problem starting AdminServer on port 8080, command URL /commands
2015-05-21 15:10:36,306 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: /127.0.0.1:12265
2015-05-21 15:10:36,306 [myid:] - INFO  [main:QuorumUtil@146] - Started QuorumPeer 3
2015-05-21 15:10:36,306 [myid:] - INFO  [main:QuorumUtil@149] - Checking ports 127.0.0.1:11257,127.0.0.1:11260,127.0.0.1:11263
2015-05-21 15:10:36,306 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:36,306 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46997
2015-05-21 15:10:36,307 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:36,307 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:46997
2015-05-21 15:10:36,307 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:10:36,307 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46997 (no session established for client)
2015-05-21 15:10:36,308 [myid:] - INFO  [/127.0.0.1:12259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:45946
2015-05-21 15:10:36,309 [myid:] - INFO  [/127.0.0.1:12262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:40464
2015-05-21 15:10:36,309 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,309 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,309 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,309 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,309 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,310 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,310 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,310 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,310 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,310 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,310 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:10:36,510 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:36,510 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:36,510 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:36,510 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:36,510 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:36,510 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:10:36,511 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:36,512 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6577234693571374670.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6577234693571374670.junit.dir/version-2
2015-05-21 15:10:36,512 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2
2015-05-21 15:10:36,512 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:10:36,512 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 2
2015-05-21 15:10:36,512 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:12264
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:36,513 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2/snapshot.0
2015-05-21 15:10:36,514 [myid:] - INFO  [LearnerHandler-/127.0.0.1:34002:LearnerHandler@361] - Follower sid: 2 : info : 127.0.0.1:12261:12262:participant;127.0.0.1:11260
2015-05-21 15:10:36,538 [myid:] - INFO  [LearnerHandler-/127.0.0.1:34002:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:10:36,538 [myid:] - INFO  [LearnerHandler-/127.0.0.1:34002:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:10:36,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:10:36,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:36,558 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:36,558 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47002
2015-05-21 15:10:36,559 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47002
2015-05-21 15:10:36,559 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47002 (no session established for client)
2015-05-21 15:10:36,562 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6577234693571374670.junit.dir/version-2/snapshot.0
2015-05-21 15:10:36,574 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 3],[2, 3] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:10:36,574 [myid:] - ERROR [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:36,575 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:36,576 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:36,576 [myid:] - ERROR [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:36,576 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:36,620 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:36,620 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:36,810 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:36,810 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47003
2015-05-21 15:10:36,811 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47003
2015-05-21 15:10:36,812 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47003 (no session established for client)
2015-05-21 15:10:37,062 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:37,062 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47004
2015-05-21 15:10:37,063 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47004
2015-05-21 15:10:37,064 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47004 (no session established for client)
2015-05-21 15:10:37,314 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:37,314 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47005
2015-05-21 15:10:37,315 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47005
2015-05-21 15:10:37,316 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47005 (no session established for client)
2015-05-21 15:10:37,514 [myid:] - INFO  [LearnerHandler-/127.0.0.1:34007:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12258:12259:participant;127.0.0.1:11257
2015-05-21 15:10:37,523 [myid:] - INFO  [LearnerHandler-/127.0.0.1:34007:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2015-05-21 15:10:37,525 [myid:] - INFO  [LearnerHandler-/127.0.0.1:34007:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:10:37,525 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:10:37,526 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:37,534 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000000 to /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2/snapshot.100000000
2015-05-21 15:10:37,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:37,542 [myid:] - ERROR [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@1335] - writeToDisk == true but configFilename == null
2015-05-21 15:10:37,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:37,566 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:37,566 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47007
2015-05-21 15:10:37,567 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47007
2015-05-21 15:10:37,568 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:37,568 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47007 (no session established for client)
2015-05-21 15:10:37,568 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11257 is accepting client connections
2015-05-21 15:10:37,568 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:10:37,569 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48202
2015-05-21 15:10:37,570 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48202
2015-05-21 15:10:37,570 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:37,570 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48202 (no session established for client)
2015-05-21 15:10:37,571 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11260 is accepting client connections
2015-05-21 15:10:37,571 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:10:37,571 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57718
2015-05-21 15:10:37,572 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:57718
2015-05-21 15:10:37,572 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:10:37,573 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57718 (no session established for client)
2015-05-21 15:10:37,573 [myid:] - INFO  [main:QuorumUtil@153] - 127.0.0.1:11263 is accepting client connections
2015-05-21 15:10:37,573 [myid:] - INFO  [main:JMXEnv@194] - JMXEnv.dump() follows
2015-05-21 15:10:37,578 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:37,578 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:37,578 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:37,578 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:37,578 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:37,578 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:37,579 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:37,580 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2015-05-21 15:10:37,580 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:37,580 [myid:] - INFO  [main:JMXEnv@203] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:37,584 [myid:] - INFO  [main:JMXEnv@113] - expect:InMemoryDataTree
2015-05-21 15:10:37,584 [myid:] - INFO  [main:JMXEnv@116] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2015-05-21 15:10:37,584 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2015-05-21 15:10:37,584 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:37,584 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2015-05-21 15:10:37,584 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2015-05-21 15:10:37,584 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2015-05-21 15:10:37,585 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.2
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2015-05-21 15:10:37,586 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id1
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id2
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@113] - expect:name0=ReplicatedServer_id3
2015-05-21 15:10:37,587 [myid:] - INFO  [main:JMXEnv@116] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2015-05-21 15:10:37,587 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11257 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@7280c708
2015-05-21 15:10:37,588 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11260 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@fa1567b
2015-05-21 15:10:37,588 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11257. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:37,588 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:47010, server: 127.0.0.1/127.0.0.1:11257
2015-05-21 15:10:37,588 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47010
2015-05-21 15:10:37,588 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:37,588 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:48205, server: 127.0.0.1/127.0.0.1:11260
2015-05-21 15:10:37,588 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48205
2015-05-21 15:10:37,589 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11263 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@12b4e680
2015-05-21 15:10:37,589 [myid:] - INFO  [NIOWorkerThread-7:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:47010
2015-05-21 15:10:37,589 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:48205
2015-05-21 15:10:37,589 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:37,589 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57721
2015-05-21 15:10:37,589 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:57721, server: 127.0.0.1/127.0.0.1:11263
2015-05-21 15:10:37,590 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:10:37,590 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:37,590 [myid:] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:37,590 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:10:37,590 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:57721
2015-05-21 15:10:37,590 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:10:37,607 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x1000623e3760000 with negotiated timeout 30000 for client /127.0.0.1:47010
2015-05-21 15:10:37,608 [myid:] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x2000623df9c0000 with negotiated timeout 30000 for client /127.0.0.1:48205
2015-05-21 15:10:37,608 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11257, sessionid = 0x1000623e3760000, negotiated timeout = 30000
2015-05-21 15:10:37,608 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11260, sessionid = 0x2000623df9c0000, negotiated timeout = 30000
2015-05-21 15:10:37,610 [myid:] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x3000623dfbf0000 with negotiated timeout 30000 for client /127.0.0.1:57721
2015-05-21 15:10:37,611 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11263, sessionid = 0x3000623dfbf0000, negotiated timeout = 30000
2015-05-21 15:10:37,611 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2015-05-21 15:10:37,613 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x100000004
2015-05-21 15:10:37,613 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@122] - Got zxid 0x1fffffffd expected 0x100000004
2015-05-21 15:10:37,625 [myid:] - WARN  [LearnerHandler-/127.0.0.1:34007:Leader@719] - Commiting zxid 0x1fffffffd from /127.0.0.1:12264 not first!
2015-05-21 15:10:37,625 [myid:] - WARN  [LearnerHandler-/127.0.0.1:34007:Leader@721] - First is 4294967300
2015-05-21 15:10:37,629 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x1fffffffd to /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:10:37,629 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@298] - Snapshotting: 0x1fffffffd to /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:10:37,641 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@611] - Shutting down
2015-05-21 15:10:37,641 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1030)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
2015-05-21 15:10:37,641 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000623dfbf0000]
2015-05-21 15:10:37,641 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12264:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:37,641 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57721 which had sessionid 0x3000623dfbf0000
2015-05-21 15:10:37,642 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@465] - shutting down
2015-05-21 15:10:37,642 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:37,642 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:37,642 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:37,642 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x3000623dfbf0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:37,642 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:37,642 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@356] - Shutting down
2015-05-21 15:10:37,643 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:37,643 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:37,643 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:37,643 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:37,643 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:37,643 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:37,644 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@149] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2015-05-21 15:10:37,644 [myid:] - WARN  [LearnerHandler-/127.0.0.1:34002:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34002 ********
2015-05-21 15:10:37,644 [myid:] - WARN  [LearnerHandler-/127.0.0.1:34007:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:34007 ********
2015-05-21 15:10:37,644 [myid:] - WARN  [LearnerHandler-/127.0.0.1:34002:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:37,644 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@48] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:877)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:145)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:1031)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2015-05-21 15:10:37,644 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:37,644 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:37,645 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:10:37,645 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer$ZooKeeperServerListenerImpl@442] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2015-05-21 15:10:37,646 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:37,644 [myid:] - WARN  [LearnerHandler-/127.0.0.1:34007:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:37,646 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000623df9c0000]
2015-05-21 15:10:37,646 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:37,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48205 which had sessionid 0x2000623df9c0000
2015-05-21 15:10:37,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:37,647 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000623df9c0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:37,647 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:37,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:37,648 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:37,648 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:37,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623e3760000]
2015-05-21 15:10:37,648 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:37,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47010 which had sessionid 0x1000623e3760000
2015-05-21 15:10:37,648 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:37,648 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000623e3760000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:10:37,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:37,649 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:37,649 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:37,648 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:37,649 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:37,649 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:37,649 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:37,650 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:37,649 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:37,650 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:37,650 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:37,650 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:37,650 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:37,650 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:37,650 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:37,650 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:37,651 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:37,651 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:37,651 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:37,651 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6577234693571374670.junit.dir/version-2/snapshot.0
2015-05-21 15:10:37,652 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:10:37,653 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x1fffffffe
2015-05-21 15:10:37,653 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x1fffffffe
2015-05-21 15:10:37,654 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,654 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,654 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:37,654 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,654 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,655 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:37,655 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,655 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,655 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,656 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,656 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:37,657 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:37,856 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:10:37,856 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:10:37,856 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:37,856 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:37,856 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6577234693571374670.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6577234693571374670.junit.dir/version-2
2015-05-21 15:10:37,857 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:37,857 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:10:37,857 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test6577234693571374670.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:10:37,857 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:37,857 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:37,857 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:37,858 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2
2015-05-21 15:10:37,858 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:37,859 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54279:LearnerHandler@361] - Follower sid: 1 : info : 127.0.0.1:12258:12259:participant;127.0.0.1:11257
2015-05-21 15:10:37,875 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54279:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 lastProcessedZxid=0x1fffffffe peerLastZxid=0x1fffffffe
2015-05-21 15:10:37,876 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54279:LearnerHandler@703] - Sending DIFF zxid=0x1fffffffe for peer sid: 1
2015-05-21 15:10:37,876 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:10:37,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:37,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test2116172850055879005.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:10:37,889 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [1, 2] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:10:37,890 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:37,891 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:37,892 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:38,240 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:10:38,576 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:38,576 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:10:38,576 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:38,577 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:38,577 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2/snapshot.1fffffffd
2015-05-21 15:10:38,579 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x1fffffffe
2015-05-21 15:10:38,580 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:38,580 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:10:38,580 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:38,581 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:38,581 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:38,581 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:38,581 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:10:38,582 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-05-21 15:10:38,582 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-05-21 15:10:38,582 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2
2015-05-21 15:10:38,582 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:10:38,583 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54280:LearnerHandler@361] - Follower sid: 3 : info : 127.0.0.1:12264:12265:participant;127.0.0.1:11263
2015-05-21 15:10:38,594 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54280:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 lastProcessedZxid=0x200000000 peerLastZxid=0x1fffffffe
2015-05-21 15:10:38,594 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54280:LearnerHandler@720] - Using committedLog for peer sid: 3
2015-05-21 15:10:38,595 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54280:LearnerHandler@810] - Sending DIFF zxid=0x1fffffffe for peer sid: 3
2015-05-21 15:10:38,595 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Learner@366] - Getting a diff from the leader 0x1fffffffe
2015-05-21 15:10:38,596 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:10:38,596 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x1fffffffe to /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:10:38,605 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:10:38,605 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:10:39,021 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:39,022 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:39,022 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:10:39,022 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:10:39,696 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:39,696 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:57724, server: 127.0.0.1/127.0.0.1:11263
2015-05-21 15:10:39,696 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57724
2015-05-21 15:10:39,698 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x3000623dfbf0000 at /127.0.0.1:57724
2015-05-21 15:10:39,698 [myid:] - INFO  [NIOWorkerThread-4:Learner@110] - Revalidating client: 0x3000623dfbf0000
2015-05-21 15:10:39,699 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@645] - Established session 0x3000623dfbf0000 with negotiated timeout 30000 for client /127.0.0.1:57724
2015-05-21 15:10:39,700 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11263, sessionid = 0x3000623dfbf0000, negotiated timeout = 30000
2015-05-21 15:10:39,722 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11257. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:39,723 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:47016, server: 127.0.0.1/127.0.0.1:11257
2015-05-21 15:10:39,723 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47016
2015-05-21 15:10:39,724 [myid:] - INFO  [NIOWorkerThread-14:ZooKeeperServer@936] - Client attempting to renew session 0x1000623e3760000 at /127.0.0.1:47016
2015-05-21 15:10:39,724 [myid:] - INFO  [NIOWorkerThread-14:Learner@110] - Revalidating client: 0x1000623e3760000
2015-05-21 15:10:39,725 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):ZooKeeperServer@645] - Established session 0x1000623e3760000 with negotiated timeout 30000 for client /127.0.0.1:47016
2015-05-21 15:10:39,726 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11257, sessionid = 0x1000623e3760000, negotiated timeout = 30000
2015-05-21 15:10:39,729 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:10:39,729 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:48211, server: 127.0.0.1/127.0.0.1:11260
2015-05-21 15:10:39,729 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48211
2015-05-21 15:10:39,730 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@936] - Client attempting to renew session 0x2000623df9c0000 at /127.0.0.1:48211
2015-05-21 15:10:39,731 [myid:] - INFO  [NIOWorkerThread-4:ZooKeeperServer@645] - Established session 0x2000623df9c0000 with negotiated timeout 30000 for client /127.0.0.1:48211
2015-05-21 15:10:39,732 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11260, sessionid = 0x2000623df9c0000, negotiated timeout = 30000
2015-05-21 15:10:39,732 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 2
2015-05-21 15:10:39,736 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2015-05-21 15:10:39,740 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2015-05-21 15:10:39,742 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2015-05-21 15:10:39,743 [myid:] - INFO  [NIOWorkerThread-2:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x1000623e3760000
2015-05-21 15:10:39,743 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x1000623e3760000
2015-05-21 15:10:39,744 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:10:39,744 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@122] - Got zxid 0x200000001 expected 0x1
2015-05-21 15:10:39,745 [myid:] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:10:39,745 [myid:] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:10:39,757 [myid:] - INFO  [NIOWorkerThread-3:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000623e3760000]
2015-05-21 15:10:39,758 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000623e3760000 closed
2015-05-21 15:10:39,758 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47016 which had sessionid 0x1000623e3760000
2015-05-21 15:10:39,758 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:39,759 [myid:] - INFO  [NIOWorkerThread-6:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x2000623df9c0000
2015-05-21 15:10:39,759 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x2000623df9c0000
2015-05-21 15:10:39,767 [myid:] - INFO  [NIOWorkerThread-7:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x2000623df9c0000]
2015-05-21 15:10:39,767 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000623df9c0000 closed
2015-05-21 15:10:39,767 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48211 which had sessionid 0x2000623df9c0000
2015-05-21 15:10:39,767 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:39,767 [myid:] - INFO  [NIOWorkerThread-6:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x3000623dfbf0000
2015-05-21 15:10:39,767 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x3000623dfbf0000
2015-05-21 15:10:39,777 [myid:] - INFO  [NIOWorkerThread-7:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x3000623dfbf0000]
2015-05-21 15:10:39,777 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x3000623dfbf0000 closed
2015-05-21 15:10:39,777 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57724 which had sessionid 0x3000623dfbf0000
2015-05-21 15:10:39,777 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled)
2015-05-21 15:10:39,777 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:10:39,777 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:39,777 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:39,777 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:39,777 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:39,778 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:39,778 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:39,778 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:39,778 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:39,778 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:39,778 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:39,779 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:39,779 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:39,779 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:39,780 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11257:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:39,780 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:39,780 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:39,880 [myid:] - INFO  [/127.0.0.1:12259:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:39,880 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:39,881 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:39,881 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:39,881 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:39,880 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled)
2015-05-21 15:10:39,881 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:39,881 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:39,880 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:39,880 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:39,882 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:39,882 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:10:39,882 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:39,883 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:10:39,882 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:39,881 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:10:39,881 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled) to exit thread
2015-05-21 15:10:39,881 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:39,881 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:10:39,892 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:10:39,892 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:39,893 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:39,893 [myid:] - WARN  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:39,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:10:39,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:10:39,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:10:39,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=/0:0:0:0:0:0:0:0:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:10:39,894 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled)
2015-05-21 15:10:39,894 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:10:39,894 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:251)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:238)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:140)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:10:39,894 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:10:39,894 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:10:39,895 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:10:39,895 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:10:39,895 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12261:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:10:39,895 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:10:39,895 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:10:39,896 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:10:39,896 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:39,896 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:10:39,896 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:39,896 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:39,896 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:39,897 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:10:39,897 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:39,897 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54280:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:54280 ********
2015-05-21 15:10:39,897 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:10:39,897 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54279:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:54279 ********
2015-05-21 15:10:39,899 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:10:39,898 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:39,899 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:10:39,899 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:10:39,898 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11260:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:39,898 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:39,898 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54280:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:39,900 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:39,899 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:10:39,899 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54279:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:10:39,900 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:10:39,900 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:10:39,901 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:10:39,901 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:10:39,901 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:10:39,902 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:10:39,902 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:10:39,902 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:10:39,902 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:39,902 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:10:39,903 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2832312060820191453.junit.dir/version-2/snapshot.1fffffffe
2015-05-21 15:10:39,904 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x200000003
2015-05-21 15:10:39,904 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address /127.0.0.1:12259
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:10:39,905 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x200000003 (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:39,905 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x200000003 (n.zxid), 0x0 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:10:39,905 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:10:40,000 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader]
2015-05-21 15:10:40,000 [myid:] - INFO  [/127.0.0.1:12262:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:40,001 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:10:40,001 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:40,001 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:40,002 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:40,001 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:10:40,001 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:10:40,002 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:10:40,002 [myid:] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:40,001 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled)
2015-05-21 15:10:40,002 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:10:40,002 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:10:40,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:10:40,001 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:10:40,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:10:40,003 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:10:40,002 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled) to exit thread
2015-05-21 15:10:40,003 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:10:40,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:10:40,004 [myid:] - INFO  [main:QuorumUtil@250] - Shutting down quorum peer QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled)
2015-05-21 15:10:40,004 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:10:40,005 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:40,005 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11263:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:10:40,005 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:10:40,005 [myid:] - INFO  [main:Slf4jLog@67] - Stopped SocketConnector@0.0.0.0:8080
2015-05-21 15:10:40,106 [myid:] - INFO  [/127.0.0.1:12265:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:10:40,106 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:10:40,106 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down leader election QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled)
2015-05-21 15:10:40,106 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:10:40,106 [myid:] - INFO  [main:QuorumUtil@259] - Waiting for QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled) to exit thread
2015-05-21 15:10:40,107 [myid:] - WARN  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:10:40,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:10:40,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:10:40,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:10:40,108 [myid:] - INFO  [QuorumPeer[myid=3](plain=/0:0:0:0:0:0:0:0:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:10:40,108 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:10:40,108 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11257 is no longer accepting client connections
2015-05-21 15:10:40,108 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:10:40,109 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11260 is no longer accepting client connections
2015-05-21 15:10:40,109 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:10:40,109 [myid:] - INFO  [main:QuorumUtil@243] - 127.0.0.1:11263 is no longer accepting client connections
------------- ---------------- ---------------

Testcase: testRolloverThenRestart took 20.554 sec
Testcase: testRolloverThenFollowerRestart took 17.324 sec
Testcase: testRolloverThenLeaderRestart took 11.716 sec
Testcase: testMultipleRollover took 15.858 sec
Testcase: testSimpleRolloverFollower took 3.888 sec
