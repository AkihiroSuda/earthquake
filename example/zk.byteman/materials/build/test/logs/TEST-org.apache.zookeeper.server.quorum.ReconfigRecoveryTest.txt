Testsuite: org.apache.zookeeper.server.quorum.ReconfigRecoveryTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 182.336 sec
------------- Standard Output ---------------
2015-05-21 15:15:28,231 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testNextConfigCompletion
2015-05-21 15:15:28,236 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testNextConfigCompletion
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11221
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11222
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11223
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11224
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11225
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11226
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11227
2015-05-21 15:15:28,241 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11228
2015-05-21 15:15:28,242 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11229
2015-05-21 15:15:28,255 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test3245171775867087144.junit.dir clientPort = 11221 adminServerPort = 8080
2015-05-21 15:15:28,260 [myid:] - INFO  [Thread-0:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test3245171775867087144.junit.dir/zoo.cfg
2015-05-21 15:15:28,264 [myid:] - INFO  [Thread-0:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11221
2015-05-21 15:15:28,264 [myid:] - INFO  [main:Environment@109] - Client environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:15:28,264 [myid:] - INFO  [Thread-0:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:28,264 [myid:] - INFO  [main:Environment@109] - Client environment:host.name=mitake-jiseki-PC
2015-05-21 15:15:28,266 [myid:] - INFO  [main:Environment@109] - Client environment:java.version=1.7.0_75
2015-05-21 15:15:28,266 [myid:] - INFO  [main:Environment@109] - Client environment:java.vendor=Oracle Corporation
2015-05-21 15:15:28,266 [myid:] - INFO  [main:Environment@109] - Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:15:28,266 [myid:] - INFO  [main:Environment@109] - Client environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:15:28,266 [myid:] - INFO  [main:Environment@109] - Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:15:28,266 [myid:] - INFO  [main:Environment@109] - Client environment:java.io.tmpdir=/tmp
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:java.compiler=<NA>
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:os.name=Linux
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:os.arch=amd64
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:os.version=3.13.0-45-generic
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:user.name=mitake
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:user.home=/home/mitake
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.free=475MB
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.max=491MB
2015-05-21 15:15:28,267 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.total=491MB
2015-05-21 15:15:28,269 [myid:] - WARN  [Thread-0:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:28,269 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@484734b7
2015-05-21 15:15:28,272 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:28,272 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:28,272 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:28,281 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7785590293211890983.junit.dir clientPort = 11224 adminServerPort = 8080
2015-05-21 15:15:28,282 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@484734b7
2015-05-21 15:15:28,282 [myid:] - INFO  [Thread-2:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7785590293211890983.junit.dir/zoo.cfg
2015-05-21 15:15:28,282 [myid:] - INFO  [Thread-2:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11224
2015-05-21 15:15:28,282 [myid:] - INFO  [Thread-2:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:28,282 [myid:] - WARN  [Thread-2:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:28,283 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:28,283 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:28,283 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:28,284 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:28,284 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:28,284 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:15:28,287 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11221 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigCompletion(ReconfigRecoveryTest.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:28,288 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:28,288 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:28,329 [myid:1] - ERROR [Thread-2:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,330 [myid:1] - ERROR [Thread-2:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,331 [myid:1] - ERROR [Thread-2:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,331 [myid:1] - WARN  [Thread-2:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,331 [myid:1] - INFO  [Thread-2:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:28,331 [myid:0] - INFO  [Thread-0:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:28,336 [myid:1] - INFO  [Thread-2:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:28,336 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:28,339 [myid:1] - INFO  [Thread-2:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11224
2015-05-21 15:15:28,339 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11221
2015-05-21 15:15:28,348 [myid:1] - INFO  [Thread-2:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:28,348 [myid:0] - INFO  [Thread-0:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:28,348 [myid:1] - INFO  [Thread-2:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:28,348 [myid:0] - INFO  [Thread-0:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:28,348 [myid:1] - INFO  [Thread-2:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:28,349 [myid:0] - INFO  [Thread-0:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:28,349 [myid:1] - INFO  [Thread-2:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:28,349 [myid:0] - INFO  [Thread-0:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:28,349 [myid:1] - INFO  [Thread-2:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:28,349 [myid:0] - INFO  [Thread-0:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:28,349 [myid:1] - INFO  [Thread-2:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:28,349 [myid:0] - INFO  [Thread-0:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:28,360 [myid:1] - INFO  [Thread-2:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:28,360 [myid:0] - INFO  [Thread-0:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:28,369 [myid:1] - INFO  [Thread-2:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:28,369 [myid:0] - INFO  [Thread-0:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:28,381 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11226
2015-05-21 15:15:28,383 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11223
2015-05-21 15:15:28,389 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:28,389 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:28,390 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:15:28,390 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:15:28,391 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46648
2015-05-21 15:15:28,392 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60297
2015-05-21 15:15:28,392 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:15:28,392 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,393 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:28,393 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,394 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:28,394 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:28,394 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:28,395 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:28,395 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11229
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,395 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:28,540 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:15:28,541 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46901
2015-05-21 15:15:28,551 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:46901
2015-05-21 15:15:28,553 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46901 (no session established for client)
2015-05-21 15:15:28,595 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:15:28,595 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:15:28,596 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:15:28,596 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:28,600 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Leader@63] - TCP NoDelay set to: true
2015-05-21 15:15:28,600 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Leader@83] - zookeeper.leader.maxConcurrentSnapshots = 10
2015-05-21 15:15:28,600 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Leader@85] - zookeeper.leader.maxConcurrentSnapshotTimeout = 5
2015-05-21 15:15:28,601 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Learner@88] - TCP NoDelay set to: true
2015-05-21 15:15:28,603 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/16/2015 06:13 GMT
2015-05-21 15:15:28,603 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:host.name=mitake-jiseki-PC
2015-05-21 15:15:28,603 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:java.version=1.7.0_75
2015-05-21 15:15:28,603 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:java.vendor=Oracle Corporation
2015-05-21 15:15:28,603 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:java.class.path=/home/mitake/github/zookeeper.git/build/test/classes:/home/mitake/github/zookeeper.git/build/test/lib/antlr-2.7.6.jar:/home/mitake/github/zookeeper.git/build/test/lib/checkstyle-5.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-cli-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-collections-2.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-lang-1.0.jar:/home/mitake/github/zookeeper.git/build/test/lib/commons-logging-1.0.3.jar:/home/mitake/github/zookeeper.git/build/test/lib/google-collections-0.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/hamcrest-core-1.1.jar:/home/mitake/github/zookeeper.git/build/test/lib/junit-4.9.jar:/home/mitake/github/zookeeper.git/build/test/lib/mockito-all-1.8.2.jar:/home/mitake/github/zookeeper.git/build/classes:/home/mitake/github/zookeeper.git/src/java/lib/aspectjrt.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjtools.jar:/home/mitake/github/zookeeper.git/src/java/lib/aspectjweaver.jar:/home/mitake/github/zookeeper.git/src/java/lib/ivy-2.2.0.jar:/home/mitake/github/zookeeper.git/src/java/lib/org.aspectj.matcher.jar:/home/mitake/github/zookeeper.git/src/java/lib/protobuf-java-2.6.1.jar:/usr/share/ant/lib/ant.jar:/home/mitake/github/zookeeper.git/build/lib/commons-cli-1.2.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-core-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/jackson-mapper-asl-1.9.11.jar:/home/mitake/github/zookeeper.git/build/lib/javacc.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jetty-util-6.1.26.jar:/home/mitake/github/zookeeper.git/build/lib/jline-2.11.jar:/home/mitake/github/zookeeper.git/build/lib/log4j-1.2.16.jar:/home/mitake/github/zookeeper.git/build/lib/netty-3.7.0.Final.jar:/home/mitake/github/zookeeper.git/build/lib/servlet-api-2.5-20081211.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-api-1.7.5.jar:/home/mitake/github/zookeeper.git/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.3.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:java.io.tmpdir=/tmp
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:java.compiler=<NA>
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:os.name=Linux
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:os.arch=amd64
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:os.version=3.13.0-45-generic
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:user.name=mitake
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:user.home=/home/mitake
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:user.dir=/home/mitake/github/zookeeper.git/build/test
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:os.memory.free=423MB
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:os.memory.max=491MB
2015-05-21 15:15:28,604 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Environment@109] - Server environment:os.memory.total=491MB
2015-05-21 15:15:28,605 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:28,605 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:28,605 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:28,605 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:28,606 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test7785590293211890983.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test7785590293211890983.junit.dir/data/version-2
2015-05-21 15:15:28,606 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3245171775867087144.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3245171775867087144.junit.dir/data/version-2
2015-05-21 15:15:28,606 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 11
2015-05-21 15:15:28,607 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 11
2015-05-21 15:15:28,610 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test7785590293211890983.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:28,616 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:35355:LearnerHandler@361] - Follower sid: 0 : info : localhost:11222:11223:participant;localhost:11221
2015-05-21 15:15:28,643 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:35355:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:15:28,643 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:35355:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:15:28,645 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:15:28,652 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:28,653 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test3245171775867087144.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:28,665 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 1],[0, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:15:28,686 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:15:28,686 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:28,687 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:28,687 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:28,687 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:28,689 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:28,688 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:28,688 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11226
2015-05-21 15:15:28,688 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:15:28,689 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:28,690 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:15:28,697 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:28,704 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:28,719 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:15:28,719 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:28,720 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11223
2015-05-21 15:15:28,720 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:28,804 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11221
2015-05-21 15:15:28,805 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46903
2015-05-21 15:15:28,807 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:46903
2015-05-21 15:15:28,808 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:28,809 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46903 (no session established for client)
2015-05-21 15:15:28,809 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11224
2015-05-21 15:15:28,810 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55869
2015-05-21 15:15:28,812 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:55869
2015-05-21 15:15:28,813 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:28,813 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55869 (no session established for client)
2015-05-21 15:15:28,814 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test759969183461083838.junit.dir clientPort = 11227 adminServerPort = 8080
2015-05-21 15:15:28,815 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@484734b7
2015-05-21 15:15:28,815 [myid:] - INFO  [Thread-4:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test759969183461083838.junit.dir/zoo.cfg
2015-05-21 15:15:28,816 [myid:] - INFO  [Thread-4:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11227
2015-05-21 15:15:28,816 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:15:28,816 [myid:] - INFO  [Thread-4:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:28,817 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:28,817 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11227 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigCompletion(ReconfigRecoveryTest.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:28,817 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:28,817 [myid:] - WARN  [Thread-4:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:28,820 [myid:2] - INFO  [Thread-4:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:28,820 [myid:2] - INFO  [Thread-4:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:28,820 [myid:2] - INFO  [Thread-4:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:28,820 [myid:2] - WARN  [Thread-4:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:28,821 [myid:2] - INFO  [Thread-4:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:28,822 [myid:2] - INFO  [Thread-4:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:28,822 [myid:2] - INFO  [Thread-4:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11227
2015-05-21 15:15:28,823 [myid:2] - INFO  [Thread-4:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:28,823 [myid:2] - INFO  [Thread-4:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:28,823 [myid:2] - INFO  [Thread-4:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:28,823 [myid:2] - INFO  [Thread-4:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:28,823 [myid:2] - INFO  [Thread-4:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:28,823 [myid:2] - INFO  [Thread-4:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:28,824 [myid:2] - INFO  [Thread-4:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:28,838 [myid:2] - INFO  [Thread-4:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:28,852 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11229
2015-05-21 15:15:28,853 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:28,853 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:15:28,853 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60307
2015-05-21 15:15:28,854 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:15:28,855 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)0 (n.config version)
2015-05-21 15:15:28,856 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@294] - 2 Received version: 200000000 my version: 0
2015-05-21 15:15:28,880 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:15:28,880 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:28,881 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:28,881 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:28,881 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:28,881 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:28,881 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:28,882 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:28,881 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:28,883 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:15:28,882 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:15:29,056 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46660
2015-05-21 15:15:29,056 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:29,056 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:15:29,057 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:15:29,057 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:29,067 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:29,067 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:29,067 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:29,067 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:29,068 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:29,068 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11229
2015-05-21 15:15:29,068 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:15:29,068 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:15:29,069 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46661
2015-05-21 15:15:29,069 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:15:29,069 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60310
2015-05-21 15:15:29,069 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:34145
2015-05-21 15:15:29,070 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:15:29,070 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:34145
2015-05-21 15:15:29,070 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:29,070 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:34145 (no session established for client)
2015-05-21 15:15:29,070 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)200000000 (n.config version)
2015-05-21 15:15:29,071 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:29,071 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:29,072 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:29,072 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:29,072 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:29,072 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:29,072 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:29,072 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test759969183461083838.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test759969183461083838.junit.dir/data/version-2
2015-05-21 15:15:29,072 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:15:29,073 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:35365:LearnerHandler@361] - Follower sid: 2 : info : localhost:11228:11229:participant;localhost:11227
2015-05-21 15:15:29,080 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:35365:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2015-05-21 15:15:29,082 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:15:29,082 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:35365:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:15:29,083 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:29,083 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000000 to /home/mitake/github/zookeeper.git/build/test/tmp/test759969183461083838.junit.dir/data/version-2/snapshot.100000000
2015-05-21 15:15:29,091 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:29,091 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:29,320 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11227
2015-05-21 15:15:29,321 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:34147
2015-05-21 15:15:29,323 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:34147
2015-05-21 15:15:29,323 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:29,323 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:34147 (no session established for client)
2015-05-21 15:15:29,391 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:29,391 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:29,391 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:55879
2015-05-21 15:15:29,391 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:46915
2015-05-21 15:15:29,391 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:55879, server: 127.0.0.1/127.0.0.1:11224
2015-05-21 15:15:29,391 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:46915, server: 127.0.0.1/127.0.0.1:11221
2015-05-21 15:15:29,395 [myid:0] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:46915
2015-05-21 15:15:29,395 [myid:1] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:55879
2015-05-21 15:15:29,398 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:29,398 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:15:29,398 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:15:29,398 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:29,398 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:29,416 [myid:0] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x62854ac0000 with negotiated timeout 30000 for client /127.0.0.1:46915
2015-05-21 15:15:29,416 [myid:1] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x100062854d20000 with negotiated timeout 30000 for client /127.0.0.1:55879
2015-05-21 15:15:29,417 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x62854ac0000, negotiated timeout = 30000
2015-05-21 15:15:29,417 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x100062854d20000, negotiated timeout = 30000
2015-05-21 15:15:29,920 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:29,920 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:34150, server: 127.0.0.1/127.0.0.1:11227
2015-05-21 15:15:29,920 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:34150
2015-05-21 15:15:29,921 [myid:2] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:34150
2015-05-21 15:15:29,928 [myid:2] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x2000628565b0000 with negotiated timeout 30000 for client /127.0.0.1:34150
2015-05-21 15:15:29,929 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x2000628565b0000, negotiated timeout = 30000
2015-05-21 15:15:29,980 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x2000628565b0000 type:create cxid:0x5 zxid:0x100000006 txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:15:30,005 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled)
2015-05-21 15:15:30,006 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigCompletion(ReconfigRecoveryTest.java:114)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:30,007 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x62854ac0000]
2015-05-21 15:15:30,008 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:46915 which had sessionid 0x62854ac0000
2015-05-21 15:15:30,008 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:15:30,008 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x62854ac0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:30,009 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:15:30,009 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:15:30,009 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:15:30,009 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:15:30,010 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:30,010 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:30,011 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:15:30,011 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:30,012 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:30,012 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:30,013 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11221:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:30,013 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:30,013 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:30,014 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:30,014 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:30,014 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:30,014 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled)
2015-05-21 15:15:30,014 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:30,015 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled) to exit thread
2015-05-21 15:15:30,015 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:30,015 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:15:30,015 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:30,016 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:30,016 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:15:30,705 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:15:30,706 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:15:30,706 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:30,706 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:30,706 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:15:30,707 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:15:30,707 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:15:30,707 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11221)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:15:31,394 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:31,395 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:31,395 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:31,395 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:32,014 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:32,070 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:32,070 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:32,116 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x62854ac0000 closed
2015-05-21 15:15:32,116 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:32,117 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled)
2015-05-21 15:15:32,117 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:15:32,117 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigCompletion(ReconfigRecoveryTest.java:114)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:32,119 [myid:1] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11225:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:15:32,119 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x100062854d20000]
2015-05-21 15:15:32,120 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:55879 which had sessionid 0x100062854d20000
2015-05-21 15:15:32,120 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:15:32,120 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x100062854d20000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:32,120 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:15:32,121 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:15:32,121 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:15:32,121 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:15:32,121 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:15:32,122 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:15:32,122 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:32,123 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:15:32,123 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:32,123 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:32,124 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:32,124 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:15:32,125 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:35355:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35355 ********
2015-05-21 15:15:32,125 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:35365:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:35365 ********
2015-05-21 15:15:32,125 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:32,126 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:32,125 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Follower@93] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:15:32,126 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:32,125 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:32,125 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:35365:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:15:32,125 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:35355:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:15:32,127 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
2015-05-21 15:15:32,127 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:32,128 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:15:32,127 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:15:32,128 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:15:32,128 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:32,128 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:32,128 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:32,128 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled)
2015-05-21 15:15:32,128 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:32,129 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled) to exit thread
2015-05-21 15:15:32,129 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:32,128 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:32,129 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:32,130 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:15:32,128 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:15:32,129 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:32,129 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:15:32,130 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000628565b0000]
2015-05-21 15:15:32,130 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:15:32,130 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:34150 which had sessionid 0x2000628565b0000
2015-05-21 15:15:32,130 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:15:32,130 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000628565b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:32,130 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:15:32,131 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:15:32,131 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:15:32,131 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:15:32,131 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:15:32,131 [myid:2] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:15:32,131 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:15:32,131 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:32,131 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:32,132 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:15:32,132 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:32,132 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:32,132 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:32,133 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:32,134 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test759969183461083838.junit.dir/data/version-2/snapshot.100000000
2015-05-21 15:15:32,137 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x100000007
2015-05-21 15:15:32,139 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11223
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:32,140 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11226
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:32,141 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000007 (n.zxid), 0x0 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,221 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x100062854d20000 closed
2015-05-21 15:15:32,221 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:32,221 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled)
2015-05-21 15:15:32,222 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:32,222 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:32,222 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:32,222 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:32,223 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:32,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:32,223 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled)
2015-05-21 15:15:32,223 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:15:32,223 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled) to exit thread
2015-05-21 15:15:32,223 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:32,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:15:32,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:15:32,224 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:15:32,224 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:15:32,231 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000628565b0000 closed
2015-05-21 15:15:32,231 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:32,231 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 100031
2015-05-21 15:15:32,231 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 11
2015-05-21 15:15:32,231 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testNextConfigCompletion
2015-05-21 15:15:32,231 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testNextConfigCompletion
2015-05-21 15:15:32,231 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testNextConfigCompletion
2015-05-21 15:15:32,234 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testObserverConvertedToParticipantDuringFLE
2015-05-21 15:15:32,234 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testObserverConvertedToParticipantDuringFLE
2015-05-21 15:15:32,234 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11230
2015-05-21 15:15:32,234 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11231
2015-05-21 15:15:32,234 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11232
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11233
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11234
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11235
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11236
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11237
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11238
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11239
2015-05-21 15:15:32,235 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11240
2015-05-21 15:15:32,236 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11241
2015-05-21 15:15:32,236 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6416902327130116639.junit.dir clientPort = 11238 adminServerPort = 8080
2015-05-21 15:15:32,236 [myid:] - INFO  [Thread-6:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6416902327130116639.junit.dir/zoo.cfg
2015-05-21 15:15:32,236 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11238 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@47a619d7
2015-05-21 15:15:32,236 [myid:] - INFO  [Thread-6:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11238
2015-05-21 15:15:32,237 [myid:] - INFO  [Thread-6:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:32,237 [myid:] - INFO  [main-SendThread(127.0.0.1:11238):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11238. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:32,237 [myid:] - WARN  [Thread-6:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:32,237 [myid:2] - WARN  [Thread-6:QuorumPeerConfig@620] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2015-05-21 15:15:32,237 [myid:] - WARN  [main-SendThread(127.0.0.1:11238):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:32,237 [myid:2] - INFO  [Thread-6:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:32,237 [myid:2] - INFO  [Thread-6:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:32,238 [myid:2] - INFO  [Thread-6:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:32,238 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test5210840918914571104.junit.dir clientPort = 11241 adminServerPort = 8080
2015-05-21 15:15:32,238 [myid:2] - WARN  [Thread-6:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:32,238 [myid:2] - INFO  [Thread-6:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:32,238 [myid:2] - INFO  [Thread-6:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:32,238 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11241 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@47a619d7
2015-05-21 15:15:32,238 [myid:] - INFO  [Thread-7:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test5210840918914571104.junit.dir/zoo.cfg
2015-05-21 15:15:32,238 [myid:2] - INFO  [Thread-6:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11238
2015-05-21 15:15:32,238 [myid:] - INFO  [Thread-7:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11241
2015-05-21 15:15:32,239 [myid:] - INFO  [Thread-7:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:32,239 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11238
2015-05-21 15:15:32,239 [myid:2] - INFO  [Thread-6:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:32,239 [myid:] - INFO  [main-SendThread(127.0.0.1:11241):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11241. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:32,239 [myid:] - WARN  [Thread-7:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:32,239 [myid:2] - INFO  [Thread-6:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:32,239 [myid:2] - INFO  [Thread-6:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:32,239 [myid:3] - INFO  [Thread-7:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:32,239 [myid:] - WARN  [main-SendThread(127.0.0.1:11241):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:32,239 [myid:3] - INFO  [Thread-7:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:32,239 [myid:3] - INFO  [Thread-7:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:32,239 [myid:2] - INFO  [Thread-6:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:32,240 [myid:2] - INFO  [Thread-6:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:32,240 [myid:3] - WARN  [Thread-7:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:32,240 [myid:3] - INFO  [Thread-7:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:32,240 [myid:2] - INFO  [Thread-6:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:32,240 [myid:3] - INFO  [Thread-7:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:32,240 [myid:3] - INFO  [Thread-7:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11241
2015-05-21 15:15:32,241 [myid:2] - INFO  [Thread-6:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:32,241 [myid:3] - INFO  [Thread-7:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:32,241 [myid:3] - INFO  [Thread-7:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:32,241 [myid:3] - INFO  [Thread-7:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:32,241 [myid:3] - INFO  [Thread-7:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:32,241 [myid:3] - INFO  [Thread-7:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:32,241 [myid:3] - INFO  [Thread-7:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:32,242 [myid:3] - INFO  [Thread-7:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:32,252 [myid:2] - INFO  [Thread-6:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:32,259 [myid:3] - INFO  [Thread-7:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:32,267 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11237
2015-05-21 15:15:32,267 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11238:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36969
2015-05-21 15:15:32,268 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36969
2015-05-21 15:15:32,268 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36969 (no session established for client)
2015-05-21 15:15:32,268 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:32,269 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x8000000000000000
2015-05-21 15:15:32,269 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11231
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:32,270 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11234
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:32,273 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11240
2015-05-21 15:15:32,274 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:32,274 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:15:32,274 [myid:2] - INFO  [localhost/127.0.0.1:11237:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:54934
2015-05-21 15:15:32,275 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,275 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@294] - 2 Received version: 200000000 my version: 100000000
2015-05-21 15:15:32,296 [myid:2] - INFO  [WorkerReceiver[myid=2]:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:15:32,296 [myid:2] - INFO  [WorkerReceiver[myid=2]:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:15:32,296 [myid:2] - INFO  [WorkerReceiver[myid=2]:QuorumPeer@1682] - Becoming a voting participant
2015-05-21 15:15:32,296 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:15:32,296 [myid:2] - INFO  [localhost/127.0.0.1:11237:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:32,297 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:32,297 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:32,297 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:32,297 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:32,297 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:32,297 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:15:32,297 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:32,298 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:32,298 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:15:32,470 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:15:32,470 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:32,471 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:32,471 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:32,472 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11237
2015-05-21 15:15:32,472 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:15:32,473 [myid:3] - INFO  [localhost/127.0.0.1:11240:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:57703
2015-05-21 15:15:32,473 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-05-21 15:15:32,474 [myid:2] - INFO  [localhost/127.0.0.1:11237:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:54936
2015-05-21 15:15:32,474 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,476 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:15:32,477 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,477 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,478 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,478 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,479 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,479 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:32,518 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11238
2015-05-21 15:15:32,519 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11238:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36976
2015-05-21 15:15:32,521 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36976
2015-05-21 15:15:32,521 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36976 (no session established for client)
2015-05-21 15:15:32,679 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:32,679 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:32,680 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:32,680 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:32,680 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:15:32,680 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6416902327130116639.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6416902327130116639.junit.dir/data/version-2
2015-05-21 15:15:32,680 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:15:32,680 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:15:32,681 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:32,681 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:32,681 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5210840918914571104.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5210840918914571104.junit.dir/data/version-2
2015-05-21 15:15:32,681 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:15:32,682 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test5210840918914571104.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:32,684 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:60224:LearnerHandler@361] - Follower sid: 2 : info : localhost:11236:11237:participant;localhost:11238
2015-05-21 15:15:32,709 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:60224:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:15:32,710 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:60224:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:15:32,711 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:15:32,711 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:32,712 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6416902327130116639.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:32,728 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 3] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:15:32,729 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:32,731 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:32,731 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:32,772 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11238
2015-05-21 15:15:32,773 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11238:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36978
2015-05-21 15:15:32,774 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:36978
2015-05-21 15:15:32,774 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:32,775 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36978 (no session established for client)
2015-05-21 15:15:33,338 [myid:] - INFO  [main-SendThread(127.0.0.1:11238):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11238. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:33,339 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11238:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:36979
2015-05-21 15:15:33,339 [myid:] - INFO  [main-SendThread(127.0.0.1:11238):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:36979, server: 127.0.0.1/127.0.0.1:11238
2015-05-21 15:15:33,340 [myid:] - INFO  [main-SendThread(127.0.0.1:11241):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11241. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:33,341 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11241:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47537
2015-05-21 15:15:33,341 [myid:] - INFO  [main-SendThread(127.0.0.1:11241):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:47537, server: 127.0.0.1/127.0.0.1:11241
2015-05-21 15:15:33,341 [myid:2] - INFO  [NIOWorkerThread-4:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:36979
2015-05-21 15:15:33,343 [myid:3] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:47537
2015-05-21 15:15:33,344 [myid:3] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:33,344 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:15:33,344 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:33,371 [myid:2] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x200062864880000 with negotiated timeout 30000 for client /127.0.0.1:36979
2015-05-21 15:15:33,372 [myid:3] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x300062864990000 with negotiated timeout 30000 for client /127.0.0.1:47537
2015-05-21 15:15:33,372 [myid:] - INFO  [main-SendThread(127.0.0.1:11238):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11238, sessionid = 0x200062864880000, negotiated timeout = 30000
2015-05-21 15:15:33,372 [myid:] - INFO  [main-SendThread(127.0.0.1:11241):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11241, sessionid = 0x300062864990000, negotiated timeout = 30000
2015-05-21 15:15:33,376 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11241
2015-05-21 15:15:33,377 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11241:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47538
2015-05-21 15:15:33,378 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47538
2015-05-21 15:15:33,378 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:33,379 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47538 (no session established for client)
2015-05-21 15:15:33,424 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x300062864990000 type:create cxid:0x5 zxid:0x100000005 txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:15:33,448 [myid:2] - INFO  [NIOWorkerThread-22:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x200062864880000
2015-05-21 15:15:33,449 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x200062864880000
2015-05-21 15:15:33,458 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x200062864880000 closed
2015-05-21 15:15:33,458 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:33,458 [myid:2] - INFO  [NIOWorkerThread-23:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x200062864880000]
2015-05-21 15:15:33,458 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled)
2015-05-21 15:15:33,459 [myid:2] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:36979 which had sessionid 0x200062864880000
2015-05-21 15:15:33,459 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testObserverConvertedToParticipantDuringFLE(ReconfigRecoveryTest.java:445)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:33,461 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:15:33,461 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:15:33,461 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:15:33,462 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:15:33,462 [myid:2] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:15:33,462 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:33,463 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:33,463 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:15:33,464 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:33,464 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:33,465 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:33,466 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:33,467 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11238:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:33,468 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:33,470 [myid:2] - INFO  [localhost/127.0.0.1:11237:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:33,471 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:33,471 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled)
2015-05-21 15:15:33,471 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:33,472 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:33,471 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:33,473 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:15:33,472 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled) to exit thread
2015-05-21 15:15:33,471 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:33,474 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:33,474 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:15:34,239 [myid:1] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:15:34,731 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:15:34,731 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:15:34,731 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:34,731 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:34,731 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:15:34,731 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:15:34,731 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11238)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:15:34,732 [myid:3] - INFO  [NIOWorkerThread-14:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x300062864990000
2015-05-21 15:15:34,732 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x300062864990000
2015-05-21 15:15:35,071 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:35,071 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:35,141 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:35,142 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:35,478 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:35,479 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:53,454 [myid:3] - WARN  [NIOWorkerThread-15:NIOServerCnxn@369] - Unable to read additional data from client sessionid 0x300062864990000, likely client has closed socket
2015-05-21 15:15:53,454 [myid:3] - INFO  [NIOWorkerThread-15:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x300062864990000]
2015-05-21 15:15:53,455 [myid:3] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47537 which had sessionid 0x300062864990000
2015-05-21 15:15:53,553 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x300062864990000 closed
2015-05-21 15:15:53,553 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:53,554 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled)
2015-05-21 15:15:53,554 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:15:53,555 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testObserverConvertedToParticipantDuringFLE(ReconfigRecoveryTest.java:445)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:53,556 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:15:53,556 [myid:3] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11239:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:15:53,556 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:15:53,557 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:15:53,557 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:15:53,557 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:15:53,557 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:15:53,558 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:15:53,558 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:53,559 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:15:53,559 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:53,559 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:53,559 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:53,559 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:15:53,560 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:60224:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:60224 ********
2015-05-21 15:15:53,560 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:60224:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:15:53,560 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:53,560 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11241:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:53,561 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:53,561 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:53,561 [myid:3] - INFO  [localhost/127.0.0.1:11240:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:53,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:15:53,561 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled)
2015-05-21 15:15:53,561 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:15:53,562 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled) to exit thread
2015-05-21 15:15:53,562 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:15:53,562 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:53,562 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:53,562 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:15:53,562 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:15:53,562 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11241)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:15:53,562 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 118187
2015-05-21 15:15:53,562 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 7
2015-05-21 15:15:53,563 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testObserverConvertedToParticipantDuringFLE
2015-05-21 15:15:53,563 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testObserverConvertedToParticipantDuringFLE
2015-05-21 15:15:53,563 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testObserverConvertedToParticipantDuringFLE
2015-05-21 15:15:53,563 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testCurrentObserverIsParticipantInNewConfig
2015-05-21 15:15:53,563 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testCurrentObserverIsParticipantInNewConfig
2015-05-21 15:15:53,563 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11242
2015-05-21 15:15:53,563 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11243
2015-05-21 15:15:53,563 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11244
2015-05-21 15:15:53,563 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11245
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11246
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11247
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11248
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11249
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11250
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11251
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11252
2015-05-21 15:15:53,564 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11253
2015-05-21 15:15:53,564 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir clientPort = 11244 adminServerPort = 8080
2015-05-21 15:15:53,565 [myid:] - INFO  [Thread-9:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/zoo.cfg
2015-05-21 15:15:53,565 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11244 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@17e8ad64
2015-05-21 15:15:53,565 [myid:] - INFO  [Thread-9:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11244
2015-05-21 15:15:53,565 [myid:] - INFO  [Thread-9:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:53,565 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11244. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:53,565 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir clientPort = 11247 adminServerPort = 8080
2015-05-21 15:15:53,565 [myid:] - WARN  [Thread-9:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:53,565 [myid:] - WARN  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:53,565 [myid:0] - INFO  [Thread-9:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:53,566 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11247 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@17e8ad64
2015-05-21 15:15:53,566 [myid:0] - INFO  [Thread-9:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:53,566 [myid:] - INFO  [Thread-10:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/zoo.cfg
2015-05-21 15:15:53,566 [myid:0] - INFO  [Thread-9:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:53,566 [myid:] - INFO  [Thread-10:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11247
2015-05-21 15:15:53,566 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:53,566 [myid:0] - WARN  [Thread-9:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:53,566 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir clientPort = 11250 adminServerPort = 8080
2015-05-21 15:15:53,566 [myid:] - INFO  [Thread-10:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:53,566 [myid:0] - INFO  [Thread-9:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:53,566 [myid:] - WARN  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:53,567 [myid:0] - INFO  [Thread-9:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:53,567 [myid:] - WARN  [Thread-10:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:53,567 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11250 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@17e8ad64
2015-05-21 15:15:53,567 [myid:] - INFO  [Thread-11:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/zoo.cfg
2015-05-21 15:15:53,567 [myid:1] - INFO  [Thread-10:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:53,567 [myid:0] - INFO  [Thread-9:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11244
2015-05-21 15:15:53,567 [myid:] - INFO  [Thread-11:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11250
2015-05-21 15:15:53,567 [myid:1] - INFO  [Thread-10:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:53,567 [myid:1] - INFO  [Thread-10:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:53,567 [myid:0] - INFO  [Thread-9:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:53,567 [myid:] - INFO  [Thread-11:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:53,567 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11250. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:53,568 [myid:1] - WARN  [Thread-10:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:53,568 [myid:] - WARN  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:53,567 [myid:0] - INFO  [Thread-9:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:53,568 [myid:] - WARN  [Thread-11:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:53,568 [myid:1] - INFO  [Thread-10:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:53,568 [myid:0] - INFO  [Thread-9:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:53,568 [myid:2] - WARN  [Thread-11:QuorumPeerConfig@620] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2015-05-21 15:15:53,568 [myid:1] - INFO  [Thread-10:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:53,568 [myid:0] - INFO  [Thread-9:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:53,568 [myid:2] - INFO  [Thread-11:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:53,569 [myid:1] - INFO  [Thread-10:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11247
2015-05-21 15:15:53,569 [myid:2] - INFO  [Thread-11:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:53,569 [myid:0] - INFO  [Thread-9:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:53,569 [myid:2] - INFO  [Thread-11:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:53,569 [myid:1] - INFO  [Thread-10:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:53,569 [myid:0] - INFO  [Thread-9:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:53,569 [myid:1] - INFO  [Thread-10:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:53,569 [myid:2] - WARN  [Thread-11:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:53,569 [myid:0] - INFO  [Thread-9:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:53,569 [myid:1] - INFO  [Thread-10:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:53,569 [myid:2] - INFO  [Thread-11:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:53,570 [myid:1] - INFO  [Thread-10:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:53,570 [myid:1] - INFO  [Thread-10:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:53,570 [myid:1] - INFO  [Thread-10:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11250
2015-05-21 15:15:53,570 [myid:1] - INFO  [Thread-10:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:53,570 [myid:2] - INFO  [Thread-11:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:53,571 [myid:2] - INFO  [Thread-11:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:53,582 [myid:0] - INFO  [Thread-9:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:53,594 [myid:2] - INFO  [Thread-11:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:53,594 [myid:1] - INFO  [Thread-10:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:53,605 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11243
2015-05-21 15:15:53,607 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:53,607 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:15:53,608 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11246
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:53,609 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,615 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11249
2015-05-21 15:15:53,615 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11246
2015-05-21 15:15:53,617 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:53,617 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:53,617 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x8000000000000000
2015-05-21 15:15:53,617 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:15:53,618 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36354
2015-05-21 15:15:53,618 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36355
2015-05-21 15:15:53,618 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53322
2015-05-21 15:15:53,619 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,620 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,621 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,621 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,622 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,622 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,622 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,624 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,625 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,625 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,626 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,823 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:15:53,823 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:15:53,823 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:53,823 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:15:53,824 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:53,824 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:53,824 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:53,824 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:53,824 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2
2015-05-21 15:15:53,824 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2
2015-05-21 15:15:53,825 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:15:53,825 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:15:53,826 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:53,827 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:15:53,829 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43447:LearnerHandler@361] - Follower sid: 0 : info : localhost:11242:11243:participant;localhost:11244
2015-05-21 15:15:53,829 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,830 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:53,830 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:53,830 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@950] - OBSERVING
2015-05-21 15:15:53,833 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:53,833 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:53,833 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2
2015-05-21 15:15:53,833 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-05-21 15:15:53,836 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Observer@72] - Observing localhost/127.0.0.1:11245
2015-05-21 15:15:53,836 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43448:LearnerHandler@361] - Follower sid: 2 : info : localhost:11248:11249:observer;localhost:11250
2015-05-21 15:15:53,843 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43447:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:15:53,844 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43447:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:15:53,844 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:15:53,844 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:53,845 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:53,850 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43448:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:15:53,850 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43448:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:15:53,850 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:15:53,851 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:53,851 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:53,859 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:15:53,860 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:53,861 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:53,861 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:53,872 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:53,873 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:54,240 [myid:3] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:15:54,666 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11244. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:54,667 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11244:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57619
2015-05-21 15:15:54,667 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:57619, server: 127.0.0.1/127.0.0.1:11244
2015-05-21 15:15:54,667 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:54,668 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44130
2015-05-21 15:15:54,668 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44130, server: 127.0.0.1/127.0.0.1:11247
2015-05-21 15:15:54,668 [myid:0] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:57619
2015-05-21 15:15:54,669 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11250. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:54,669 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48856
2015-05-21 15:15:54,669 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:48856, server: 127.0.0.1/127.0.0.1:11250
2015-05-21 15:15:54,669 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:44130
2015-05-21 15:15:54,670 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:54,671 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:15:54,671 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:54,671 [myid:2] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:48856
2015-05-21 15:15:54,694 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:15:54,695 [myid:0] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x628b7150000 with negotiated timeout 30000 for client /127.0.0.1:57619
2015-05-21 15:15:54,696 [myid:1] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x1000628b7240000 with negotiated timeout 30000 for client /127.0.0.1:44130
2015-05-21 15:15:54,696 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11244, sessionid = 0x628b7150000, negotiated timeout = 30000
2015-05-21 15:15:54,696 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11247, sessionid = 0x1000628b7240000, negotiated timeout = 30000
2015-05-21 15:15:54,702 [myid:2] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x2000628b71b0000 with negotiated timeout 30000 for client /127.0.0.1:48856
2015-05-21 15:15:54,703 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11250, sessionid = 0x2000628b71b0000, negotiated timeout = 30000
2015-05-21 15:15:54,723 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11244
2015-05-21 15:15:54,724 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11244:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57622
2015-05-21 15:15:54,725 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:57622
2015-05-21 15:15:54,725 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:54,725 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57622 (no session established for client)
2015-05-21 15:15:54,726 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11247
2015-05-21 15:15:54,726 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44133
2015-05-21 15:15:54,727 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44133
2015-05-21 15:15:54,727 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:54,728 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44133 (no session established for client)
2015-05-21 15:15:54,728 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:54,729 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48859
2015-05-21 15:15:54,730 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48859
2015-05-21 15:15:54,730 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:54,731 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48859 (no session established for client)
2015-05-21 15:15:54,731 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled)
2015-05-21 15:15:54,731 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:497)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:54,732 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x628b7150000]
2015-05-21 15:15:54,732 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57619 which had sessionid 0x628b7150000
2015-05-21 15:15:54,733 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:15:54,733 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x628b7150000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:54,733 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:15:54,733 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:15:54,733 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:15:54,733 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:15:54,733 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:54,734 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:54,734 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:15:54,735 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:54,735 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:54,735 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:54,736 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:54,736 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:54,736 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11244:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:54,736 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:54,737 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:54,737 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled)
2015-05-21 15:15:54,737 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:54,737 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:54,737 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:54,737 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:54,737 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:54,737 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:54,738 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:54,738 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:15:54,738 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:54,737 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled) to exit thread
2015-05-21 15:15:54,739 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:54,737 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:54,739 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:15:54,738 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:15:54,739 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:54,739 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:15:55,862 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:15:55,862 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:15:55,863 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:55,863 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:55,863 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:15:55,863 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:15:55,864 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:15:55,864 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:15:56,477 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:56,480 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:56,552 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11244. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:56,653 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x628b7150000 closed
2015-05-21 15:15:56,654 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled)
2015-05-21 15:15:56,653 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:56,654 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:15:56,655 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:497)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:56,656 [myid:1] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11245:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:15:56,656 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x1000628b7240000]
2015-05-21 15:15:56,657 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44130 which had sessionid 0x1000628b7240000
2015-05-21 15:15:56,657 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:15:56,657 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x1000628b7240000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:56,657 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:15:56,658 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:15:56,658 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:15:56,658 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:15:56,658 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:15:56,658 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:15:56,659 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:56,660 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:15:56,660 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:56,660 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:56,661 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:56,661 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:15:56,662 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Observer@86] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:82)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:15:56,663 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:56,663 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:56,664 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1]
2015-05-21 15:15:56,663 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:56,664 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:956)
2015-05-21 15:15:56,665 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:56,662 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:56,665 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,662 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43448:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43448 ********
2015-05-21 15:15:56,667 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43448:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:15:56,662 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43447:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43447 ********
2015-05-21 15:15:56,667 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:15:56,666 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled)
2015-05-21 15:15:56,666 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,668 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,665 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,669 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,665 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1,name3=Connections,name4=127.0.0.1,name5=0x2000628b71b0000]
2015-05-21 15:15:56,669 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,670 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:15:56,665 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
2015-05-21 15:15:56,669 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48856 which had sessionid 0x2000628b71b0000
2015-05-21 15:15:56,668 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled) to exit thread
2015-05-21 15:15:56,670 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x2000628b71b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:56,667 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43447:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:15:56,670 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:15:56,670 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:15:56,672 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:15:56,672 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:15:56,672 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ObserverRequestProcessor@148] - Shutting down
2015-05-21 15:15:56,672 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:56,673 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:15:56,673 [myid:2] - INFO  [ObserverRequestProcessor:2:ObserverRequestProcessor@116] - ObserverRequestProcessor exited loop!
2015-05-21 15:15:56,673 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:56,673 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:15:56,674 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:15:56,674 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:15:56,674 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:15:56,674 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1,name3=InMemoryDataTree]
2015-05-21 15:15:56,674 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:15:56,675 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:56,675 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:15:56,675 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:15:56,675 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:15:56,676 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:56,676 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:56,676 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x8000000000000000
2015-05-21 15:15:56,677 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11243
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,677 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11246
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,758 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000628b7240000 closed
2015-05-21 15:15:56,758 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:56,758 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled)
2015-05-21 15:15:56,758 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:15:56,759 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:15:56,759 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:56,759 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:15:56,759 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:56,759 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:56,759 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled)
2015-05-21 15:15:56,759 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:15:56,759 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled) to exit thread
2015-05-21 15:15:56,760 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:15:56,760 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:15:56,760 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:15:56,760 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:15:56,760 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:15:56,771 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000628b71b0000 closed
2015-05-21 15:15:56,771 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:15:56,771 [myid:] - INFO  [Thread-14:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/zoo.cfg
2015-05-21 15:15:56,771 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11244 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@17e8ad64
2015-05-21 15:15:56,771 [myid:] - INFO  [Thread-14:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11244
2015-05-21 15:15:56,772 [myid:] - INFO  [Thread-14:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:56,772 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11244. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:56,772 [myid:] - INFO  [Thread-15:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/zoo.cfg
2015-05-21 15:15:56,772 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11247 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@17e8ad64
2015-05-21 15:15:56,772 [myid:] - WARN  [Thread-14:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:56,772 [myid:] - INFO  [Thread-15:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11247
2015-05-21 15:15:56,773 [myid:] - INFO  [Thread-15:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:56,772 [myid:] - WARN  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:56,773 [myid:0] - INFO  [Thread-14:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:56,773 [myid:] - WARN  [Thread-15:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:56,773 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11250 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@17e8ad64
2015-05-21 15:15:56,773 [myid:] - INFO  [Thread-16:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/zoo.cfg
2015-05-21 15:15:56,773 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:56,773 [myid:1] - INFO  [Thread-15:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:56,773 [myid:0] - INFO  [Thread-14:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:56,773 [myid:1] - INFO  [Thread-15:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:56,773 [myid:] - INFO  [Thread-16:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11250
2015-05-21 15:15:56,774 [myid:1] - INFO  [Thread-15:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:56,774 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir clientPort = 11253 adminServerPort = 8080
2015-05-21 15:15:56,774 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11250. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:56,774 [myid:1] - WARN  [Thread-15:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,774 [myid:] - WARN  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:56,774 [myid:0] - INFO  [Thread-14:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:56,774 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11253 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@17e8ad64
2015-05-21 15:15:56,774 [myid:] - INFO  [Thread-17:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir/zoo.cfg
2015-05-21 15:15:56,774 [myid:1] - INFO  [Thread-15:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:56,775 [myid:] - INFO  [Thread-17:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11253
2015-05-21 15:15:56,775 [myid:] - INFO  [Thread-17:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:56,774 [myid:] - WARN  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:56,774 [myid:] - INFO  [Thread-16:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:15:56,779 [myid:] - INFO  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11253. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:56,779 [myid:1] - INFO  [Thread-15:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:56,775 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:56,775 [myid:0] - WARN  [Thread-14:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,781 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11250 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:529)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:15:56,781 [myid:3] - INFO  [Thread-17:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:56,781 [myid:] - WARN  [Thread-16:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:15:56,781 [myid:1] - INFO  [Thread-15:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11247
2015-05-21 15:15:56,781 [myid:] - WARN  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:15:56,782 [myid:1] - INFO  [Thread-15:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:56,782 [myid:2] - WARN  [Thread-16:QuorumPeerConfig@620] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2015-05-21 15:15:56,782 [myid:3] - INFO  [Thread-17:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:56,781 [myid:0] - INFO  [Thread-14:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:56,782 [myid:3] - INFO  [Thread-17:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:56,783 [myid:2] - INFO  [Thread-16:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:15:56,782 [myid:1] - INFO  [Thread-15:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:56,783 [myid:2] - INFO  [Thread-16:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:15:56,783 [myid:0] - INFO  [Thread-14:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:56,783 [myid:2] - INFO  [Thread-16:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:15:56,783 [myid:3] - WARN  [Thread-17:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,783 [myid:3] - INFO  [Thread-17:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:56,783 [myid:1] - INFO  [Thread-15:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:56,783 [myid:2] - WARN  [Thread-16:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,783 [myid:0] - INFO  [Thread-14:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11244
2015-05-21 15:15:56,783 [myid:2] - INFO  [Thread-16:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:15:56,783 [myid:3] - INFO  [Thread-17:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:56,783 [myid:1] - INFO  [Thread-15:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:56,784 [myid:0] - INFO  [Thread-14:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:56,784 [myid:2] - INFO  [Thread-16:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:15:56,784 [myid:0] - INFO  [Thread-14:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:56,784 [myid:3] - INFO  [Thread-17:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11253
2015-05-21 15:15:56,784 [myid:2] - INFO  [Thread-16:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11250
2015-05-21 15:15:56,784 [myid:1] - INFO  [Thread-15:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:56,784 [myid:0] - INFO  [Thread-14:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:56,784 [myid:3] - INFO  [Thread-17:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:56,784 [myid:2] - INFO  [Thread-16:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:15:56,784 [myid:0] - INFO  [Thread-14:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:56,784 [myid:1] - INFO  [Thread-15:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:56,784 [myid:0] - INFO  [Thread-14:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:56,784 [myid:0] - INFO  [Thread-14:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:56,784 [myid:2] - INFO  [Thread-16:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:56,784 [myid:3] - INFO  [Thread-17:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:15:56,784 [myid:2] - INFO  [Thread-16:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:56,784 [myid:3] - INFO  [Thread-17:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:15:56,785 [myid:2] - INFO  [Thread-16:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:56,785 [myid:3] - INFO  [Thread-17:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:15:56,785 [myid:1] - INFO  [Thread-15:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:56,785 [myid:3] - INFO  [Thread-17:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:56,785 [myid:0] - INFO  [Thread-14:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:56,785 [myid:2] - INFO  [Thread-16:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:15:56,785 [myid:3] - INFO  [Thread-17:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:56,785 [myid:2] - INFO  [Thread-16:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:15:56,785 [myid:3] - INFO  [Thread-17:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:56,785 [myid:2] - INFO  [Thread-16:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2/snapshot.0
2015-05-21 15:15:56,786 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11243
2015-05-21 15:15:56,786 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11246
2015-05-21 15:15:56,787 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11249
2015-05-21 15:15:56,789 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:56,790 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x8000000000000000
2015-05-21 15:15:56,790 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:56,790 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:56,790 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36373
2015-05-21 15:15:56,790 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x100000005
2015-05-21 15:15:56,790 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x100000005
2015-05-21 15:15:56,791 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36374
2015-05-21 15:15:56,791 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53341
2015-05-21 15:15:56,791 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:15:56,791 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53342
2015-05-21 15:15:56,791 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x8000000000000000 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,791 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,792 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,792 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,792 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11252
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,792 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,793 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,793 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11252
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,793 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11252
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,793 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,792 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:15:56,794 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x8000000000000000 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,794 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36380
2015-05-21 15:15:56,794 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,793 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,793 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,795 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,795 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,795 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:15:56,796 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x8000000000000000 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,796 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,796 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,796 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,796 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,796 [myid:3] - INFO  [Thread-17:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:15:56,796 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11252
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,796 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,797 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,797 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11252
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:15:56,797 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,797 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,797 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,804 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11252
2015-05-21 15:15:56,806 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:56,807 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:15:56,807 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36383
2015-05-21 15:15:56,809 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53350
2015-05-21 15:15:56,809 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:15:56,809 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@294] - 3 Received version: 100000000 my version: 0
2015-05-21 15:15:56,810 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:15:56,824 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:15:56,825 [myid:3] - INFO  [localhost/127.0.0.1:11252:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:56,825 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:15:56,825 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,825 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,825 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,825 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:56,825 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,825 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:56,826 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,826 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,825 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,826 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,825 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:15:56,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:56,825 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:15:56,827 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:15:56,827 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11252
2015-05-21 15:15:56,826 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:56,827 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:15:56,826 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:56,827 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:15:56,828 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36385
2015-05-21 15:15:56,828 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53352
2015-05-21 15:15:56,828 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:56,828 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:56,828 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:56,829 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:56,829 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,829 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,829 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,829 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,830 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,830 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:15:56,830 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,998 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:15:56,999 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,999 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,999 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:56,999 [myid:3] - INFO  [localhost/127.0.0.1:11252:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:33298
2015-05-21 15:15:56,999 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-05-21 15:15:57,000 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:34688
2015-05-21 15:15:57,003 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:57,030 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:15:57,030 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:57,030 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:57,030 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:57,031 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir/data/version-2
2015-05-21 15:15:57,031 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:15:57,032 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:57,033 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48884
2015-05-21 15:15:57,034 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48884
2015-05-21 15:15:57,034 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48884 (no session established for client)
2015-05-21 15:15:57,034 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11245
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:15:57,199 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:15:57,200 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:15:57,200 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:15:57,200 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:57,200 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:57,200 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:57,200 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:57,201 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:57,201 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2
2015-05-21 15:15:57,201 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2
2015-05-21 15:15:57,201 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 2
2015-05-21 15:15:57,201 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:15:57,205 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:15:57,207 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43481:LearnerHandler@361] - Follower sid: 0 : info : localhost:11242:11243:participant;localhost:11244
2015-05-21 15:15:57,228 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43481:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x100000005
2015-05-21 15:15:57,229 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43481:LearnerHandler@703] - Sending DIFF zxid=0x100000005 for peer sid: 0
2015-05-21 15:15:57,229 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000005
2015-05-21 15:15:57,230 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:57,231 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:15:57,285 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:57,285 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48887
2015-05-21 15:15:57,286 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48887
2015-05-21 15:15:57,287 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48887 (no session established for client)
2015-05-21 15:15:57,405 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FastLeaderElection@923] - Notification time out: 800
2015-05-21 15:15:57,405 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:57,405 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:15:57,405 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:15:57,407 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:57,408 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:57,409 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:57,409 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:57,409 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@950] - OBSERVING
2015-05-21 15:15:57,410 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:57,410 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:57,410 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2
2015-05-21 15:15:57,410 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-05-21 15:15:57,413 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Observer@72] - Observing localhost/127.0.0.1:11245
2015-05-21 15:15:57,414 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43483:LearnerHandler@361] - Follower sid: 2 : info : localhost:11248:11249:observer;localhost:11250
2015-05-21 15:15:57,426 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43483:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x100000005
2015-05-21 15:15:57,427 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43483:LearnerHandler@703] - Sending DIFF zxid=0x100000005 for peer sid: 2
2015-05-21 15:15:57,428 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000005
2015-05-21 15:15:57,428 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:57,429 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:15:57,537 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:57,538 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48889
2015-05-21 15:15:57,539 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48889
2015-05-21 15:15:57,539 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48889 (no session established for client)
2015-05-21 15:15:57,790 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:57,790 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48890
2015-05-21 15:15:57,791 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48890
2015-05-21 15:15:57,792 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48890 (no session established for client)
2015-05-21 15:15:57,873 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11244. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:57,874 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11244:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57656
2015-05-21 15:15:57,874 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:57656, server: 127.0.0.1/127.0.0.1:11244
2015-05-21 15:15:57,875 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:57,875 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:15:57,875 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44167, server: 127.0.0.1/127.0.0.1:11247
2015-05-21 15:15:57,875 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44167
2015-05-21 15:15:57,876 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57656 (no session established for client)
2015-05-21 15:15:57,876 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:57,877 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:15:57,877 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44167 (no session established for client)
2015-05-21 15:15:57,877 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:57,881 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11250. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:57,881 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:48893, server: 127.0.0.1/127.0.0.1:11250
2015-05-21 15:15:57,881 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48893
2015-05-21 15:15:57,882 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:15:57,882 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48893 (no session established for client)
2015-05-21 15:15:57,882 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:57,883 [myid:] - INFO  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11253. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:57,883 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11253:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:51280
2015-05-21 15:15:57,883 [myid:] - INFO  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:51280, server: 127.0.0.1/127.0.0.1:11253
2015-05-21 15:15:57,884 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:15:57,885 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:51280 (no session established for client)
2015-05-21 15:15:57,885 [myid:] - INFO  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:15:58,036 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43490:LearnerHandler@364] - Follower sid: 3 not in the current config 100000000
2015-05-21 15:15:58,042 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:58,043 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48896
2015-05-21 15:15:58,044 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48896
2015-05-21 15:15:58,044 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43490:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x0
2015-05-21 15:15:58,044 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48896 (no session established for client)
2015-05-21 15:15:58,045 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43490:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:15:58,046 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:43490:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x100000005, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:15:58,046 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:15:58,056 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:58,064 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:15:58,073 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 1],[2, 3] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:15:58,103 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:15:58,103 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:15:58,103 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:58,104 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,105 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11246
2015-05-21 15:15:58,105 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,106 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,105 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,104 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,107 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,105 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,108 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,104 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,108 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,105 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,104 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,110 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:15:58,104 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,110 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,109 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,111 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:15:58,106 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:15:58,105 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@1704] - Suggested leader: 2
2015-05-21 15:15:58,105 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:15:58,111 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,113 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:58,111 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,113 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:15:58,113 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,114 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:15:58,115 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:58,115 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:58,115 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:58,145 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.0]
2015-05-21 15:15:58,146 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:15:58,146 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:15:58,146 [myid:3] - INFO  [localhost/127.0.0.1:11252:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:58,146 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,147 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Follower@93] - Exception when following the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:15:58,147 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:15:58,147 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:43490:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:15:58,146 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11252
2015-05-21 15:15:58,146 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,148 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:15:58,146 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,148 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,146 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,149 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,146 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,150 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,146 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,149 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,151 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:15:58,147 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43490:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43490 ********
2015-05-21 15:15:58,147 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:15:58,150 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,151 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:15:58,152 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,152 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:58,152 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:15:58,152 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:58,153 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:15:58,153 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:15:58,153 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x100000005
2015-05-21 15:15:58,153 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:15:58,153 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:15:58,153 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:58,153 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:15:58,154 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,154 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@93] - Exception when following the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:15:58,154 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:15:58,154 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11243
2015-05-21 15:15:58,154 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,154 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:34702
2015-05-21 15:15:58,154 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,156 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,155 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,156 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,155 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,155 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:15:58,155 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:43481:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:15:58,157 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:15:58,157 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:196)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:15:58,158 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:15:58,157 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:15:58,158 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,159 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:15:58,156 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:15:58,160 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:15:58,156 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:15:58,157 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:58,157 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:15:58,157 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43481:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43481 ********
2015-05-21 15:15:58,160 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11249
2015-05-21 15:15:58,160 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:58,160 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@1682] - Becoming a voting participant
2015-05-21 15:15:58,161 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Observer@86] - Exception when observing the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:79)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:15:58,161 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x100000005
2015-05-21 15:15:58,161 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:43483:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:15:58,161 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1]
2015-05-21 15:15:58,162 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:34703
2015-05-21 15:15:58,162 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:43483:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43483 ********
2015-05-21 15:15:58,162 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:956)
2015-05-21 15:15:58,162 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:15:58,163 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36404
2015-05-21 15:15:58,163 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:15:58,163 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:15:58,163 [myid:3] - INFO  [localhost/127.0.0.1:11252:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:33316
2015-05-21 15:15:58,163 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 0)
2015-05-21 15:15:58,163 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x100000005
2015-05-21 15:15:58,164 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36406
2015-05-21 15:15:58,165 [myid:3] - INFO  [localhost/127.0.0.1:11252:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:33318
2015-05-21 15:15:58,165 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-05-21 15:15:58,165 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,165 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:34708
2015-05-21 15:15:58,166 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,166 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,166 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,166 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,167 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,167 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,240 [myid:1] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:15:58,294 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:58,295 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48904
2015-05-21 15:15:58,296 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48904
2015-05-21 15:15:58,296 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48904 (no session established for client)
2015-05-21 15:15:58,367 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:15:58,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:15:58,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:58,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:15:58,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:58,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:15:58,368 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:58,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2
2015-05-21 15:15:58,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:58,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:15:58,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:58,369 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir/data/version-2
2015-05-21 15:15:58,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:15:58,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test8529948666357975113.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:15:58,370 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43621:LearnerHandler@361] - Follower sid: 2 : info : localhost:11248:11249:participant;localhost:11250
2015-05-21 15:15:58,395 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43621:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000005 peerLastZxid=0x100000005
2015-05-21 15:15:58,395 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43621:LearnerHandler@703] - Sending DIFF zxid=0x100000005 for peer sid: 2
2015-05-21 15:15:58,396 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000005
2015-05-21 15:15:58,396 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:58,397 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test2662591767439594958.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:15:58,413 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 3] ]; starting up and setting last processed zxid: 0x300000000
2015-05-21 15:15:58,413 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:58,414 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:58,414 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:58,547 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11250
2015-05-21 15:15:58,548 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48906
2015-05-21 15:15:58,549 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:48906
2015-05-21 15:15:58,549 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:58,550 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48906 (no session established for client)
2015-05-21 15:15:58,769 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FastLeaderElection@923] - Notification time out: 800
2015-05-21 15:15:58,770 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,771 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:15:58,771 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:15:58,772 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:15:58,772 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:15:58,772 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:15:58,772 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2
2015-05-21 15:15:58,772 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:15:58,774 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43623:LearnerHandler@364] - Follower sid: 0 not in the current config 200000000
2015-05-21 15:15:58,782 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43623:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000000 peerLastZxid=0x100000005
2015-05-21 15:15:58,783 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43623:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x100000005, zxid of leader is 0x300000000, send zxid of db as 0x300000000, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:15:58,783 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:15:58,785 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:15:58,786 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x300000000 to /home/mitake/github/zookeeper.git/build/test/tmp/test2058793630975274176.junit.dir/data/version-2/snapshot.300000000
2015-05-21 15:15:58,794 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:15:58,794 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:15:59,050 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:59,051 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44183, server: 127.0.0.1/127.0.0.1:11247
2015-05-21 15:15:59,051 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44183
2015-05-21 15:15:59,052 [myid:1] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:44183
2015-05-21 15:15:59,053 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:15:59,194 [myid:] - INFO  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11253. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:59,194 [myid:] - INFO  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:51295, server: 127.0.0.1/127.0.0.1:11253
2015-05-21 15:15:59,194 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11253:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:51295
2015-05-21 15:15:59,195 [myid:3] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:51295
2015-05-21 15:15:59,196 [myid:3] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:15:59,197 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:15:59,197 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:15:59,197 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:15:59,197 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:15:59,227 [myid:3] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x3000628c8ee0000 with negotiated timeout 30000 for client /127.0.0.1:51295
2015-05-21 15:15:59,228 [myid:] - INFO  [main-SendThread(127.0.0.1:11253):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11253, sessionid = 0x3000628c8ee0000, negotiated timeout = 30000
2015-05-21 15:15:59,400 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11244. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:59,400 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:57675, server: 127.0.0.1/127.0.0.1:11244
2015-05-21 15:15:59,400 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11244:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57675
2015-05-21 15:15:59,402 [myid:0] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:57675
2015-05-21 15:15:59,415 [myid:0] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x628ca620000 with negotiated timeout 30000 for client /127.0.0.1:57675
2015-05-21 15:15:59,416 [myid:] - INFO  [main-SendThread(127.0.0.1:11244):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11244, sessionid = 0x628ca620000, negotiated timeout = 30000
2015-05-21 15:15:59,678 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:59,809 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:15:59,964 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11250. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:15:59,964 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:48911, server: 127.0.0.1/127.0.0.1:11250
2015-05-21 15:15:59,964 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:48911
2015-05-21 15:15:59,966 [myid:2] - INFO  [NIOWorkerThread-9:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:48911
2015-05-21 15:15:59,980 [myid:2] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x2000628c8dd0000 with negotiated timeout 30000 for client /127.0.0.1:48911
2015-05-21 15:15:59,981 [myid:] - INFO  [main-SendThread(127.0.0.1:11250):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11250, sessionid = 0x2000628c8dd0000, negotiated timeout = 30000
2015-05-21 15:15:59,985 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11253
2015-05-21 15:15:59,985 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11253:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:51298
2015-05-21 15:15:59,986 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:51298
2015-05-21 15:15:59,987 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:15:59,987 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:51298 (no session established for client)
2015-05-21 15:15:59,993 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x628ca620000 type:create cxid:0x1 zxid:0x300000004 txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:16:00,020 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x3000628c8ee0000 type:create cxid:0x3 zxid:0x300000006 txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:16:00,405 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:00,406 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:00,406 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:00,406 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:00,406 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:00,406 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:00,406 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:00,409 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:02,116 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:16:02,116 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: Not sufficient followers synced, only synced with sids: [ [] ]
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:588)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:16:02,117 [myid:1] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11245:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:16:02,117 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44183 which had sessionid 0x1000628c7c10000
2015-05-21 15:16:02,117 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:16:02,117 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:02,117 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):SessionTrackerImpl@232] - Shutting down
2015-05-21 15:16:02,118 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:16:02,118 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):PrepRequestProcessor@973] - Shutting down
2015-05-21 15:16:02,118 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:16:02,118 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:16:02,118 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:16:02,119 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:02,119 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:16:02,119 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:02,119 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:02,119 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:02,120 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:16:02,120 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
2015-05-21 15:16:02,121 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:02,121 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:02,121 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:02,121 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2
2015-05-21 15:16:02,121 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:16:02,122 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11248
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:02,240 [myid:1] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:16:03,123 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@273] - Unexpected exception, tries=1, remaining init limit=38999, connecting to localhost/127.0.0.1:11248
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:03,861 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:03,861 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44190, server: 127.0.0.1/127.0.0.1:11247
2015-05-21 15:16:03,861 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44190
2015-05-21 15:16:03,862 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:03,862 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44190 (no session established for client)
2015-05-21 15:16:03,862 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:04,124 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@273] - Unexpected exception, tries=2, remaining init limit=37998, connecting to localhost/127.0.0.1:11248
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:05,125 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@273] - Unexpected exception, tries=3, remaining init limit=36997, connecting to localhost/127.0.0.1:11248
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:05,186 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:05,186 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44193, server: 127.0.0.1/127.0.0.1:11247
2015-05-21 15:16:05,186 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44193
2015-05-21 15:16:05,187 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:05,188 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44193 (no session established for client)
2015-05-21 15:16:05,188 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:06,127 [myid:1] - ERROR [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@268] - Unexpected exception, retries exceeded. tries=4, remaining init limit=35996, connecting to localhost/127.0.0.1:11248
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:06,127 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Follower@93] - Exception when following the leader
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:06,128 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:16:06,128 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:06,129 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:06,129 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:06,130 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:16:06,133 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x200000001
2015-05-21 15:16:06,134 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:34725
2015-05-21 15:16:06,134 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:16:06,135 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53392
2015-05-21 15:16:06,135 [myid:3] - INFO  [localhost/127.0.0.1:11252:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:33338
2015-05-21 15:16:06,135 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 1)
2015-05-21 15:16:06,136 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:53394
2015-05-21 15:16:06,137 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:06,137 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:06,137 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:16:06,137 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:06,137 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:06,137 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:06,137 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2
2015-05-21 15:16:06,138 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:16:06,138 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43640:LearnerHandler@364] - Follower sid: 1 not in the current config 200000000
2015-05-21 15:16:06,145 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43640:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x300000009 minCommittedLog=0x300000001 lastProcessedZxid=0x300000009 peerLastZxid=0x200000001
2015-05-21 15:16:06,146 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:43640:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 8589934593
2015-05-21 15:16:06,146 [myid:3] - INFO  [LearnerHandler-/127.0.0.1:43640:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x200000001, zxid of leader is 0x300000009, send zxid of db as 0x300000009, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:16:06,146 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:16:06,146 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:06,147 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x300000009 to /home/mitake/github/zookeeper.git/build/test/tmp/test6740763841375600442.junit.dir/data/version-2/snapshot.300000009
2015-05-21 15:16:06,155 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:06,156 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:06,290 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Follower@122] - Got zxid 0x30000000a expected 0x1
2015-05-21 15:16:07,045 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:07,045 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44200, server: 127.0.0.1/127.0.0.1:11247
2015-05-21 15:16:07,045 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44200
2015-05-21 15:16:07,047 [myid:1] - INFO  [NIOWorkerThread-5:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:44200
2015-05-21 15:16:07,064 [myid:1] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x1000628e7230000 with negotiated timeout 30000 for client /127.0.0.1:44200
2015-05-21 15:16:07,065 [myid:] - INFO  [main-SendThread(127.0.0.1:11247):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11247, sessionid = 0x1000628e7230000, negotiated timeout = 30000
2015-05-21 15:16:07,073 [myid:0] - INFO  [NIOWorkerThread-8:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x628ca620000
2015-05-21 15:16:07,074 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x628ca620000
2015-05-21 15:16:07,089 [myid:0] - INFO  [NIOWorkerThread-9:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x628ca620000]
2015-05-21 15:16:07,089 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:07,089 [myid:0] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57675 which had sessionid 0x628ca620000
2015-05-21 15:16:07,089 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x628ca620000 closed
2015-05-21 15:16:07,089 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled)
2015-05-21 15:16:07,089 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:544)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:07,090 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:07,091 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:07,091 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:16:07,091 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:07,091 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:16:07,091 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:07,091 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:07,092 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:16:07,092 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:07,092 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:07,092 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:07,092 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:07,093 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:07,093 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11244:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:07,093 [myid:0] - INFO  [localhost/127.0.0.1:11243:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:07,093 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:07,094 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled)
2015-05-21 15:16:07,093 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:07,093 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:07,093 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:07,093 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:07,093 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:07,095 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:16:07,095 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:16:07,094 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:07,094 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:07,094 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled) to exit thread
2015-05-21 15:16:07,094 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:07,096 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:07,095 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:07,096 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:16:07,096 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:07,097 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:16:07,770 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:07,772 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:08,417 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:16:08,417 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:08,417 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:08,417 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:08,418 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:16:08,418 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:16:08,418 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:16:08,418 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11244)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.3]
2015-05-21 15:16:08,420 [myid:1] - INFO  [NIOWorkerThread-10:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x1000628e7230000
2015-05-21 15:16:08,420 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x1000628e7230000
2015-05-21 15:16:08,429 [myid:1] - INFO  [NIOWorkerThread-11:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1000628e7230000]
2015-05-21 15:16:08,430 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x1000628e7230000 closed
2015-05-21 15:16:08,430 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44200 which had sessionid 0x1000628e7230000
2015-05-21 15:16:08,430 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled)
2015-05-21 15:16:08,430 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:544)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:08,432 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:08,430 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:08,432 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:08,433 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:16:08,433 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:08,433 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:16:08,434 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:08,434 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:08,435 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:16:08,435 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:08,435 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:08,436 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:08,436 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11247:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:08,437 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:08,437 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:08,437 [myid:1] - INFO  [localhost/127.0.0.1:11246:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:08,438 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:08,439 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:08,440 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:08,439 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled)
2015-05-21 15:16:08,438 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:08,439 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:08,441 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:16:08,438 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:08,438 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:08,442 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:08,440 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:08,440 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled) to exit thread
2015-05-21 15:16:08,439 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:16:08,443 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:08,444 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:16:08,442 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:08,444 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:08,445 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:16:09,135 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:09,137 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:10,417 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:16:10,417 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:10,418 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:10,418 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:10,418 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:16:10,418 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:16:10,419 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:16:10,419 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11247)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:16:10,420 [myid:2] - INFO  [NIOWorkerThread-20:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x2000628c8dd0000
2015-05-21 15:16:10,421 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x2000628c8dd0000
2015-05-21 15:16:10,433 [myid:2] - INFO  [NIOWorkerThread-21:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000628c8dd0000]
2015-05-21 15:16:10,433 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x2000628c8dd0000 closed
2015-05-21 15:16:10,433 [myid:2] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:48911 which had sessionid 0x2000628c8dd0000
2015-05-21 15:16:10,433 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:10,433 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled)
2015-05-21 15:16:10,434 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:544)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:10,436 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:10,436 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:10,436 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:16:10,436 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:10,436 [myid:2] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:16:10,436 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:10,437 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:10,437 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:16:10,438 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:10,438 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:10,438 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:10,439 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11250:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:10,440 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:10,440 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:10,441 [myid:2] - INFO  [localhost/127.0.0.1:11249:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:10,442 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:10,443 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled)
2015-05-21 15:16:10,443 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:10,444 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:10,442 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:10,443 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled) to exit thread
2015-05-21 15:16:10,443 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:10,444 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:16:10,444 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:10,445 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:16:12,136 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:12,136 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:12,417 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:16:12,417 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:12,418 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:12,418 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:12,418 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:16:12,418 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:16:12,418 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11250)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:16:12,420 [myid:3] - INFO  [NIOWorkerThread-21:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x3000628c8ee0000
2015-05-21 15:16:12,420 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x3000628c8ee0000
2015-05-21 15:16:27,076 [myid:3] - WARN  [NIOWorkerThread-22:NIOServerCnxn@369] - Unable to read additional data from client sessionid 0x3000628c8ee0000, likely client has closed socket
2015-05-21 15:16:27,076 [myid:3] - INFO  [NIOWorkerThread-22:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x3000628c8ee0000]
2015-05-21 15:16:27,077 [myid:3] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:51295 which had sessionid 0x3000628c8ee0000
2015-05-21 15:16:27,175 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x3000628c8ee0000 closed
2015-05-21 15:16:27,175 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:27,176 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled)
2015-05-21 15:16:27,176 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:16:27,176 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:544)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:27,178 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:27,178 [myid:3] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11251:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:16:27,178 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:16:27,178 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:16:27,178 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:16:27,179 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:16:27,179 [myid:3] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:16:27,179 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:27,180 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:27,180 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:16:27,180 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:27,180 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:27,181 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:27,181 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:16:27,182 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:43640:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43640 ********
2015-05-21 15:16:27,182 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:43621:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43621 ********
2015-05-21 15:16:27,182 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:43640:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:16:27,183 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11253:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:27,183 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:27,182 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:27,182 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:43623:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:43623 ********
2015-05-21 15:16:27,183 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:27,183 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:43621:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:16:27,184 [myid:3] - INFO  [localhost/127.0.0.1:11252:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:27,184 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader]
2015-05-21 15:16:27,184 [myid:3] - WARN  [LearnerHandler-/127.0.0.1:43623:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:16:27,184 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:16:27,184 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled)
2015-05-21 15:16:27,185 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:16:27,185 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled) to exit thread
2015-05-21 15:16:27,185 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:27,185 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:27,185 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:16:27,185 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:16:27,185 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11253)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:16:27,186 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 44966
2015-05-21 15:16:27,186 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 7
2015-05-21 15:16:27,186 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testCurrentObserverIsParticipantInNewConfig
2015-05-21 15:16:27,186 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testCurrentObserverIsParticipantInNewConfig
2015-05-21 15:16:27,186 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testCurrentObserverIsParticipantInNewConfig
2015-05-21 15:16:27,186 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testCurrentServersAreObserversInNextConfig
2015-05-21 15:16:27,186 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testCurrentServersAreObserversInNextConfig
2015-05-21 15:16:27,186 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11254
2015-05-21 15:16:27,187 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11255
2015-05-21 15:16:27,187 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11256
2015-05-21 15:16:27,187 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11257
2015-05-21 15:16:27,187 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11258
2015-05-21 15:16:27,187 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11259
2015-05-21 15:16:27,187 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11260
2015-05-21 15:16:27,187 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11261
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11262
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11263
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11264
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11265
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11266
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11267
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11268
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11269
2015-05-21 15:16:27,188 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11270
2015-05-21 15:16:27,189 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11271
2015-05-21 15:16:27,189 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11272
2015-05-21 15:16:27,189 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11273
2015-05-21 15:16:27,189 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11274
2015-05-21 15:16:27,190 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir clientPort = 11254 adminServerPort = 8080
2015-05-21 15:16:27,191 [myid:] - INFO  [Thread-24:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/zoo.cfg
2015-05-21 15:16:27,191 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11254 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4a761bf
2015-05-21 15:16:27,191 [myid:] - INFO  [Thread-24:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11254
2015-05-21 15:16:27,191 [myid:] - INFO  [Thread-24:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:16:27,191 [myid:] - WARN  [Thread-24:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:16:27,191 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:27,191 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir clientPort = 11257 adminServerPort = 8080
2015-05-21 15:16:27,192 [myid:0] - INFO  [Thread-24:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:16:27,192 [myid:0] - INFO  [Thread-24:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:16:27,192 [myid:] - WARN  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:27,192 [myid:0] - INFO  [Thread-24:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:16:27,192 [myid:] - INFO  [Thread-25:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/zoo.cfg
2015-05-21 15:16:27,192 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11257 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4a761bf
2015-05-21 15:16:27,193 [myid:0] - WARN  [Thread-24:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:27,193 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:16:27,193 [myid:] - INFO  [Thread-25:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11257
2015-05-21 15:16:27,193 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11257. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:27,193 [myid:0] - INFO  [Thread-24:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:16:27,194 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11254 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:27,194 [myid:] - INFO  [Thread-25:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:16:27,194 [myid:0] - INFO  [Thread-24:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:16:27,194 [myid:] - WARN  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:27,196 [myid:] - WARN  [Thread-25:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:16:27,196 [myid:0] - INFO  [Thread-24:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11254
2015-05-21 15:16:27,196 [myid:1] - INFO  [Thread-25:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:16:27,196 [myid:1] - INFO  [Thread-25:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:16:27,196 [myid:1] - INFO  [Thread-25:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:16:27,196 [myid:0] - INFO  [Thread-24:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:16:27,197 [myid:0] - INFO  [Thread-24:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:16:27,197 [myid:0] - INFO  [Thread-24:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:16:27,197 [myid:1] - WARN  [Thread-25:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:27,197 [myid:1] - INFO  [Thread-25:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:16:27,197 [myid:0] - INFO  [Thread-24:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:16:27,197 [myid:1] - INFO  [Thread-25:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:16:27,197 [myid:0] - INFO  [Thread-24:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:16:27,198 [myid:0] - INFO  [Thread-24:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:16:27,198 [myid:1] - INFO  [Thread-25:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11257
2015-05-21 15:16:27,198 [myid:1] - INFO  [Thread-25:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:16:27,198 [myid:1] - INFO  [Thread-25:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:16:27,198 [myid:0] - INFO  [Thread-24:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:27,199 [myid:1] - INFO  [Thread-25:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:16:27,199 [myid:1] - INFO  [Thread-25:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:16:27,199 [myid:1] - INFO  [Thread-25:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:16:27,199 [myid:1] - INFO  [Thread-25:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:16:27,200 [myid:1] - INFO  [Thread-25:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:27,208 [myid:0] - INFO  [Thread-24:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:27,220 [myid:1] - INFO  [Thread-25:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:27,232 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11256
2015-05-21 15:16:27,233 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:27,233 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:16:27,233 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11259
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:27,234 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:27,243 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11259
2015-05-21 15:16:27,243 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:27,243 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:16:27,244 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35698
2015-05-21 15:16:27,244 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:27,244 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:27,244 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:27,245 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:27,245 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:27,445 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:16:27,445 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:27,445 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:16:27,445 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:27,445 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:16:27,445 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:16:27,445 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:27,445 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:27,445 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2
2015-05-21 15:16:27,445 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:27,446 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43829
2015-05-21 15:16:27,446 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2
2015-05-21 15:16:27,446 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:16:27,446 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 0
2015-05-21 15:16:27,446 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:43829
2015-05-21 15:16:27,446 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2/snapshot.0
2015-05-21 15:16:27,446 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43829 (no session established for client)
2015-05-21 15:16:27,447 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37670:LearnerHandler@361] - Follower sid: 0 : info : localhost:11255:11256:participant;localhost:11254
2015-05-21 15:16:27,465 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37670:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:16:27,465 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37670:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 0
2015-05-21 15:16:27,465 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:16:27,466 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:27,466 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2/snapshot.0
2015-05-21 15:16:27,479 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 1] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:16:27,479 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:27,480 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:27,480 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:27,697 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:16:27,697 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43831
2015-05-21 15:16:27,698 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:43831
2015-05-21 15:16:27,698 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:16:27,698 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43831 (no session established for client)
2015-05-21 15:16:27,699 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:16:27,699 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:49067
2015-05-21 15:16:27,700 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:49067
2015-05-21 15:16:27,700 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:16:27,700 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:49067 (no session established for client)
2015-05-21 15:16:28,293 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:28,293 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:43833, server: 127.0.0.1/127.0.0.1:11254
2015-05-21 15:16:28,293 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11254:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:43833
2015-05-21 15:16:28,295 [myid:0] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:43833
2015-05-21 15:16:28,296 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:16:28,296 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:16:28,296 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11257. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:28,296 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:16:28,297 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:49069, server: 127.0.0.1/127.0.0.1:11257
2015-05-21 15:16:28,297 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11257:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:49069
2015-05-21 15:16:28,298 [myid:1] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:49069
2015-05-21 15:16:28,318 [myid:0] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x6293a6a0000 with negotiated timeout 30000 for client /127.0.0.1:43833
2015-05-21 15:16:28,319 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11254, sessionid = 0x6293a6a0000, negotiated timeout = 30000
2015-05-21 15:16:28,323 [myid:1] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x10006293a770000 with negotiated timeout 30000 for client /127.0.0.1:49069
2015-05-21 15:16:28,324 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11257, sessionid = 0x10006293a770000, negotiated timeout = 30000
2015-05-21 15:16:28,344 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled)
2015-05-21 15:16:28,344 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:189)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:28,345 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x6293a6a0000]
2015-05-21 15:16:28,345 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:43833 which had sessionid 0x6293a6a0000
2015-05-21 15:16:28,346 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:28,346 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x6293a6a0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:28,346 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:28,346 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:16:28,346 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:28,347 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:16:28,347 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:28,347 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:28,347 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:16:28,348 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:28,348 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:28,348 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:28,349 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:28,349 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11254:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:28,349 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:28,349 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:28,350 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:28,350 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:28,350 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled)
2015-05-21 15:16:28,350 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:28,350 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled) to exit thread
2015-05-21 15:16:28,350 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:28,350 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:16:28,351 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:28,351 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:28,351 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:16:29,480 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:16:29,481 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:29,481 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:29,481 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:29,481 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:16:29,481 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:16:29,482 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:16:30,019 [myid:] - INFO  [main-SendThread(127.0.0.1:11254):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11254. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:30,120 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x6293a6a0000 closed
2015-05-21 15:16:30,120 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled)
2015-05-21 15:16:30,120 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:16:30,120 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:30,121 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:189)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:30,122 [myid:1] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11258:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:16:30,122 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x10006293a770000]
2015-05-21 15:16:30,123 [myid:] - INFO  [main:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:49069 which had sessionid 0x10006293a770000
2015-05-21 15:16:30,123 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:30,123 [myid:] - INFO  [main-SendThread(127.0.0.1:11257):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x10006293a770000, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:30,123 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:16:30,124 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:16:30,124 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:16:30,124 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:16:30,124 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:30,124 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:16:30,125 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:30,125 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:16:30,125 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:30,125 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:30,126 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:30,126 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:16:30,127 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:30,127 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11257:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:30,128 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:30,127 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:30,127 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37670:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37670 ********
2015-05-21 15:16:30,128 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37670:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:16:30,129 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
2015-05-21 15:16:30,129 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:30,129 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:16:30,130 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled)
2015-05-21 15:16:30,130 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:16:30,130 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled) to exit thread
2015-05-21 15:16:30,130 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:30,131 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:30,131 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:16:30,131 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:16:30,131 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:16:30,138 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:30,138 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:30,224 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x10006293a770000 closed
2015-05-21 15:16:30,224 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:30,224 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11254
2015-05-21 15:16:30,225 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11257
2015-05-21 15:16:30,226 [myid:] - INFO  [Thread-27:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/zoo.cfg
2015-05-21 15:16:30,226 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11260 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4a761bf
2015-05-21 15:16:30,227 [myid:] - INFO  [Thread-27:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11254
2015-05-21 15:16:30,227 [myid:] - INFO  [Thread-27:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:16:30,227 [myid:] - WARN  [Thread-27:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:16:30,229 [myid:0] - INFO  [Thread-27:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:16:30,229 [myid:0] - INFO  [Thread-27:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:16:30,229 [myid:0] - INFO  [Thread-27:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:16:30,229 [myid:0] - WARN  [Thread-27:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,230 [myid:0] - INFO  [Thread-27:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:16:30,230 [myid:0] - INFO  [Thread-27:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:16:30,230 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:30,231 [myid:] - INFO  [Thread-28:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/zoo.cfg
2015-05-21 15:16:30,231 [myid:0] - INFO  [Thread-27:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11254
2015-05-21 15:16:30,231 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11263 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4a761bf
2015-05-21 15:16:30,231 [myid:] - INFO  [Thread-28:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11257
2015-05-21 15:16:30,231 [myid:0] - INFO  [Thread-27:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:16:30,231 [myid:0] - INFO  [Thread-27:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:16:30,231 [myid:] - WARN  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:30,231 [myid:0] - INFO  [Thread-27:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:16:30,231 [myid:0] - INFO  [Thread-27:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:16:30,231 [myid:] - INFO  [Thread-28:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:16:30,232 [myid:0] - INFO  [Thread-27:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,232 [myid:0] - INFO  [Thread-27:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:16:30,232 [myid:] - WARN  [Thread-28:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:16:30,232 [myid:0] - INFO  [Thread-27:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2/snapshot.0
2015-05-21 15:16:30,232 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:30,232 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir clientPort = 11266 adminServerPort = 8080
2015-05-21 15:16:30,232 [myid:1] - INFO  [Thread-28:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:16:30,232 [myid:] - WARN  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:30,232 [myid:1] - INFO  [Thread-28:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:16:30,232 [myid:1] - INFO  [Thread-28:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:16:30,232 [myid:] - INFO  [Thread-29:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir/zoo.cfg
2015-05-21 15:16:30,233 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11266 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4a761bf
2015-05-21 15:16:30,233 [myid:1] - WARN  [Thread-28:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,233 [myid:] - INFO  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11266. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:30,233 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir clientPort = 11269 adminServerPort = 8080
2015-05-21 15:16:30,233 [myid:1] - INFO  [Thread-28:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:16:30,233 [myid:] - WARN  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:30,233 [myid:] - INFO  [Thread-29:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11266
2015-05-21 15:16:30,233 [myid:] - INFO  [Thread-29:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:16:30,233 [myid:] - INFO  [Thread-30:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir/zoo.cfg
2015-05-21 15:16:30,233 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11256
2015-05-21 15:16:30,233 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11269 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4a761bf
2015-05-21 15:16:30,234 [myid:] - INFO  [Thread-30:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11269
2015-05-21 15:16:30,234 [myid:] - INFO  [Thread-30:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:16:30,234 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,234 [myid:2] - INFO  [Thread-29:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:16:30,234 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11269. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:30,234 [myid:1] - INFO  [Thread-28:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:16:30,234 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x100000004
2015-05-21 15:16:30,234 [myid:3] - INFO  [Thread-30:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:16:30,234 [myid:1] - INFO  [Thread-28:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11257
2015-05-21 15:16:30,234 [myid:2] - INFO  [Thread-29:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:16:30,234 [myid:3] - INFO  [Thread-30:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:16:30,234 [myid:3] - INFO  [Thread-30:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:16:30,234 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 4 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir clientPort = 11272 adminServerPort = 8080
2015-05-21 15:16:30,234 [myid:3] - WARN  [Thread-30:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,235 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11259
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,234 [myid:] - WARN  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:30,235 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11265
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,235 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11272 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4a761bf
2015-05-21 15:16:30,235 [myid:] - INFO  [Thread-31:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir/zoo.cfg
2015-05-21 15:16:30,235 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11268
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,236 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11272. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:30,235 [myid:3] - INFO  [Thread-30:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:16:30,234 [myid:1] - INFO  [Thread-28:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:16:30,234 [myid:2] - INFO  [Thread-29:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:16:30,236 [myid:] - WARN  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:30,236 [myid:2] - WARN  [Thread-29:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,237 [myid:2] - INFO  [Thread-29:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:16:30,236 [myid:3] - INFO  [Thread-30:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:16:30,237 [myid:2] - INFO  [Thread-29:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:16:30,236 [myid:1] - INFO  [Thread-28:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:16:30,238 [myid:3] - INFO  [Thread-30:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11269
2015-05-21 15:16:30,238 [myid:2] - INFO  [Thread-29:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11266
2015-05-21 15:16:30,236 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11271
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,238 [myid:2] - INFO  [Thread-29:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:16:30,239 [myid:2] - INFO  [Thread-29:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:16:30,236 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:30,239 [myid:3] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:16:30,236 [myid:] - INFO  [Thread-31:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11272
2015-05-21 15:16:30,239 [myid:] - INFO  [Thread-31:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:16:30,235 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,239 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11274
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,240 [myid:4] - INFO  [Thread-31:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:16:30,240 [myid:4] - INFO  [Thread-31:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:16:30,239 [myid:2] - INFO  [Thread-29:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:16:30,238 [myid:3] - INFO  [Thread-30:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:16:30,240 [myid:3] - INFO  [Thread-30:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:16:30,238 [myid:1] - INFO  [Thread-28:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:16:30,240 [myid:3] - INFO  [Thread-30:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:16:30,240 [myid:3] - INFO  [Thread-30:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:16:30,240 [myid:2] - INFO  [Thread-29:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:16:30,240 [myid:4] - INFO  [Thread-31:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:16:30,239 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11260 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:217)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:30,240 [myid:4] - WARN  [Thread-31:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,241 [myid:4] - INFO  [Thread-31:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:16:30,240 [myid:1] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:16:30,241 [myid:4] - INFO  [Thread-31:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:16:30,240 [myid:2] - INFO  [Thread-29:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,241 [myid:2] - INFO  [Thread-29:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:16:30,241 [myid:4] - INFO  [Thread-31:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11272
2015-05-21 15:16:30,240 [myid:3] - INFO  [Thread-30:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,241 [myid:3] - INFO  [Thread-30:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:16:30,240 [myid:1] - INFO  [Thread-28:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:16:30,241 [myid:4] - INFO  [Thread-31:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:16:30,241 [myid:1] - INFO  [Thread-28:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,241 [myid:2] - INFO  [Thread-29:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:30,241 [myid:4] - INFO  [Thread-31:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:16:30,242 [myid:3] - INFO  [Thread-30:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:30,242 [myid:4] - INFO  [Thread-31:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:16:30,242 [myid:4] - INFO  [Thread-31:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:16:30,242 [myid:1] - INFO  [Thread-28:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:16:30,242 [myid:4] - INFO  [Thread-31:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,242 [myid:4] - INFO  [Thread-31:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:16:30,242 [myid:4] - INFO  [Thread-31:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:30,242 [myid:1] - INFO  [Thread-28:FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2/snapshot.0
2015-05-21 15:16:30,243 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11259
2015-05-21 15:16:30,244 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:30,244 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,244 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x100000004
2015-05-21 15:16:30,245 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:30,245 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:30,245 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35719
2015-05-21 15:16:30,245 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:30,245 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,245 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11268
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,246 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,246 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11271
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,246 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11268
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,246 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,246 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11274
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,246 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11271
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,247 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,247 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11274
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:16:30,247 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,249 [myid:2] - INFO  [Thread-29:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:30,261 [myid:3] - INFO  [Thread-30:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:30,261 [myid:4] - INFO  [Thread-31:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:16:30,277 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11268
2015-05-21 15:16:30,278 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,278 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:16:30,278 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35726
2015-05-21 15:16:30,279 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48191
2015-05-21 15:16:30,279 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:16:30,280 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@294] - 2 Received version: 100000000 my version: 0
2015-05-21 15:16:30,280 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:16:30,287 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11271
2015-05-21 15:16:30,287 [myid:4] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11274
2015-05-21 15:16:30,288 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,288 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,288 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:16:30,289 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x0
2015-05-21 15:16:30,289 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35728
2015-05-21 15:16:30,289 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35729
2015-05-21 15:16:30,289 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48194
2015-05-21 15:16:30,289 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:16:30,290 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48195
2015-05-21 15:16:30,290 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:16:30,290 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@294] - 4 Received version: 100000000 my version: 0
2015-05-21 15:16:30,290 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:16:30,290 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:16:30,290 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-05-21 15:16:30,290 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@294] - 3 Received version: 100000000 my version: 0
2015-05-21 15:16:30,313 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:16:30,314 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:30,314 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:30,314 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,314 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,314 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,314 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,314 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,314 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,315 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,314 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,314 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,315 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:16:30,315 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:16:30,315 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,316 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:16:30,314 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,314 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,316 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:16:30,320 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:16:30,320 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:16:30,321 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:30,321 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:30,321 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,321 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,321 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,321 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,321 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,321 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:16:30,321 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,322 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,321 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,321 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,323 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:16:30,321 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:16:30,321 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,323 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,321 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:30,321 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=LeaderElection]
2015-05-21 15:16:30,321 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,324 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,321 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,321 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,324 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,321 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,325 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:16:30,321 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,325 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,321 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:30,325 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,325 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,326 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:16:30,324 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,324 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,322 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:16:30,322 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,322 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,326 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:16:30,326 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x0
2015-05-21 15:16:30,326 [myid:4] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11274
2015-05-21 15:16:30,326 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:30,327 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:16:30,327 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35732
2015-05-21 15:16:30,325 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:16:30,327 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:16:30,327 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11271
2015-05-21 15:16:30,327 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35733
2015-05-21 15:16:30,327 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48198
2015-05-21 15:16:30,327 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,327 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,327 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48199
2015-05-21 15:16:30,328 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,328 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,329 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,479 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:16:30,480 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35736
2015-05-21 15:16:30,480 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:30,480 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:16:30,480 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,480 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:16:30,481 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:30,481 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:30,481 [myid:0] - ERROR [SendWorker:2:QuorumCnxManager$SendWorker@729] - Failed to send last message. Shutting down thread.
java.net.SocketException: Broken pipe
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:138)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:698)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:725)
2015-05-21 15:16:30,481 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11268
2015-05-21 15:16:30,481 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:30,482 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:16:30,482 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:16:30,483 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:35737
2015-05-21 15:16:30,484 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:48202
2015-05-21 15:16:30,484 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,484 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,485 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,485 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,485 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,485 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:30,491 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:30,491 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11260 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:217)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:30,528 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=LeaderElection]
2015-05-21 15:16:30,528 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:30,528 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:30,528 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,528 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:16:30,529 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir/data/version-2
2015-05-21 15:16:30,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:30,529 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:16:30,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:30,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir/data/version-2
2015-05-21 15:16:30,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:16:30,529 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11258
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:30,530 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11258
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:30,685 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:16:30,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:30,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:30,686 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:16:30,686 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:16:30,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,686 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:16:30,686 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:30,687 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:30,687 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir/data/version-2
2015-05-21 15:16:30,687 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2
2015-05-21 15:16:30,687 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:30,688 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:16:30,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:16:30,688 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:30,688 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2
2015-05-21 15:16:30,688 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:30,688 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:16:30,691 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37712:LearnerHandler@364] - Follower sid: 2 not in the current config 100000000
2015-05-21 15:16:30,692 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37713:LearnerHandler@361] - Follower sid: 0 : info : localhost:11255:11256:participant;localhost:11254
2015-05-21 15:16:30,717 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37712:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x100000004 minCommittedLog=0x100000001 lastProcessedZxid=0x100000004 peerLastZxid=0x0
2015-05-21 15:16:30,717 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37713:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x100000004 minCommittedLog=0x100000001 lastProcessedZxid=0x100000004 peerLastZxid=0x100000004
2015-05-21 15:16:30,718 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37713:LearnerHandler@703] - Sending DIFF zxid=0x100000004 for peer sid: 0
2015-05-21 15:16:30,718 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000004
2015-05-21 15:16:30,719 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:30,719 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37712:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:16:30,719 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37712:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x100000004, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:16:30,719 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:16:30,719 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:30,720 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:30,720 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60417
2015-05-21 15:16:30,720 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-05-21 15:16:30,721 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60520
2015-05-21 15:16:30,721 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 2)
2015-05-21 15:16:30,721 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46830
2015-05-21 15:16:30,721 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46831
2015-05-21 15:16:30,739 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:30,742 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:30,743 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11260 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:217)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:30,994 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:30,995 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11260 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:217)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:31,246 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:31,247 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11260 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:217)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:31,332 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:31,332 [myid:] - WARN  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:31,333 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:31,333 [myid:] - WARN  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:16:31,334 [myid:] - INFO  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11266. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:31,334 [myid:] - INFO  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:32780, server: 127.0.0.1/127.0.0.1:11266
2015-05-21 15:16:31,334 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11266:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:32780
2015-05-21 15:16:31,335 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11269. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:31,336 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:31,336 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:32780 (no session established for client)
2015-05-21 15:16:31,336 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11269:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:51593
2015-05-21 15:16:31,336 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:51593, server: 127.0.0.1/127.0.0.1:11269
2015-05-21 15:16:31,336 [myid:] - INFO  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:31,337 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11272. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:31,337 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:31,337 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:51593 (no session established for client)
2015-05-21 15:16:31,337 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11272:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60280
2015-05-21 15:16:31,338 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:31,337 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60280, server: 127.0.0.1/127.0.0.1:11272
2015-05-21 15:16:31,339 [myid:4] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:31,339 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60280 (no session established for client)
2015-05-21 15:16:31,339 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:31,497 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:31,498 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11260 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:217)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:31,531 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37727:LearnerHandler@364] - Follower sid: 4 not in the current config 100000000
2015-05-21 15:16:31,531 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37728:LearnerHandler@364] - Follower sid: 3 not in the current config 100000000
2015-05-21 15:16:31,539 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37727:LearnerHandler@659] - Synchronizing with Follower sid: 4 maxCommittedLog=0x100000004 minCommittedLog=0x100000001 lastProcessedZxid=0x100000004 peerLastZxid=0x0
2015-05-21 15:16:31,540 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37727:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:16:31,541 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37727:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x100000004, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:16:31,541 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:16:31,542 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:31,544 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60432
2015-05-21 15:16:31,545 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37728:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x100000004 minCommittedLog=0x100000001 lastProcessedZxid=0x100000004 peerLastZxid=0x0
2015-05-21 15:16:31,547 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37728:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:16:31,548 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:37728:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x100000004, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:16:31,548 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:16:31,549 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:31,553 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:31,565 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:31,578 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [0, 1],[4, 2] ]; starting up and setting last processed zxid: 0x200000000
2015-05-21 15:16:31,609 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:16:31,610 [myid:1] - INFO  [localhost/127.0.0.1:11259:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:31,610 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,610 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,610 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,611 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:16:31,610 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,611 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,611 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,611 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,612 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,612 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,613 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:16:31,610 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,614 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,614 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,614 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,614 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:16:31,614 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,615 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:16:31,613 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,615 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:16:31,611 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,616 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:16:31,610 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,610 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11257)(secure=disabled):NIOServerCnxnFactory@698] - binding to port localhost/127.0.0.1:11263
2015-05-21 15:16:31,610 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:16:31,610 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11265
2015-05-21 15:16:31,616 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11257:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:31,614 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:16:31,618 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@1673] - Becoming an observer
2015-05-21 15:16:31,618 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@1704] - Suggested leader: 2
2015-05-21 15:16:31,618 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:31,620 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:31,620 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:31,620 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:31,620 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:31,643 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:16:31,643 [myid:0] - INFO  [localhost/127.0.0.1:11256:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:31,643 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,644 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11262
2015-05-21 15:16:31,644 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11254)(secure=disabled):NIOServerCnxnFactory@698] - binding to port localhost/127.0.0.1:11260
2015-05-21 15:16:31,644 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:16:31,643 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,644 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,643 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,645 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,643 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,645 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,643 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,643 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,646 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:16:31,643 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,646 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,643 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,647 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,643 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,647 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,648 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:16:31,645 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,645 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,648 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:16:31,644 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11254:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:31,648 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,647 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:16:31,649 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@1673] - Becoming an observer
2015-05-21 15:16:31,649 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:16:31,649 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Follower@93] - Exception when following the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:31,649 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:37713:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:16:31,649 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:16:31,650 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37713:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37713 ********
2015-05-21 15:16:31,650 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:31,650 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:31,650 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:31,650 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x8000000000000000
2015-05-21 15:16:31,651 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46844
2015-05-21 15:16:31,651 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:16:31,651 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42485
2015-05-21 15:16:31,651 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 0)
2015-05-21 15:16:31,651 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60435
2015-05-21 15:16:31,651 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60538
2015-05-21 15:16:31,651 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 0)
2015-05-21 15:16:31,652 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42488
2015-05-21 15:16:31,652 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42489
2015-05-21 15:16:31,652 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:31,652 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:31,653 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:16:31,655 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:16:31,655 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:16:31,656 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:31,656 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,656 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,656 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,657 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,656 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@1271] - Restarting Leader Election
2015-05-21 15:16:31,657 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:31,657 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:31,656 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:31,657 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,658 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,658 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,658 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Follower@93] - Exception when following the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:31,659 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:31,659 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:16:31,659 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:16:31,659 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:31,659 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:16:31,658 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:31,658 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11268
2015-05-21 15:16:31,658 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Follower@93] - Exception when following the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:31,658 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:16:31,660 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower]
2015-05-21 15:16:31,658 [myid:4] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11274
2015-05-21 15:16:31,661 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:31,658 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,658 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:16:31,658 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,661 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:16:31,658 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:16:31,658 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,662 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,658 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:31,662 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,662 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:16:31,658 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,663 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,657 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,657 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,664 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,657 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,665 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 4
2015-05-21 15:16:31,657 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,665 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:16:31,657 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,665 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,657 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,666 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,657 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42490
2015-05-21 15:16:31,666 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,666 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:16:31,666 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,657 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Follower@93] - Exception when following the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:31,657 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11271
2015-05-21 15:16:31,656 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,656 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:16:31,656 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,668 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,656 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,668 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,656 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,669 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 3
2015-05-21 15:16:31,656 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,656 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,670 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,656 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,656 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,670 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:16:31,669 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,668 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,667 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:16:31,667 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:37728:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:16:31,667 [myid:0] - ERROR [SendWorker:3:QuorumCnxManager$SendWorker@729] - Failed to send last message. Shutting down thread.
java.net.SocketException: Broken pipe
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:138)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:698)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:725)
2015-05-21 15:16:31,667 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:16:31,667 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,672 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,667 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42491
2015-05-21 15:16:31,663 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,661 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:31,660 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:37727:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:16:31,673 [myid:0] - ERROR [SendWorker:4:QuorumCnxManager$SendWorker@729] - Failed to send last message. Shutting down thread.
java.net.SocketException: Broken pipe
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:138)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:698)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:725)
2015-05-21 15:16:31,660 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:31,673 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:31,659 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,659 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:31,659 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,659 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:16:31,659 [myid:4] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:31,659 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:37712:LearnerHandler@580] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:493)
2015-05-21 15:16:31,674 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x100000004
2015-05-21 15:16:31,673 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:16:31,673 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37727:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37727 ********
2015-05-21 15:16:31,673 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,676 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,672 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42492
2015-05-21 15:16:31,672 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:31,671 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:16:31,671 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37728:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37728 ********
2015-05-21 15:16:31,676 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60442
2015-05-21 15:16:31,677 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x100000004
2015-05-21 15:16:31,677 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,677 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,671 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:31,670 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,678 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:31,677 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46854
2015-05-21 15:16:31,677 [myid:0] - ERROR [SendWorker:2:QuorumCnxManager$SendWorker@729] - Failed to send last message. Shutting down thread.
java.net.SocketException: Broken pipe
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:138)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:698)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:725)
2015-05-21 15:16:31,677 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-05-21 15:16:31,679 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60445
2015-05-21 15:16:31,679 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,675 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:37712:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:37712 ********
2015-05-21 15:16:31,678 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46855
2015-05-21 15:16:31,678 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:16:31,679 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,679 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 2)
2015-05-21 15:16:31,680 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,678 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:31,679 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60548
2015-05-21 15:16:31,681 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,681 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,681 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,682 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,682 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x100000004
2015-05-21 15:16:31,681 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46858
2015-05-21 15:16:31,681 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:16:31,681 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,683 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,681 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:31,683 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,683 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,683 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:31,684 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,684 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,683 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:31,684 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,684 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:16:31,685 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,685 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,685 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,685 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,685 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,686 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:31,749 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:31,750 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50334
2015-05-21 15:16:31,751 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50334
2015-05-21 15:16:31,752 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50334 (no session established for client)
2015-05-21 15:16:31,871 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:16:31,871 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@950] - OBSERVING
2015-05-21 15:16:31,871 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:31,871 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:31,871 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2
2015-05-21 15:16:31,871 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-05-21 15:16:31,871 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Observer@72] - Observing localhost/127.0.0.1:11264
2015-05-21 15:16:31,871 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11264
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:31,885 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:16:31,885 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:31,886 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:31,886 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:31,886 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:16:31,886 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir/data/version-2
2015-05-21 15:16:31,886 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:16:31,886 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:16:31,886 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:31,886 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:31,886 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir/data/version-2
2015-05-21 15:16:31,886 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:16:31,886 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=LeaderElection]
2015-05-21 15:16:31,886 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11273
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:31,886 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11273
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:965)
2015-05-21 15:16:31,886 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:16:31,887 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:31,887 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:31,887 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir/data/version-2
2015-05-21 15:16:31,887 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:16:31,888 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test5348312196738461714.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:32,002 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:32,003 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50338
2015-05-21 15:16:32,004 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50338
2015-05-21 15:16:32,004 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50338 (no session established for client)
2015-05-21 15:16:32,255 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:32,255 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50339
2015-05-21 15:16:32,256 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50339
2015-05-21 15:16:32,256 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50339 (no session established for client)
2015-05-21 15:16:32,433 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:32,433 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:50340, server: 127.0.0.1/127.0.0.1:11260
2015-05-21 15:16:32,433 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50340
2015-05-21 15:16:32,434 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:32,434 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:32,434 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50340 (no session established for client)
2015-05-21 15:16:32,435 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:59856, server: 127.0.0.1/127.0.0.1:11263
2015-05-21 15:16:32,435 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59856
2015-05-21 15:16:32,435 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:32,435 [myid:1] - INFO  [NIOWorkerThread-1:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:59856
2015-05-21 15:16:32,436 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.200000001
2015-05-21 15:16:32,444 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11272. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:32,444 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60308, server: 127.0.0.1/127.0.0.1:11272
2015-05-21 15:16:32,444 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11272:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60308
2015-05-21 15:16:32,445 [myid:4] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:32,446 [myid:4] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60308 (no session established for client)
2015-05-21 15:16:32,446 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:32,507 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:32,507 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50343
2015-05-21 15:16:32,508 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50343
2015-05-21 15:16:32,509 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50343 (no session established for client)
2015-05-21 15:16:32,759 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:32,760 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50344
2015-05-21 15:16:32,761 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50344
2015-05-21 15:16:32,761 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50344 (no session established for client)
2015-05-21 15:16:32,839 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11269. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:32,840 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:51625, server: 127.0.0.1/127.0.0.1:11269
2015-05-21 15:16:32,840 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11269:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:51625
2015-05-21 15:16:32,841 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:32,841 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:51625 (no session established for client)
2015-05-21 15:16:32,841 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:32,872 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@273] - Unexpected exception, tries=1, remaining init limit=39000, connecting to localhost/127.0.0.1:11264
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:32,887 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:51994:LearnerHandler@361] - Follower sid: 3 : info : localhost:11270:11271:participant;localhost:11269
2015-05-21 15:16:32,887 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:51995:LearnerHandler@361] - Follower sid: 2 : info : localhost:11267:11268:participant;localhost:11266
2015-05-21 15:16:32,909 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:51995:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000004 peerLastZxid=0x100000004
2015-05-21 15:16:32,909 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:51994:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000004 peerLastZxid=0x100000004
2015-05-21 15:16:32,909 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:51995:LearnerHandler@703] - Sending DIFF zxid=0x100000004 for peer sid: 2
2015-05-21 15:16:32,909 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:51994:LearnerHandler@703] - Sending DIFF zxid=0x100000004 for peer sid: 3
2015-05-21 15:16:32,911 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000004
2015-05-21 15:16:32,911 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000004
2015-05-21 15:16:32,912 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:32,912 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:32,912 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test3337418504414578179.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:32,912 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test809335213845532929.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:32,923 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [4, 2] ]; starting up and setting last processed zxid: 0x300000000
2015-05-21 15:16:32,924 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:32,926 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:32,926 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:32,927 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:32,927 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:33,012 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:33,012 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50349
2015-05-21 15:16:33,013 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50349
2015-05-21 15:16:33,014 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50349 (no session established for client)
2015-05-21 15:16:33,170 [myid:] - INFO  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11266. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:33,170 [myid:] - INFO  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:32818, server: 127.0.0.1/127.0.0.1:11266
2015-05-21 15:16:33,171 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11266:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:32818
2015-05-21 15:16:33,172 [myid:2] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:32818
2015-05-21 15:16:33,173 [myid:4] - INFO  [SyncThread:4:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:16:33,174 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:16:33,174 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Follower@122] - Got zxid 0x300000001 expected 0x1
2015-05-21 15:16:33,174 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:16:33,174 [myid:3] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.300000001
2015-05-21 15:16:33,191 [myid:2] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x20006294fb00000 with negotiated timeout 30000 for client /127.0.0.1:32818
2015-05-21 15:16:33,192 [myid:] - INFO  [main-SendThread(127.0.0.1:11266):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11266, sessionid = 0x20006294fb00000, negotiated timeout = 30000
2015-05-21 15:16:33,247 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:33,247 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:33,264 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:33,265 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50351
2015-05-21 15:16:33,266 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50351
2015-05-21 15:16:33,266 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50351 (no session established for client)
2015-05-21 15:16:33,290 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:33,290 [myid:4] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:33,486 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:33,486 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:33,517 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:33,517 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50352
2015-05-21 15:16:33,518 [myid:0] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50352
2015-05-21 15:16:33,519 [myid:0] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50352 (no session established for client)
2015-05-21 15:16:33,657 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:33,658 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50353
2015-05-21 15:16:33,658 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:50353, server: 127.0.0.1/127.0.0.1:11260
2015-05-21 15:16:33,659 [myid:0] - WARN  [NIOWorkerThread-10:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:33,659 [myid:0] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50353 (no session established for client)
2015-05-21 15:16:33,659 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:33,769 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:33,770 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50354
2015-05-21 15:16:33,771 [myid:0] - INFO  [NIOWorkerThread-11:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50354
2015-05-21 15:16:33,771 [myid:0] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50354 (no session established for client)
2015-05-21 15:16:33,792 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11272. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:33,792 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:60321, server: 127.0.0.1/127.0.0.1:11272
2015-05-21 15:16:33,792 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11272:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60321
2015-05-21 15:16:33,793 [myid:4] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:60321
2015-05-21 15:16:33,806 [myid:4] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x40006294fbc0000 with negotiated timeout 30000 for client /127.0.0.1:60321
2015-05-21 15:16:33,807 [myid:] - INFO  [main-SendThread(127.0.0.1:11272):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11272, sessionid = 0x40006294fbc0000, negotiated timeout = 30000
2015-05-21 15:16:33,872 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@273] - Unexpected exception, tries=2, remaining init limit=38000, connecting to localhost/127.0.0.1:11264
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:34,021 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:34,022 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50357
2015-05-21 15:16:34,023 [myid:0] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50357
2015-05-21 15:16:34,023 [myid:0] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50357 (no session established for client)
2015-05-21 15:16:34,171 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11269. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:34,172 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:51638, server: 127.0.0.1/127.0.0.1:11269
2015-05-21 15:16:34,172 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11269:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:51638
2015-05-21 15:16:34,173 [myid:3] - INFO  [NIOWorkerThread-3:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:51638
2015-05-21 15:16:34,183 [myid:3] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x30006294fb00000 with negotiated timeout 30000 for client /127.0.0.1:51638
2015-05-21 15:16:34,184 [myid:] - INFO  [main-SendThread(127.0.0.1:11269):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11269, sessionid = 0x30006294fb00000, negotiated timeout = 30000
2015-05-21 15:16:34,274 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:34,274 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50359
2015-05-21 15:16:34,276 [myid:0] - INFO  [NIOWorkerThread-13:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50359
2015-05-21 15:16:34,276 [myid:0] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50359 (no session established for client)
2015-05-21 15:16:34,526 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:34,527 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50360
2015-05-21 15:16:34,528 [myid:0] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50360
2015-05-21 15:16:34,528 [myid:0] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50360 (no session established for client)
2015-05-21 15:16:34,779 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:34,779 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50361
2015-05-21 15:16:34,780 [myid:0] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50361
2015-05-21 15:16:34,781 [myid:0] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50361 (no session established for client)
2015-05-21 15:16:34,873 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@273] - Unexpected exception, tries=3, remaining init limit=36999, connecting to localhost/127.0.0.1:11264
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:35,031 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:35,032 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50363
2015-05-21 15:16:35,033 [myid:0] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50363
2015-05-21 15:16:35,033 [myid:0] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50363 (no session established for client)
2015-05-21 15:16:35,284 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:35,284 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50364
2015-05-21 15:16:35,285 [myid:0] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50364
2015-05-21 15:16:35,286 [myid:0] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50364 (no session established for client)
2015-05-21 15:16:35,536 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:35,537 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50365
2015-05-21 15:16:35,538 [myid:0] - INFO  [NIOWorkerThread-18:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50365
2015-05-21 15:16:35,538 [myid:0] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50365 (no session established for client)
2015-05-21 15:16:35,583 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:35,584 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50366
2015-05-21 15:16:35,584 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:50366, server: 127.0.0.1/127.0.0.1:11260
2015-05-21 15:16:35,585 [myid:0] - WARN  [NIOWorkerThread-19:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:35,585 [myid:0] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50366 (no session established for client)
2015-05-21 15:16:35,585 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:35,620 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:16:35,620 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: Not sufficient followers synced, only synced with sids: [ [] ]
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:588)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:16:35,621 [myid:1] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11258:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:16:35,621 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59856 which had sessionid 0x10006294aa20000
2015-05-21 15:16:35,621 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ZooKeeperServer@465] - shutting down
2015-05-21 15:16:35,621 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:35,621 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):SessionTrackerImpl@232] - Shutting down
2015-05-21 15:16:35,622 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:16:35,622 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):PrepRequestProcessor@973] - Shutting down
2015-05-21 15:16:35,622 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:16:35,622 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:16:35,622 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):CommitProcessor@356] - Shutting down
2015-05-21 15:16:35,623 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:35,623 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:16:35,623 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:35,623 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:35,623 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:35,624 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:16:35,624 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
2015-05-21 15:16:35,624 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@950] - OBSERVING
2015-05-21 15:16:35,624 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:35,625 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:35,625 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2
2015-05-21 15:16:35,625 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-05-21 15:16:35,625 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Observer@72] - Observing localhost/127.0.0.1:11267
2015-05-21 15:16:35,626 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=40000, connecting to localhost/127.0.0.1:11267
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:35,788 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:35,789 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50368
2015-05-21 15:16:35,790 [myid:0] - INFO  [NIOWorkerThread-20:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50368
2015-05-21 15:16:35,790 [myid:0] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50368 (no session established for client)
2015-05-21 15:16:35,873 [myid:0] - ERROR [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@268] - Unexpected exception, retries exceeded. tries=4, remaining init limit=35999, connecting to localhost/127.0.0.1:11264
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:35,873 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Observer@86] - Exception when observing the leader
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:35,873 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=StandaloneServer_port-1]
2015-05-21 15:16:35,873 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:956)
2015-05-21 15:16:35,874 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:35,874 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:35,874 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x8000000000000000
2015-05-21 15:16:35,874 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46895
2015-05-21 15:16:35,874 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:16:35,874 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42536
2015-05-21 15:16:35,874 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60486
2015-05-21 15:16:35,874 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 0)
2015-05-21 15:16:35,875 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60590
2015-05-21 15:16:35,875 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 0)
2015-05-21 15:16:35,875 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42538
2015-05-21 15:16:35,875 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:42540
2015-05-21 15:16:35,876 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:35,876 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:35,876 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LEADING (n.state), 4 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:35,876 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:16:35,876 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@950] - OBSERVING
2015-05-21 15:16:35,876 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:35,877 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:35,877 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2
2015-05-21 15:16:35,877 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-05-21 15:16:35,877 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Observer@72] - Observing localhost/127.0.0.1:11273
2015-05-21 15:16:35,877 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:52023:LearnerHandler@361] - Follower sid: 0 : info : localhost:11261:11262:observer;localhost:11260
2015-05-21 15:16:35,890 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:52023:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x300000003 peerLastZxid=0x100000004
2015-05-21 15:16:35,890 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:52023:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 4294967300
2015-05-21 15:16:35,891 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:52023:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x100000004, zxid of leader is 0x300000003, send zxid of db as 0x300000003, 1 concurrent snapshots, snapshot was not exempt from throttle
2015-05-21 15:16:35,891 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:16:35,892 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:35,892 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x300000003 to /home/mitake/github/zookeeper.git/build/test/tmp/test6055615866320898784.junit.dir/data/version-2/snapshot.300000003
2015-05-21 15:16:35,904 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:35,905 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:36,041 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11260
2015-05-21 15:16:36,042 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50377
2015-05-21 15:16:36,043 [myid:0] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:50377
2015-05-21 15:16:36,043 [myid:0] - INFO  [NIOWorkerThread-21:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:16:36,044 [myid:0] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50377 (no session established for client)
2015-05-21 15:16:36,627 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@273] - Unexpected exception, tries=1, remaining init limit=38999, connecting to localhost/127.0.0.1:11267
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:36,901 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11260. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:36,901 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:50379
2015-05-21 15:16:36,901 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:50379, server: 127.0.0.1/127.0.0.1:11260
2015-05-21 15:16:36,902 [myid:0] - INFO  [NIOWorkerThread-22:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:50379
2015-05-21 15:16:36,914 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.300000004
2015-05-21 15:16:36,915 [myid:0] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x6295b550000 with negotiated timeout 30000 for client /127.0.0.1:50379
2015-05-21 15:16:36,916 [myid:] - INFO  [main-SendThread(127.0.0.1:11260):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11260, sessionid = 0x6295b550000, negotiated timeout = 30000
2015-05-21 15:16:36,920 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:36,921 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59895
2015-05-21 15:16:36,922 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59895
2015-05-21 15:16:36,922 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59895 (no session established for client)
2015-05-21 15:16:37,172 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:37,173 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59896
2015-05-21 15:16:37,174 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59896
2015-05-21 15:16:37,175 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59896 (no session established for client)
2015-05-21 15:16:37,425 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:37,426 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59897
2015-05-21 15:16:37,427 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59897
2015-05-21 15:16:37,427 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59897 (no session established for client)
2015-05-21 15:16:37,495 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:37,496 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:59898, server: 127.0.0.1/127.0.0.1:11263
2015-05-21 15:16:37,496 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59898
2015-05-21 15:16:37,497 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:37,497 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59898 (no session established for client)
2015-05-21 15:16:37,497 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:37,628 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@273] - Unexpected exception, tries=2, remaining init limit=37998, connecting to localhost/127.0.0.1:11267
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:37,678 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:37,678 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59900
2015-05-21 15:16:37,679 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59900
2015-05-21 15:16:37,680 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59900 (no session established for client)
2015-05-21 15:16:37,930 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:37,931 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59901
2015-05-21 15:16:37,932 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59901
2015-05-21 15:16:37,932 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59901 (no session established for client)
2015-05-21 15:16:38,183 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:38,183 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59902
2015-05-21 15:16:38,184 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59902
2015-05-21 15:16:38,185 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59902 (no session established for client)
2015-05-21 15:16:38,239 [myid:1] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:16:38,435 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:38,436 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59903
2015-05-21 15:16:38,437 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59903
2015-05-21 15:16:38,437 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59903 (no session established for client)
2015-05-21 15:16:38,630 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@273] - Unexpected exception, tries=3, remaining init limit=36996, connecting to localhost/127.0.0.1:11267
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:38,687 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:38,688 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59905
2015-05-21 15:16:38,689 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59905
2015-05-21 15:16:38,690 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59905 (no session established for client)
2015-05-21 15:16:38,724 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:38,725 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:59906, server: 127.0.0.1/127.0.0.1:11263
2015-05-21 15:16:38,725 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59906
2015-05-21 15:16:38,726 [myid:1] - WARN  [NIOWorkerThread-11:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:16:38,726 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59906 (no session established for client)
2015-05-21 15:16:38,726 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:16:38,940 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:38,941 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59907
2015-05-21 15:16:38,942 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59907
2015-05-21 15:16:38,942 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59907 (no session established for client)
2015-05-21 15:16:39,192 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:39,193 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59908
2015-05-21 15:16:39,194 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59908
2015-05-21 15:16:39,195 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59908 (no session established for client)
2015-05-21 15:16:39,445 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:39,446 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59909
2015-05-21 15:16:39,446 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59909
2015-05-21 15:16:39,447 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59909 (no session established for client)
2015-05-21 15:16:39,631 [myid:1] - ERROR [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@268] - Unexpected exception, retries exceeded. tries=4, remaining init limit=35995, connecting to localhost/127.0.0.1:11267
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:39,632 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Observer@86] - Exception when observing the leader
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:952)
2015-05-21 15:16:39,632 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=StandaloneServer_port-1]
2015-05-21 15:16:39,633 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:956)
2015-05-21 15:16:39,633 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:39,633 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:16:39,633 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x8000000000000000
2015-05-21 15:16:39,634 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:46921
2015-05-21 15:16:39,634 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:16:39,635 [myid:1] - INFO  [localhost/127.0.0.1:11265:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36152
2015-05-21 15:16:39,635 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60512
2015-05-21 15:16:39,635 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 1)
2015-05-21 15:16:39,636 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:60616
2015-05-21 15:16:39,636 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 1)
2015-05-21 15:16:39,636 [myid:1] - INFO  [localhost/127.0.0.1:11265:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36154
2015-05-21 15:16:39,637 [myid:1] - INFO  [localhost/127.0.0.1:11265:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:36156
2015-05-21 15:16:39,639 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:39,639 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 3 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:39,640 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x100000004 (n.zxid), 0x1 (n.round), LEADING (n.state), 4 (n.sid), 0x3 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:16:39,641 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:16:39,641 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@950] - OBSERVING
2015-05-21 15:16:39,641 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:16:39,641 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:16:39,641 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2
2015-05-21 15:16:39,641 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-05-21 15:16:39,642 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Observer@72] - Observing localhost/127.0.0.1:11273
2015-05-21 15:16:39,643 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):FileSnap@83] - Reading snapshot /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2/snapshot.100000004
2015-05-21 15:16:39,644 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:52049:LearnerHandler@361] - Follower sid: 1 : info : localhost:11264:11265:observer;localhost:11263
2015-05-21 15:16:39,657 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:52049:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x300000004 minCommittedLog=0x300000001 lastProcessedZxid=0x300000004 peerLastZxid=0x200000001
2015-05-21 15:16:39,658 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:52049:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 8589934593
2015-05-21 15:16:39,659 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:52049:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x200000001, zxid of leader is 0x300000004, send zxid of db as 0x300000004, 1 concurrent snapshots, snapshot was not exempt from throttle
2015-05-21 15:16:39,659 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:16:39,661 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:16:39,661 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x300000004 to /home/mitake/github/zookeeper.git/build/test/tmp/test2171916485207779332.junit.dir/data/version-2/snapshot.300000004
2015-05-21 15:16:39,675 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:16:39,676 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:16:39,697 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11263
2015-05-21 15:16:39,698 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59918
2015-05-21 15:16:39,699 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:59918
2015-05-21 15:16:39,699 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:16:39,700 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59918 (no session established for client)
2015-05-21 15:16:40,470 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11263. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:16:40,471 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:59919, server: 127.0.0.1/127.0.0.1:11263
2015-05-21 15:16:40,471 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:59919
2015-05-21 15:16:40,472 [myid:1] - INFO  [NIOWorkerThread-16:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:59919
2015-05-21 15:16:40,484 [myid:1] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x10006296a0d0000 with negotiated timeout 30000 for client /127.0.0.1:59919
2015-05-21 15:16:40,484 [myid:] - INFO  [main-SendThread(127.0.0.1:11263):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11263, sessionid = 0x10006296a0d0000, negotiated timeout = 30000
2015-05-21 15:16:40,488 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11266
2015-05-21 15:16:40,489 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11266:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:32873
2015-05-21 15:16:40,490 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:32873
2015-05-21 15:16:40,490 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:16:40,491 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:32873 (no session established for client)
2015-05-21 15:16:40,494 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11269
2015-05-21 15:16:40,495 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11269:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:51686
2015-05-21 15:16:40,496 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:51686
2015-05-21 15:16:40,496 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:16:40,497 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:51686 (no session established for client)
2015-05-21 15:16:40,501 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11272
2015-05-21 15:16:40,502 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11272:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:60373
2015-05-21 15:16:40,503 [myid:4] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:60373
2015-05-21 15:16:40,503 [myid:4] - INFO  [NIOWorkerThread-5:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:16:40,504 [myid:4] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60373 (no session established for client)
2015-05-21 15:16:40,509 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x6295b550000 type:create cxid:0x3 zxid:0x300000006 txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:16:40,540 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x40006294fbc0000 type:create cxid:0x3 zxid:0x300000008 txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:16:40,570 [myid:0] - INFO  [NIOWorkerThread-7:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x6295b550000
2015-05-21 15:16:40,570 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x6295b550000
2015-05-21 15:16:40,580 [myid:0] - INFO  [NIOWorkerThread-8:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=StandaloneServer_port-1,name3=Connections,name4=127.0.0.1,name5=0x6295b550000]
2015-05-21 15:16:40,580 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:40,580 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x6295b550000 closed
2015-05-21 15:16:40,581 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:50379 which had sessionid 0x6295b550000
2015-05-21 15:16:40,581 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled)
2015-05-21 15:16:40,582 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:40,583 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11260:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:40,583 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:40,584 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:40,584 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:40,584 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:40,584 [myid:] - INFO  [main:ObserverRequestProcessor@148] - Shutting down
2015-05-21 15:16:40,585 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:40,585 [myid:0] - INFO  [ObserverRequestProcessor:0:ObserverRequestProcessor@116] - ObserverRequestProcessor exited loop!
2015-05-21 15:16:40,585 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:40,585 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:40,586 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=StandaloneServer_port-1,name3=InMemoryDataTree]
2015-05-21 15:16:40,586 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:40,586 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:40,586 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:40,587 [myid:0] - INFO  [localhost/127.0.0.1:11262:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:40,587 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,588 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled)
2015-05-21 15:16:40,588 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,589 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,588 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,587 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,590 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,587 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,590 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,587 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,591 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:16:40,587 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,591 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,587 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,587 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,592 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,592 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:16:40,593 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,592 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,593 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:16:40,590 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,594 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:16:40,589 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,589 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled) to exit thread
2015-05-21 15:16:40,588 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:16:40,593 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:16:40,927 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=StandaloneServer_port-1]
2015-05-21 15:16:40,927 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:956)
2015-05-21 15:16:40,928 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:40,928 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:40,928 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:16:40,928 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:16:40,928 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:16:40,929 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:16:40,929 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.3]
2015-05-21 15:16:40,929 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11260)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.4]
2015-05-21 15:16:40,931 [myid:1] - INFO  [NIOWorkerThread-24:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x10006296a0d0000
2015-05-21 15:16:40,931 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x10006296a0d0000
2015-05-21 15:16:40,939 [myid:1] - INFO  [NIOWorkerThread-1:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=StandaloneServer_port-1,name3=Connections,name4=127.0.0.1,name5=0x10006296a0d0000]
2015-05-21 15:16:40,939 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x10006296a0d0000 closed
2015-05-21 15:16:40,939 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:59919 which had sessionid 0x10006296a0d0000
2015-05-21 15:16:40,939 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:40,939 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled)
2015-05-21 15:16:40,940 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:40,940 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:40,940 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:40,940 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11263:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:40,941 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:40,941 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:40,941 [myid:] - INFO  [main:ObserverRequestProcessor@148] - Shutting down
2015-05-21 15:16:40,941 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:40,941 [myid:1] - INFO  [ObserverRequestProcessor:1:ObserverRequestProcessor@116] - ObserverRequestProcessor exited loop!
2015-05-21 15:16:40,941 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:40,941 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:40,942 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=StandaloneServer_port-1,name3=InMemoryDataTree]
2015-05-21 15:16:40,942 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:40,950 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:40,950 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:40,950 [myid:1] - INFO  [localhost/127.0.0.1:11265:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:40,951 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,951 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,951 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,952 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,951 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,951 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled)
2015-05-21 15:16:40,951 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,953 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,951 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,953 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:16:40,951 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,951 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,954 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,951 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:40,954 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,954 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:16:40,954 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:16:40,952 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled) to exit thread
2015-05-21 15:16:40,952 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,952 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,956 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:16:40,952 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,951 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:16:40,954 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:40,956 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:40,956 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:16:41,875 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:41,876 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:42,636 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:42,640 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:42,928 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=StandaloneServer_port-1]
2015-05-21 15:16:42,928 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:956)
2015-05-21 15:16:42,928 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:42,928 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:42,928 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:16:42,929 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:16:42,929 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:16:42,929 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:16:42,930 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:16:42,930 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11263)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4]
2015-05-21 15:16:42,931 [myid:2] - INFO  [NIOWorkerThread-11:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x20006294fb00000
2015-05-21 15:16:42,932 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x20006294fb00000
2015-05-21 15:16:42,943 [myid:2] - INFO  [NIOWorkerThread-12:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x20006294fb00000]
2015-05-21 15:16:42,943 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x20006294fb00000 closed
2015-05-21 15:16:42,943 [myid:2] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:32818 which had sessionid 0x20006294fb00000
2015-05-21 15:16:42,943 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:42,943 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled)
2015-05-21 15:16:42,943 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:42,944 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:42,944 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:42,944 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:16:42,944 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:42,944 [myid:2] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:16:42,945 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:42,945 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:42,945 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:16:42,945 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:42,947 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:42,947 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:42,947 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:42,948 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:42,948 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11266:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:42,948 [myid:2] - INFO  [localhost/127.0.0.1:11268:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:42,948 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:42,948 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:42,948 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:42,948 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled)
2015-05-21 15:16:42,948 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:42,949 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:42,948 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:42,948 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:42,949 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:42,949 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:16:42,949 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:42,949 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled) to exit thread
2015-05-21 15:16:42,949 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:42,949 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:42,949 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:16:42,950 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:16:42,949 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:42,950 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:16:44,928 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:16:44,929 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:44,929 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:44,929 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:44,929 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:16:44,929 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:16:44,930 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:16:44,930 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:16:44,930 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:16:44,930 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11266)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4]
2015-05-21 15:16:44,932 [myid:3] - INFO  [NIOWorkerThread-9:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x30006294fb00000
2015-05-21 15:16:44,933 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x30006294fb00000
2015-05-21 15:16:44,941 [myid:3] - INFO  [NIOWorkerThread-10:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x30006294fb00000]
2015-05-21 15:16:44,942 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x30006294fb00000 closed
2015-05-21 15:16:44,942 [myid:3] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:51638 which had sessionid 0x30006294fb00000
2015-05-21 15:16:44,942 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled)
2015-05-21 15:16:44,942 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:16:44,943 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:16:44,942 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:16:44,943 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:16:44,944 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:16:44,944 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:16:44,944 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:16:44,944 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:16:44,945 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:16:44,945 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:16:44,946 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:16:44,946 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:16:44,946 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:16:44,947 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:44,947 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:16:44,947 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11269:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:16:44,948 [myid:3] - INFO  [localhost/127.0.0.1:11271:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:16:44,948 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:44,949 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled)
2015-05-21 15:16:44,949 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 3
2015-05-21 15:16:44,949 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:44,949 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:16:44,950 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:44,950 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:16:44,950 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:16:44,949 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled) to exit thread
2015-05-21 15:16:44,951 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 4
2015-05-21 15:16:45,638 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:45,638 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:45,638 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:16:45,638 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:16:46,929 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:16:46,929 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:16:46,929 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:16:46,929 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:16:46,929 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:16:46,930 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:16:46,930 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.0]
2015-05-21 15:16:46,930 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:16:46,931 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:16:46,931 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11269)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4]
2015-05-21 15:16:46,932 [myid:4] - INFO  [NIOWorkerThread-13:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x40006294fbc0000
2015-05-21 15:16:46,933 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x40006294fbc0000
2015-05-21 15:17:00,571 [myid:4] - WARN  [NIOWorkerThread-14:NIOServerCnxn@369] - Unable to read additional data from client sessionid 0x40006294fbc0000, likely client has closed socket
2015-05-21 15:17:00,571 [myid:4] - INFO  [NIOWorkerThread-14:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x40006294fbc0000]
2015-05-21 15:17:00,572 [myid:4] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:60321 which had sessionid 0x40006294fbc0000
2015-05-21 15:17:00,670 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x40006294fbc0000 closed
2015-05-21 15:17:00,670 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:17:00,671 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled)
2015-05-21 15:17:00,671 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:17:00,671 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentServersAreObserversInNextConfig(ReconfigRecoveryTest.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:17:00,672 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:17:00,672 [myid:4] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11273:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:17:00,672 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:17:00,673 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:17:00,673 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:17:00,673 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:17:00,673 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:17:00,673 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:17:00,674 [myid:4] - INFO  [CommitProcessor:4:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:17:00,674 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:17:00,674 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:17:00,675 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:17:00,675 [myid:4] - INFO  [SyncThread:4:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:17:00,675 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:17:00,677 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:51994:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:51994 ********
2015-05-21 15:17:00,677 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:52023:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:52023 ********
2015-05-21 15:17:00,677 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:51994:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:17:00,677 [myid:4] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:17:00,677 [myid:4] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:17:00,677 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:52049:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:52049 ********
2015-05-21 15:17:00,677 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:51995:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:51995 ********
2015-05-21 15:17:00,678 [myid:4] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:17:00,678 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:52049:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:17:00,677 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:52023:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:17:00,678 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11272:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:17:00,678 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:51995:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:17:00,680 [myid:4] - INFO  [localhost/127.0.0.1:11274:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:17:00,680 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader]
2015-05-21 15:17:00,680 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled)
2015-05-21 15:17:00,680 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:17:00,681 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled) to exit thread
2015-05-21 15:17:00,681 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:17:00,681 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:17:00,681 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:17:00,681 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4]
2015-05-21 15:17:00,682 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4]
2015-05-21 15:17:00,682 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.0]
2015-05-21 15:17:00,682 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1]
2015-05-21 15:17:00,683 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2]
2015-05-21 15:17:00,683 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11272)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3]
2015-05-21 15:17:00,683 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 121859
2015-05-21 15:17:00,683 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 7
2015-05-21 15:17:00,683 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testCurrentServersAreObserversInNextConfig
2015-05-21 15:17:00,684 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testCurrentServersAreObserversInNextConfig
2015-05-21 15:17:00,684 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testCurrentServersAreObserversInNextConfig
2015-05-21 15:17:00,684 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testNextConfigUnreachable
2015-05-21 15:17:00,685 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testNextConfigUnreachable
2015-05-21 15:17:00,685 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11275
2015-05-21 15:17:00,685 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11276
2015-05-21 15:17:00,685 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11277
2015-05-21 15:17:00,685 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11278
2015-05-21 15:17:00,685 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11279
2015-05-21 15:17:00,685 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11280
2015-05-21 15:17:00,685 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11281
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11282
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11283
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11284
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11285
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11286
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11287
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11288
2015-05-21 15:17:00,686 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11289
2015-05-21 15:17:00,687 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7179204420505310832.junit.dir clientPort = 11275 adminServerPort = 8080
2015-05-21 15:17:00,688 [myid:] - INFO  [Thread-40:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7179204420505310832.junit.dir/zoo.cfg
2015-05-21 15:17:00,688 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11275 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@20cb3eea
2015-05-21 15:17:00,688 [myid:] - INFO  [Thread-40:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11275
2015-05-21 15:17:00,689 [myid:] - INFO  [Thread-40:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:17:00,689 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:00,689 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test9171817812678612673.junit.dir clientPort = 11278 adminServerPort = 8080
2015-05-21 15:17:00,689 [myid:] - WARN  [Thread-40:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:17:00,690 [myid:] - WARN  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:17:00,690 [myid:] - INFO  [Thread-41:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test9171817812678612673.junit.dir/zoo.cfg
2015-05-21 15:17:00,690 [myid:0] - INFO  [Thread-40:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:17:00,690 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11278 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@20cb3eea
2015-05-21 15:17:00,691 [myid:] - INFO  [Thread-41:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11278
2015-05-21 15:17:00,691 [myid:] - INFO  [Thread-41:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:17:00,690 [myid:0] - INFO  [Thread-40:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:17:00,691 [myid:0] - INFO  [Thread-40:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:17:00,691 [myid:] - WARN  [Thread-41:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:17:00,691 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:00,692 [myid:0] - WARN  [Thread-40:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,692 [myid:] - WARN  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:17:00,692 [myid:1] - INFO  [Thread-41:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:17:00,692 [myid:0] - INFO  [Thread-40:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:17:00,692 [myid:1] - INFO  [Thread-41:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:17:00,693 [myid:1] - INFO  [Thread-41:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:17:00,693 [myid:0] - INFO  [Thread-40:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:17:00,693 [myid:1] - WARN  [Thread-41:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,693 [myid:1] - INFO  [Thread-41:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:17:00,693 [myid:0] - INFO  [Thread-40:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11275
2015-05-21 15:17:00,694 [myid:1] - INFO  [Thread-41:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:17:00,694 [myid:1] - INFO  [Thread-41:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11278
2015-05-21 15:17:00,694 [myid:0] - INFO  [Thread-40:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:17:00,694 [myid:0] - INFO  [Thread-40:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:17:00,694 [myid:0] - INFO  [Thread-40:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:17:00,695 [myid:0] - INFO  [Thread-40:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:17:00,695 [myid:0] - INFO  [Thread-40:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:17:00,695 [myid:1] - INFO  [Thread-41:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:17:00,695 [myid:0] - INFO  [Thread-40:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:17:00,695 [myid:1] - INFO  [Thread-41:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:17:00,695 [myid:1] - INFO  [Thread-41:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:17:00,695 [myid:1] - INFO  [Thread-41:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:17:00,695 [myid:1] - INFO  [Thread-41:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:17:00,696 [myid:1] - INFO  [Thread-41:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:17:00,696 [myid:0] - INFO  [Thread-40:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:17:00,696 [myid:1] - INFO  [Thread-41:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:17:00,703 [myid:0] - INFO  [Thread-40:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:17:00,710 [myid:1] - INFO  [Thread-41:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:17:00,717 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11277
2015-05-21 15:17:00,718 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:17:00,719 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:17:00,720 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11280
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,720 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11280
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,720 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,720 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,721 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,721 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,728 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11280
2015-05-21 15:17:00,729 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:17:00,730 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:17:00,730 [myid:0] - INFO  [localhost/127.0.0.1:11277:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41080
2015-05-21 15:17:00,732 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,732 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,733 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,733 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,733 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,734 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,734 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,734 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,735 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,735 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,735 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,936 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:17:00,937 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,937 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,937 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,938 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-05-21 15:17:00,938 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,938 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,939 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,937 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,939 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:00,940 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:00,940 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:01,341 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:01,341 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:01,342 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:01,342 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 800
2015-05-21 15:17:01,342 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:01,341 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 800
2015-05-21 15:17:01,342 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:01,342 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:01,342 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:01,342 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:01,343 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:01,343 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:01,790 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:01,791 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33817, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:01,791 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33817
2015-05-21 15:17:01,792 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:01,792 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33817 (no session established for client)
2015-05-21 15:17:01,793 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:01,793 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:01,793 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56254
2015-05-21 15:17:01,793 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56254, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:01,794 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:01,794 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56254 (no session established for client)
2015-05-21 15:17:01,795 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:02,144 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 1600
2015-05-21 15:17:02,144 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:02,144 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:02,145 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:02,145 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:02,146 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:02,146 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:02,145 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 1600
2015-05-21 15:17:02,146 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:02,147 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:02,147 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:02,147 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:02,240 [myid:4] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
2015-05-21 15:17:03,417 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:03,417 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33825, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:03,417 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33825
2015-05-21 15:17:03,418 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:03,419 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33825 (no session established for client)
2015-05-21 15:17:03,419 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:03,640 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:17:03,640 [myid:4] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:17:03,748 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 3200
2015-05-21 15:17:03,748 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:03,748 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:03,749 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:03,749 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 3200
2015-05-21 15:17:03,749 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:03,749 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:03,749 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:03,749 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:03,749 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:03,750 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:03,750 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:03,826 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:03,827 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56268, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:03,827 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56268
2015-05-21 15:17:03,828 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:03,828 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56268 (no session established for client)
2015-05-21 15:17:03,829 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:04,832 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:04,832 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33833, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:04,832 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33833
2015-05-21 15:17:04,833 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:04,833 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33833 (no session established for client)
2015-05-21 15:17:04,834 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:04,945 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:04,946 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56270, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:04,946 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56270
2015-05-21 15:17:04,947 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:04,947 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56270 (no session established for client)
2015-05-21 15:17:04,947 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:06,026 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:06,027 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33835, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:06,027 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33835
2015-05-21 15:17:06,028 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:06,028 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33835 (no session established for client)
2015-05-21 15:17:06,029 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:06,681 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:06,682 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56272, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:06,682 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56272
2015-05-21 15:17:06,683 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:06,683 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56272 (no session established for client)
2015-05-21 15:17:06,684 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:06,951 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 6400
2015-05-21 15:17:06,951 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:06,951 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:06,951 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:06,952 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 6400
2015-05-21 15:17:06,952 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:06,953 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:06,953 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:06,953 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:06,954 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:06,955 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:06,955 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:08,030 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:08,031 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33843, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:08,031 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33843
2015-05-21 15:17:08,032 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:08,032 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33843 (no session established for client)
2015-05-21 15:17:08,033 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:08,662 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:08,663 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56280, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:08,663 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56280
2015-05-21 15:17:08,664 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:08,664 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56280 (no session established for client)
2015-05-21 15:17:08,664 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:09,734 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:09,735 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33845, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:09,735 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33845
2015-05-21 15:17:09,736 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:09,736 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33845 (no session established for client)
2015-05-21 15:17:09,736 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:09,781 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:09,782 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56282, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:09,782 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56282
2015-05-21 15:17:09,783 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:09,783 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56282 (no session established for client)
2015-05-21 15:17:09,783 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:11,227 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:11,227 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56283
2015-05-21 15:17:11,227 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56283, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:11,228 [myid:1] - WARN  [NIOWorkerThread-7:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:11,229 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56283 (no session established for client)
2015-05-21 15:17:11,229 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:11,557 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:11,557 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33848, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:11,557 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33848
2015-05-21 15:17:11,559 [myid:0] - WARN  [NIOWorkerThread-7:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:11,559 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33848 (no session established for client)
2015-05-21 15:17:11,559 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:12,414 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:12,414 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56285, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:12,414 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56285
2015-05-21 15:17:12,415 [myid:1] - WARN  [NIOWorkerThread-8:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:12,416 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56285 (no session established for client)
2015-05-21 15:17:12,416 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:13,356 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 12800
2015-05-21 15:17:13,356 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:13,356 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:13,357 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:13,357 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:13,358 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:13,358 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:13,357 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 12800
2015-05-21 15:17:13,358 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:13,359 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:13,359 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:13,359 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:13,578 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:13,578 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33856, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:13,578 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33856
2015-05-21 15:17:13,580 [myid:0] - WARN  [NIOWorkerThread-8:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:13,580 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33856 (no session established for client)
2015-05-21 15:17:13,580 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:14,152 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:14,152 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56293, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:14,152 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56293
2015-05-21 15:17:14,153 [myid:1] - WARN  [NIOWorkerThread-9:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:14,153 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56293 (no session established for client)
2015-05-21 15:17:14,154 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:14,949 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:14,949 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33858, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:14,949 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33858
2015-05-21 15:17:14,950 [myid:0] - WARN  [NIOWorkerThread-9:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:14,951 [myid:0] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33858 (no session established for client)
2015-05-21 15:17:14,951 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:15,462 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:15,463 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56295, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:15,463 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56295
2015-05-21 15:17:15,464 [myid:1] - WARN  [NIOWorkerThread-10:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:15,464 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56295 (no session established for client)
2015-05-21 15:17:15,465 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:16,845 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:16,845 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33860, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:16,845 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33860
2015-05-21 15:17:16,846 [myid:0] - WARN  [NIOWorkerThread-10:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:16,846 [myid:0] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33860 (no session established for client)
2015-05-21 15:17:16,847 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:16,861 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:16,862 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56297, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:16,862 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56297
2015-05-21 15:17:16,863 [myid:1] - WARN  [NIOWorkerThread-11:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:16,863 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56297 (no session established for client)
2015-05-21 15:17:16,864 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:18,352 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:18,353 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33862, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:18,353 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33862
2015-05-21 15:17:18,354 [myid:0] - WARN  [NIOWorkerThread-11:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:18,354 [myid:0] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33862 (no session established for client)
2015-05-21 15:17:18,354 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:18,442 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:18,443 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56299, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:18,443 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56299
2015-05-21 15:17:18,443 [myid:1] - WARN  [NIOWorkerThread-12:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:18,443 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56299 (no session established for client)
2015-05-21 15:17:18,444 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:19,981 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:19,981 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33864, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:19,981 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33864
2015-05-21 15:17:19,983 [myid:0] - WARN  [NIOWorkerThread-12:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:19,983 [myid:0] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33864 (no session established for client)
2015-05-21 15:17:19,983 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:20,275 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:20,276 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56301, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:20,276 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56301
2015-05-21 15:17:20,276 [myid:1] - WARN  [NIOWorkerThread-13:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:20,277 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56301 (no session established for client)
2015-05-21 15:17:20,277 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:21,168 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:21,168 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33866, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:21,168 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33866
2015-05-21 15:17:21,170 [myid:0] - WARN  [NIOWorkerThread-13:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:21,170 [myid:0] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33866 (no session established for client)
2015-05-21 15:17:21,170 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:22,142 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:22,142 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56303, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:22,142 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56303
2015-05-21 15:17:22,143 [myid:1] - WARN  [NIOWorkerThread-14:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:22,144 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56303 (no session established for client)
2015-05-21 15:17:22,144 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:23,094 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:23,094 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33868, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:23,094 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33868
2015-05-21 15:17:23,096 [myid:0] - WARN  [NIOWorkerThread-14:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:23,096 [myid:0] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33868 (no session established for client)
2015-05-21 15:17:23,096 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:23,664 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:23,664 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56305, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:23,664 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56305
2015-05-21 15:17:23,665 [myid:1] - WARN  [NIOWorkerThread-15:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:23,665 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56305 (no session established for client)
2015-05-21 15:17:23,666 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:24,390 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:24,390 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33870, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:24,390 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33870
2015-05-21 15:17:24,390 [myid:0] - WARN  [NIOWorkerThread-15:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:24,390 [myid:0] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33870 (no session established for client)
2015-05-21 15:17:24,391 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:25,373 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:25,374 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56307, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:25,374 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56307
2015-05-21 15:17:25,384 [myid:1] - WARN  [NIOWorkerThread-16:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:25,384 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56307 (no session established for client)
2015-05-21 15:17:25,384 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:26,161 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:26,161 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:26,162 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:26,162 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:26,162 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 25600
2015-05-21 15:17:26,162 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:26,162 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 25600
2015-05-21 15:17:26,163 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:26,164 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:26,163 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:26,165 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:26,165 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:26,312 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:26,313 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33878, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:26,313 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33878
2015-05-21 15:17:26,314 [myid:0] - WARN  [NIOWorkerThread-16:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:26,314 [myid:0] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33878 (no session established for client)
2015-05-21 15:17:26,314 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:27,439 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:27,439 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56315, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:27,439 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56315
2015-05-21 15:17:27,440 [myid:1] - WARN  [NIOWorkerThread-17:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:27,440 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56315 (no session established for client)
2015-05-21 15:17:27,441 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:28,160 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:28,160 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33880, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:28,160 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33880
2015-05-21 15:17:28,161 [myid:0] - WARN  [NIOWorkerThread-17:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:28,161 [myid:0] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33880 (no session established for client)
2015-05-21 15:17:28,162 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:28,955 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:28,956 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56317, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:28,956 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56317
2015-05-21 15:17:28,957 [myid:1] - WARN  [NIOWorkerThread-18:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:28,957 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56317 (no session established for client)
2015-05-21 15:17:28,957 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:29,465 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:29,466 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33882, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:29,466 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33882
2015-05-21 15:17:29,467 [myid:0] - WARN  [NIOWorkerThread-18:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:29,467 [myid:0] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33882 (no session established for client)
2015-05-21 15:17:29,467 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:30,866 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:30,867 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56319, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:30,867 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56319
2015-05-21 15:17:30,868 [myid:1] - WARN  [NIOWorkerThread-19:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:30,868 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56319 (no session established for client)
2015-05-21 15:17:30,869 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:31,205 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:31,206 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33884, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:31,206 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33884
2015-05-21 15:17:31,207 [myid:0] - WARN  [NIOWorkerThread-19:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:31,207 [myid:0] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33884 (no session established for client)
2015-05-21 15:17:31,207 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:32,626 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:32,627 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33885
2015-05-21 15:17:32,627 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33885, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:32,628 [myid:0] - WARN  [NIOWorkerThread-20:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:32,628 [myid:0] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33885 (no session established for client)
2015-05-21 15:17:32,628 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:32,662 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:32,663 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56322, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:32,663 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56322
2015-05-21 15:17:32,664 [myid:1] - WARN  [NIOWorkerThread-20:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:32,664 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56322 (no session established for client)
2015-05-21 15:17:32,664 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:34,212 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:34,212 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56323
2015-05-21 15:17:34,212 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56323, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:34,213 [myid:1] - WARN  [NIOWorkerThread-21:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:34,214 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56323 (no session established for client)
2015-05-21 15:17:34,214 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:34,594 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:34,594 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33888, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:34,594 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33888
2015-05-21 15:17:34,596 [myid:0] - WARN  [NIOWorkerThread-21:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:34,596 [myid:0] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33888 (no session established for client)
2015-05-21 15:17:34,596 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:35,585 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:35,586 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56325
2015-05-21 15:17:35,586 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56325, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:35,587 [myid:1] - WARN  [NIOWorkerThread-22:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:35,587 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56325 (no session established for client)
2015-05-21 15:17:35,588 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:35,794 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:35,794 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33890, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:35,794 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33890
2015-05-21 15:17:35,795 [myid:0] - WARN  [NIOWorkerThread-22:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:35,796 [myid:0] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33890 (no session established for client)
2015-05-21 15:17:35,796 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:36,944 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:36,944 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33891, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:36,944 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33891
2015-05-21 15:17:36,945 [myid:0] - WARN  [NIOWorkerThread-23:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:36,945 [myid:0] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33891 (no session established for client)
2015-05-21 15:17:36,946 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:37,632 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:37,633 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56328
2015-05-21 15:17:37,633 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56328, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:37,634 [myid:1] - WARN  [NIOWorkerThread-23:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:37,634 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56328 (no session established for client)
2015-05-21 15:17:37,634 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:38,089 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:38,090 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33893, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:38,090 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33893
2015-05-21 15:17:38,091 [myid:0] - WARN  [NIOWorkerThread-24:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:38,091 [myid:0] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33893 (no session established for client)
2015-05-21 15:17:38,091 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:39,450 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:39,451 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56330
2015-05-21 15:17:39,451 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56330, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:39,452 [myid:1] - WARN  [NIOWorkerThread-24:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:39,452 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56330 (no session established for client)
2015-05-21 15:17:39,452 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:39,774 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:39,775 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33895, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:39,775 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33895
2015-05-21 15:17:39,776 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:39,776 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33895 (no session established for client)
2015-05-21 15:17:39,776 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:41,324 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:41,325 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56332
2015-05-21 15:17:41,325 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56332, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:41,325 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:41,326 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56332 (no session established for client)
2015-05-21 15:17:41,326 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:41,499 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:41,499 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33897
2015-05-21 15:17:41,499 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33897, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:41,500 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:41,500 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33897 (no session established for client)
2015-05-21 15:17:41,500 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:42,646 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:42,647 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33898, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:42,647 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33898
2015-05-21 15:17:42,648 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:42,648 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33898 (no session established for client)
2015-05-21 15:17:42,648 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:43,359 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:43,359 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56335
2015-05-21 15:17:43,359 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56335, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:43,360 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:43,360 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56335 (no session established for client)
2015-05-21 15:17:43,360 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:44,594 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:44,594 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33900, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:44,594 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33900
2015-05-21 15:17:44,595 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:44,595 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33900 (no session established for client)
2015-05-21 15:17:44,596 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:44,640 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:44,641 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56337
2015-05-21 15:17:44,641 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56337, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:44,641 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:44,642 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56337 (no session established for client)
2015-05-21 15:17:44,642 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:46,139 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:46,139 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56338, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:46,139 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56338
2015-05-21 15:17:46,140 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:46,140 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56338 (no session established for client)
2015-05-21 15:17:46,141 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:46,300 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:46,301 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33903, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:46,301 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33903
2015-05-21 15:17:46,302 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:46,302 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33903 (no session established for client)
2015-05-21 15:17:46,302 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:47,542 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:47,543 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56340, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:47,543 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56340
2015-05-21 15:17:47,544 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:47,544 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56340 (no session established for client)
2015-05-21 15:17:47,544 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:48,088 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:48,088 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33905, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:48,088 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33905
2015-05-21 15:17:48,089 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:48,089 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33905 (no session established for client)
2015-05-21 15:17:48,090 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:49,444 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:49,444 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56342
2015-05-21 15:17:49,444 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56342, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:49,445 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:49,445 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56342 (no session established for client)
2015-05-21 15:17:49,445 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:50,014 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:50,015 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33907, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:50,015 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33907
2015-05-21 15:17:50,016 [myid:0] - WARN  [NIOWorkerThread-7:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:50,016 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33907 (no session established for client)
2015-05-21 15:17:50,016 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:50,920 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:50,921 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56344
2015-05-21 15:17:50,921 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56344, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:50,922 [myid:1] - WARN  [NIOWorkerThread-7:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:50,922 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56344 (no session established for client)
2015-05-21 15:17:50,922 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:51,430 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:51,430 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33909, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:51,430 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33909
2015-05-21 15:17:51,431 [myid:0] - WARN  [NIOWorkerThread-8:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:51,431 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33909 (no session established for client)
2015-05-21 15:17:51,432 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:51,766 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):FastLeaderElection@923] - Notification time out: 51200
2015-05-21 15:17:51,766 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:51,766 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:51,767 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:51,768 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 2 at election address localhost/127.0.0.1:11283
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:51,768 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:51,769 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11286
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:51,768 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):FastLeaderElection@923] - Notification time out: 51200
2015-05-21 15:17:51,769 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11289
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:17:51,770 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:17:52,577 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:52,578 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33916, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:52,578 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33916
2015-05-21 15:17:52,579 [myid:0] - WARN  [NIOWorkerThread-9:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:52,579 [myid:0] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33916 (no session established for client)
2015-05-21 15:17:52,579 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:52,772 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:52,772 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56353, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:52,772 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56353
2015-05-21 15:17:52,773 [myid:1] - WARN  [NIOWorkerThread-8:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:52,773 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56353 (no session established for client)
2015-05-21 15:17:52,773 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:54,527 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:54,527 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33918, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:54,527 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33918
2015-05-21 15:17:54,528 [myid:0] - WARN  [NIOWorkerThread-10:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:54,529 [myid:0] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33918 (no session established for client)
2015-05-21 15:17:54,529 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:54,605 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:54,606 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56355, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:54,606 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56355
2015-05-21 15:17:54,606 [myid:1] - WARN  [NIOWorkerThread-9:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:54,607 [myid:1] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56355 (no session established for client)
2015-05-21 15:17:54,607 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:56,326 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:56,326 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56356, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:56,326 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56356
2015-05-21 15:17:56,327 [myid:1] - WARN  [NIOWorkerThread-10:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:56,327 [myid:1] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56356 (no session established for client)
2015-05-21 15:17:56,328 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:56,622 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:56,622 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33921, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:56,622 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33921
2015-05-21 15:17:56,623 [myid:0] - WARN  [NIOWorkerThread-11:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:56,623 [myid:0] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33921 (no session established for client)
2015-05-21 15:17:56,623 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:57,629 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:57,630 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56358, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:57,630 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56358
2015-05-21 15:17:57,631 [myid:1] - WARN  [NIOWorkerThread-11:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:57,631 [myid:1] - INFO  [NIOWorkerThread-11:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56358 (no session established for client)
2015-05-21 15:17:57,631 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:58,236 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:58,237 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33923, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:58,237 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33923
2015-05-21 15:17:58,237 [myid:0] - WARN  [NIOWorkerThread-12:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:58,238 [myid:0] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33923 (no session established for client)
2015-05-21 15:17:58,238 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:59,621 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:59,622 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56360, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:17:59,622 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56360
2015-05-21 15:17:59,622 [myid:1] - WARN  [NIOWorkerThread-12:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:59,623 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56360 (no session established for client)
2015-05-21 15:17:59,623 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:17:59,977 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:17:59,977 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33925, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:17:59,977 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33925
2015-05-21 15:17:59,978 [myid:0] - WARN  [NIOWorkerThread-13:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:17:59,978 [myid:0] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33925 (no session established for client)
2015-05-21 15:17:59,978 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:00,691 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:00,692 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33926
2015-05-21 15:18:00,693 [myid:0] - INFO  [NIOWorkerThread-14:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33926
2015-05-21 15:18:00,693 [myid:0] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33926 (no session established for client)
2015-05-21 15:18:00,943 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:00,944 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33927
2015-05-21 15:18:00,945 [myid:0] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33927
2015-05-21 15:18:00,945 [myid:0] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33927 (no session established for client)
2015-05-21 15:18:01,195 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:01,195 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:01,195 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56364
2015-05-21 15:18:01,195 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56364, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:18:01,196 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33929
2015-05-21 15:18:01,196 [myid:1] - WARN  [NIOWorkerThread-13:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:01,196 [myid:1] - INFO  [NIOWorkerThread-13:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56364 (no session established for client)
2015-05-21 15:18:01,196 [myid:0] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33929
2015-05-21 15:18:01,196 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:01,196 [myid:0] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33929 (no session established for client)
2015-05-21 15:18:01,446 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:01,447 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33930
2015-05-21 15:18:01,448 [myid:0] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33930
2015-05-21 15:18:01,448 [myid:0] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33930 (no session established for client)
2015-05-21 15:18:01,699 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:01,699 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33931
2015-05-21 15:18:01,700 [myid:0] - INFO  [NIOWorkerThread-18:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33931
2015-05-21 15:18:01,700 [myid:0] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33931 (no session established for client)
2015-05-21 15:18:01,951 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:01,951 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33932
2015-05-21 15:18:01,952 [myid:0] - INFO  [NIOWorkerThread-19:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33932
2015-05-21 15:18:01,952 [myid:0] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33932 (no session established for client)
2015-05-21 15:18:02,030 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:02,031 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33933, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:18:02,031 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33933
2015-05-21 15:18:02,032 [myid:0] - WARN  [NIOWorkerThread-20:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:02,032 [myid:0] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33933 (no session established for client)
2015-05-21 15:18:02,032 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:02,203 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:02,203 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33934
2015-05-21 15:18:02,204 [myid:0] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33934
2015-05-21 15:18:02,204 [myid:0] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33934 (no session established for client)
2015-05-21 15:18:02,455 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:02,455 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33935
2015-05-21 15:18:02,456 [myid:0] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33935
2015-05-21 15:18:02,457 [myid:0] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33935 (no session established for client)
2015-05-21 15:18:02,707 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:02,707 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33936
2015-05-21 15:18:02,708 [myid:0] - INFO  [NIOWorkerThread-23:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33936
2015-05-21 15:18:02,709 [myid:0] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33936 (no session established for client)
2015-05-21 15:18:02,959 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:02,959 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33937
2015-05-21 15:18:02,960 [myid:0] - INFO  [NIOWorkerThread-24:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33937
2015-05-21 15:18:02,961 [myid:0] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33937 (no session established for client)
2015-05-21 15:18:03,211 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:03,212 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33938
2015-05-21 15:18:03,212 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33938
2015-05-21 15:18:03,213 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33938 (no session established for client)
2015-05-21 15:18:03,263 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:03,263 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56375
2015-05-21 15:18:03,263 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56375, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:18:03,264 [myid:1] - WARN  [NIOWorkerThread-14:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:03,264 [myid:1] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56375 (no session established for client)
2015-05-21 15:18:03,264 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:03,463 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:03,464 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33940
2015-05-21 15:18:03,464 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33940
2015-05-21 15:18:03,465 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33940 (no session established for client)
2015-05-21 15:18:03,605 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:03,606 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33941, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:18:03,606 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33941
2015-05-21 15:18:03,606 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:03,607 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33941 (no session established for client)
2015-05-21 15:18:03,607 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:03,715 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11275
2015-05-21 15:18:03,716 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33942
2015-05-21 15:18:03,716 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:33942
2015-05-21 15:18:03,717 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33942 (no session established for client)
2015-05-21 15:18:03,717 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:03,718 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56379
2015-05-21 15:18:03,718 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56379
2015-05-21 15:18:03,719 [myid:1] - INFO  [NIOWorkerThread-15:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56379 (no session established for client)
2015-05-21 15:18:03,969 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:03,970 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56380
2015-05-21 15:18:03,970 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56380
2015-05-21 15:18:03,971 [myid:1] - INFO  [NIOWorkerThread-16:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56380 (no session established for client)
2015-05-21 15:18:04,221 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:04,222 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56381
2015-05-21 15:18:04,222 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56381
2015-05-21 15:18:04,223 [myid:1] - INFO  [NIOWorkerThread-17:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56381 (no session established for client)
2015-05-21 15:18:04,457 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:04,458 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56382, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:18:04,458 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56382
2015-05-21 15:18:04,458 [myid:1] - WARN  [NIOWorkerThread-18:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:04,459 [myid:1] - INFO  [NIOWorkerThread-18:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56382 (no session established for client)
2015-05-21 15:18:04,459 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:04,473 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:04,474 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56383
2015-05-21 15:18:04,475 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56383
2015-05-21 15:18:04,475 [myid:1] - INFO  [NIOWorkerThread-19:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56383 (no session established for client)
2015-05-21 15:18:04,725 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:04,726 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56384
2015-05-21 15:18:04,727 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56384
2015-05-21 15:18:04,727 [myid:1] - INFO  [NIOWorkerThread-20:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56384 (no session established for client)
2015-05-21 15:18:04,978 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:04,978 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56385
2015-05-21 15:18:04,979 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56385
2015-05-21 15:18:04,979 [myid:1] - INFO  [NIOWorkerThread-21:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56385 (no session established for client)
2015-05-21 15:18:05,156 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:05,156 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33950, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:18:05,156 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33950
2015-05-21 15:18:05,157 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:05,157 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33950 (no session established for client)
2015-05-21 15:18:05,157 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:05,230 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:05,230 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56387
2015-05-21 15:18:05,231 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56387
2015-05-21 15:18:05,232 [myid:1] - INFO  [NIOWorkerThread-22:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56387 (no session established for client)
2015-05-21 15:18:05,482 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:05,482 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56388
2015-05-21 15:18:05,483 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56388
2015-05-21 15:18:05,484 [myid:1] - INFO  [NIOWorkerThread-23:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56388 (no session established for client)
2015-05-21 15:18:05,734 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:05,735 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56389
2015-05-21 15:18:05,735 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56389
2015-05-21 15:18:05,736 [myid:1] - INFO  [NIOWorkerThread-24:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56389 (no session established for client)
2015-05-21 15:18:05,986 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:05,987 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56390
2015-05-21 15:18:05,987 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56390
2015-05-21 15:18:05,988 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56390 (no session established for client)
2015-05-21 15:18:06,238 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:06,238 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56391
2015-05-21 15:18:06,239 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56391
2015-05-21 15:18:06,239 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56391 (no session established for client)
2015-05-21 15:18:06,462 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:06,462 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56392, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:18:06,462 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56392
2015-05-21 15:18:06,463 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:06,463 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56392 (no session established for client)
2015-05-21 15:18:06,463 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1211] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2015-05-21 15:18:06,490 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:06,490 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56393
2015-05-21 15:18:06,491 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56393
2015-05-21 15:18:06,491 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56393 (no session established for client)
2015-05-21 15:18:06,742 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11278
2015-05-21 15:18:06,742 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56394
2015-05-21 15:18:06,743 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56394
2015-05-21 15:18:06,743 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56394 (no session established for client)
2015-05-21 15:18:07,184 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11275. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:07,185 [myid:] - INFO  [main-SendThread(127.0.0.1:11275):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:33959, server: 127.0.0.1/127.0.0.1:11275
2015-05-21 15:18:07,185 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33959
2015-05-21 15:18:07,186 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:07,186 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:33959 (no session established for client)
2015-05-21 15:18:07,286 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x0 closed
2015-05-21 15:18:07,287 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:18:07,287 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled)
2015-05-21 15:18:07,287 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:18:07,289 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:07,289 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11275:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:18:07,290 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:07,290 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:18:07,290 [myid:0] - INFO  [localhost/127.0.0.1:11277:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:07,291 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:18:07,291 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:07,291 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:07,291 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:18:07,291 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:07,291 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled)
2015-05-21 15:18:07,291 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:07,292 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:18:07,292 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled) to exit thread
2015-05-21 15:18:07,292 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:07,292 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:18:07,293 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:07,293 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:18:07,293 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:18:07,294 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11275)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:18:07,975 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11278. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:07,976 [myid:] - INFO  [main-SendThread(127.0.0.1:11278):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56396, server: 127.0.0.1/127.0.0.1:11278
2015-05-21 15:18:07,976 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56396
2015-05-21 15:18:07,977 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Exception causing close of session 0x0: ZooKeeperServer not running
2015-05-21 15:18:07,977 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56396 (no session established for client)
2015-05-21 15:18:08,077 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x0 closed
2015-05-21 15:18:08,078 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:18:08,078 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled)
2015-05-21 15:18:08,079 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:18:08,080 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:08,080 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:08,081 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11278:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:18:08,081 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:18:08,081 [myid:1] - INFO  [localhost/127.0.0.1:11280:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:08,082 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):QuorumPeer@943] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:903)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:941)
2015-05-21 15:18:08,082 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled)
2015-05-21 15:18:08,082 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:18:08,082 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled) to exit thread
2015-05-21 15:18:08,083 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:18:08,083 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:18:08,083 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11278)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:18:08,084 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 17786
2015-05-21 15:18:08,084 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 8
2015-05-21 15:18:08,084 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testNextConfigUnreachable
2015-05-21 15:18:08,084 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testNextConfigUnreachable
2015-05-21 15:18:08,084 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testNextConfigUnreachable
2015-05-21 15:18:08,085 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testNextConfigAlreadyActive
2015-05-21 15:18:08,085 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testNextConfigAlreadyActive
2015-05-21 15:18:08,085 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11290
2015-05-21 15:18:08,085 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11291
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11292
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11293
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11294
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11295
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11296
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11297
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11298
2015-05-21 15:18:08,086 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11299
2015-05-21 15:18:08,087 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11300
2015-05-21 15:18:08,087 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11301
2015-05-21 15:18:08,087 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11302
2015-05-21 15:18:08,087 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11303
2015-05-21 15:18:08,087 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11304
2015-05-21 15:18:08,088 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test7763379943234599945.junit.dir clientPort = 11296 adminServerPort = 8080
2015-05-21 15:18:08,089 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11296 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@36c5d117
2015-05-21 15:18:08,089 [myid:] - INFO  [Thread-42:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test7763379943234599945.junit.dir/zoo.cfg
2015-05-21 15:18:08,089 [myid:] - INFO  [Thread-42:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11296
2015-05-21 15:18:08,089 [myid:] - INFO  [Thread-42:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:18:08,089 [myid:] - INFO  [main-SendThread(127.0.0.1:11296):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11296. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:08,090 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6985241355263263842.junit.dir clientPort = 11299 adminServerPort = 8080
2015-05-21 15:18:08,090 [myid:] - WARN  [main-SendThread(127.0.0.1:11296):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:18:08,090 [myid:2] - INFO  [Thread-42:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:18:08,090 [myid:2] - INFO  [Thread-42:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:18:08,090 [myid:2] - INFO  [Thread-42:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:18:08,090 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11299 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@36c5d117
2015-05-21 15:18:08,090 [myid:] - INFO  [Thread-43:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6985241355263263842.junit.dir/zoo.cfg
2015-05-21 15:18:08,091 [myid:2] - WARN  [Thread-42:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,091 [myid:2] - INFO  [Thread-42:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:18:08,091 [myid:] - INFO  [Thread-43:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11299
2015-05-21 15:18:08,091 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 4 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6400271175459399115.junit.dir clientPort = 11302 adminServerPort = 8080
2015-05-21 15:18:08,091 [myid:] - INFO  [main-SendThread(127.0.0.1:11299):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11299. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:08,091 [myid:2] - INFO  [Thread-42:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:18:08,091 [myid:] - INFO  [Thread-43:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:18:08,092 [myid:2] - INFO  [Thread-42:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11296
2015-05-21 15:18:08,092 [myid:] - WARN  [main-SendThread(127.0.0.1:11299):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:18:08,092 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11302 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@36c5d117
2015-05-21 15:18:08,092 [myid:2] - INFO  [Thread-42:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:18:08,092 [myid:2] - INFO  [Thread-42:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:18:08,092 [myid:] - INFO  [Thread-44:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6400271175459399115.junit.dir/zoo.cfg
2015-05-21 15:18:08,092 [myid:2] - INFO  [Thread-42:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:18:08,092 [myid:2] - INFO  [Thread-42:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:18:08,092 [myid:2] - INFO  [Thread-42:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:18:08,092 [myid:] - INFO  [main-SendThread(127.0.0.1:11302):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11302. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:08,092 [myid:3] - INFO  [Thread-43:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:18:08,092 [myid:2] - INFO  [Thread-42:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:18:08,092 [myid:] - INFO  [Thread-44:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11302
2015-05-21 15:18:08,092 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11296
2015-05-21 15:18:08,093 [myid:] - INFO  [Thread-44:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:18:08,093 [myid:] - WARN  [main-SendThread(127.0.0.1:11302):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:18:08,093 [myid:2] - INFO  [Thread-42:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:08,093 [myid:3] - INFO  [Thread-43:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:18:08,093 [myid:3] - INFO  [Thread-43:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:18:08,093 [myid:4] - INFO  [Thread-44:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:18:08,093 [myid:4] - INFO  [Thread-44:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:18:08,094 [myid:4] - INFO  [Thread-44:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:18:08,093 [myid:3] - WARN  [Thread-43:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,094 [myid:3] - INFO  [Thread-43:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:18:08,094 [myid:4] - WARN  [Thread-44:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,094 [myid:4] - INFO  [Thread-44:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:18:08,094 [myid:3] - INFO  [Thread-43:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:18:08,094 [myid:4] - INFO  [Thread-44:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:18:08,095 [myid:3] - INFO  [Thread-43:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11299
2015-05-21 15:18:08,095 [myid:4] - INFO  [Thread-44:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11302
2015-05-21 15:18:08,095 [myid:3] - INFO  [Thread-43:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:18:08,095 [myid:4] - INFO  [Thread-44:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:18:08,095 [myid:3] - INFO  [Thread-43:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:18:08,095 [myid:4] - INFO  [Thread-44:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:18:08,096 [myid:3] - INFO  [Thread-43:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:18:08,096 [myid:4] - INFO  [Thread-44:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:18:08,096 [myid:3] - INFO  [Thread-43:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:18:08,096 [myid:4] - INFO  [Thread-44:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:18:08,096 [myid:3] - INFO  [Thread-43:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:18:08,096 [myid:4] - INFO  [Thread-44:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:18:08,096 [myid:3] - INFO  [Thread-43:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:18:08,096 [myid:4] - INFO  [Thread-44:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:18:08,097 [myid:3] - INFO  [Thread-43:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:08,097 [myid:4] - INFO  [Thread-44:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:08,106 [myid:2] - INFO  [Thread-42:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:08,117 [myid:3] - INFO  [Thread-43:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:08,117 [myid:4] - INFO  [Thread-44:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:08,127 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11298
2015-05-21 15:18:08,127 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11296:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57211
2015-05-21 15:18:08,128 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:57211
2015-05-21 15:18:08,128 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57211 (no session established for client)
2015-05-21 15:18:08,129 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:18:08,129 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x0
2015-05-21 15:18:08,129 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11292
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,130 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11295
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,131 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,131 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 3 at election address localhost/127.0.0.1:11301
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,131 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 4 at election address localhost/127.0.0.1:11304
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,134 [myid:4] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11304
2015-05-21 15:18:08,134 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11301
2015-05-21 15:18:08,136 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:18:08,137 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):FastLeaderElection@889] - New election. My id =  4, proposed zxid=0x0
2015-05-21 15:18:08,137 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:18:08,137 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):FastLeaderElection@889] - New election. My id =  3, proposed zxid=0x0
2015-05-21 15:18:08,137 [myid:4] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11292
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,138 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11292
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,138 [myid:4] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11295
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,138 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11295
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,138 [myid:2] - INFO  [localhost/127.0.0.1:11298:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43889
2015-05-21 15:18:08,139 [myid:2] - INFO  [localhost/127.0.0.1:11298:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43890
2015-05-21 15:18:08,139 [myid:3] - INFO  [localhost/127.0.0.1:11301:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47336
2015-05-21 15:18:08,139 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,139 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,140 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,140 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,140 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,140 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11292
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,140 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,140 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 4 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,140 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11295
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,140 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,140 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 0 at election address localhost/127.0.0.1:11292
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,140 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,141 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11295
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:08,141 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,141 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,141 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,141 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,141 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:08,342 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
2015-05-21 15:18:08,342 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-05-21 15:18:08,342 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:18:08,342 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:18:08,342 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=LeaderElection]
2015-05-21 15:18:08,342 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:18:08,342 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:18:08,342 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:18:08,342 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):QuorumPeer@975] - LEADING
2015-05-21 15:18:08,342 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test7763379943234599945.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test7763379943234599945.junit.dir/data/version-2
2015-05-21 15:18:08,342 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:18:08,342 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:18:08,342 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:18:08,342 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6985241355263263842.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6985241355263263842.junit.dir/data/version-2
2015-05-21 15:18:08,343 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:18:08,343 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-05-21 15:18:08,343 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6400271175459399115.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6400271175459399115.junit.dir/data/version-2
2015-05-21 15:18:08,343 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):Leader@410] - LEADING - LEADER ELECTION TOOK - 1
2015-05-21 15:18:08,348 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6400271175459399115.junit.dir/data/version-2/snapshot.0
2015-05-21 15:18:08,349 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60540:LearnerHandler@361] - Follower sid: 2 : info : localhost:11297:11298:participant;localhost:11296
2015-05-21 15:18:08,349 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60541:LearnerHandler@361] - Follower sid: 3 : info : localhost:11300:11301:participant;localhost:11299
2015-05-21 15:18:08,375 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60541:LearnerHandler@659] - Synchronizing with Follower sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:18:08,375 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60540:LearnerHandler@659] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2015-05-21 15:18:08,376 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60540:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 2
2015-05-21 15:18:08,376 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60541:LearnerHandler@703] - Sending DIFF zxid=0x0 for peer sid: 3
2015-05-21 15:18:08,376 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:18:08,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
2015-05-21 15:18:08,377 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:18:08,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:18:08,377 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test7763379943234599945.junit.dir/data/version-2/snapshot.0
2015-05-21 15:18:08,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/mitake/github/zookeeper.git/build/test/tmp/test6985241355263263842.junit.dir/data/version-2/snapshot.0
2015-05-21 15:18:08,378 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11296
2015-05-21 15:18:08,378 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11296:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57229
2015-05-21 15:18:08,379 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:57229
2015-05-21 15:18:08,379 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57229 (no session established for client)
2015-05-21 15:18:08,396 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):Leader@1243] - Have quorum of supporters, sids: [ [2, 3, 4] ]; starting up and setting last processed zxid: 0x100000000
2015-05-21 15:18:08,397 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:18:08,398 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:18:08,398 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:18:08,398 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:18:08,398 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:18:08,629 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11296
2015-05-21 15:18:08,630 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11296:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57230
2015-05-21 15:18:08,631 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:57230
2015-05-21 15:18:08,631 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:18:08,632 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57230 (no session established for client)
2015-05-21 15:18:08,632 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11299
2015-05-21 15:18:08,633 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11299:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56369
2015-05-21 15:18:08,634 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:56369
2015-05-21 15:18:08,634 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:18:08,634 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56369 (no session established for client)
2015-05-21 15:18:08,635 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11302
2015-05-21 15:18:08,635 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11302:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35003
2015-05-21 15:18:08,636 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:35003
2015-05-21 15:18:08,636 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:18:08,636 [myid:4] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35003 (no session established for client)
2015-05-21 15:18:09,191 [myid:] - INFO  [main-SendThread(127.0.0.1:11296):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11296. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:09,191 [myid:] - INFO  [main-SendThread(127.0.0.1:11296):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:57233, server: 127.0.0.1/127.0.0.1:11296
2015-05-21 15:18:09,191 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11296:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:57233
2015-05-21 15:18:09,192 [myid:2] - INFO  [NIOWorkerThread-4:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:57233
2015-05-21 15:18:09,192 [myid:] - INFO  [main-SendThread(127.0.0.1:11299):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11299. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:09,193 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11299:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:56372
2015-05-21 15:18:09,193 [myid:] - INFO  [main-SendThread(127.0.0.1:11299):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:56372, server: 127.0.0.1/127.0.0.1:11299
2015-05-21 15:18:09,193 [myid:4] - INFO  [SyncThread:4:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:18:09,193 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:18:09,193 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-05-21 15:18:09,193 [myid:3] - INFO  [SyncThread:3:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:18:09,193 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-05-21 15:18:09,193 [myid:] - INFO  [main-SendThread(127.0.0.1:11302):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11302. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:09,194 [myid:3] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:56372
2015-05-21 15:18:09,194 [myid:] - INFO  [main-SendThread(127.0.0.1:11302):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:35006, server: 127.0.0.1/127.0.0.1:11302
2015-05-21 15:18:09,194 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11302:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:35006
2015-05-21 15:18:09,194 [myid:4] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:35006
2015-05-21 15:18:09,210 [myid:2] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x200062ac4990000 with negotiated timeout 30000 for client /127.0.0.1:57233
2015-05-21 15:18:09,210 [myid:] - INFO  [main-SendThread(127.0.0.1:11296):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11296, sessionid = 0x200062ac4990000, negotiated timeout = 30000
2015-05-21 15:18:09,216 [myid:3] - INFO  [CommitProcWorkThread-9:ZooKeeperServer@645] - Established session 0x300062ac49a0000 with negotiated timeout 30000 for client /127.0.0.1:56372
2015-05-21 15:18:09,216 [myid:4] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x400062ac4ad0000 with negotiated timeout 30000 for client /127.0.0.1:35006
2015-05-21 15:18:09,216 [myid:] - INFO  [main-SendThread(127.0.0.1:11299):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11299, sessionid = 0x300062ac49a0000, negotiated timeout = 30000
2015-05-21 15:18:09,216 [myid:] - INFO  [main-SendThread(127.0.0.1:11302):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11302, sessionid = 0x400062ac4ad0000, negotiated timeout = 30000
2015-05-21 15:18:09,251 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test6017469189908213534.junit.dir clientPort = 11290 adminServerPort = 8080
2015-05-21 15:18:09,252 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11290 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@36c5d117
2015-05-21 15:18:09,252 [myid:] - INFO  [Thread-47:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test6017469189908213534.junit.dir/zoo.cfg
2015-05-21 15:18:09,253 [myid:] - INFO  [Thread-47:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11290
2015-05-21 15:18:09,253 [myid:] - INFO  [Thread-47:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:18:09,253 [myid:] - INFO  [main-SendThread(127.0.0.1:11290):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11290. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:09,253 [myid:] - WARN  [Thread-47:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:18:09,253 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/mitake/github/zookeeper.git/build/test/tmp/test3176292431679947645.junit.dir clientPort = 11293 adminServerPort = 8080
2015-05-21 15:18:09,253 [myid:] - WARN  [main-SendThread(127.0.0.1:11290):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:18:09,253 [myid:0] - INFO  [Thread-47:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:18:09,253 [myid:0] - INFO  [Thread-47:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:18:09,253 [myid:0] - INFO  [Thread-47:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:18:09,253 [myid:] - INFO  [Thread-48:QuorumPeerConfig@114] - Reading configuration from: /home/mitake/github/zookeeper.git/build/test/tmp/test3176292431679947645.junit.dir/zoo.cfg
2015-05-21 15:18:09,253 [myid:] - INFO  [main:ZooKeeper@717] - Initiating client connection, connectString=127.0.0.1:11293 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@36c5d117
2015-05-21 15:18:09,254 [myid:0] - WARN  [Thread-47:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:09,254 [myid:] - INFO  [Thread-48:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11293
2015-05-21 15:18:09,254 [myid:] - INFO  [Thread-48:QuorumPeerConfig@320] - secureClientPort is not set
2015-05-21 15:18:09,254 [myid:0] - INFO  [Thread-47:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:18:09,254 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11290
2015-05-21 15:18:09,254 [myid:] - WARN  [Thread-48:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-05-21 15:18:09,254 [myid:0] - INFO  [Thread-47:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:18:09,254 [myid:] - INFO  [main:ClientBase@249] - server 127.0.0.1:11290 not up
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at java.net.Socket.connect(Socket.java:528)
	at java.net.Socket.<init>(Socket.java:425)
	at java.net.Socket.<init>(Socket.java:208)
	at org.apache.zookeeper.client.FourLetterWordMain.send4LetterWord(FourLetterWordMain.java:74)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:242)
	at org.apache.zookeeper.test.ClientBase.waitForServerUp(ClientBase.java:233)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigAlreadyActive(ReconfigRecoveryTest.java:357)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:18:09,254 [myid:1] - INFO  [Thread-48:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-05-21 15:18:09,254 [myid:1] - INFO  [Thread-48:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-05-21 15:18:09,254 [myid:0] - INFO  [Thread-47:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11290
2015-05-21 15:18:09,254 [myid:1] - INFO  [Thread-48:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-05-21 15:18:09,254 [myid:] - INFO  [main-SendThread(127.0.0.1:11293):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11293. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:09,255 [myid:0] - INFO  [Thread-47:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:18:09,255 [myid:1] - WARN  [Thread-48:QuorumPeerMain@133] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:QuorumPeerMain@136] - Starting quorum peer
2015-05-21 15:18:09,255 [myid:] - WARN  [main-SendThread(127.0.0.1:11293):ClientCnxn$SendThread@1215] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1194)
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2015-05-21 15:18:09,255 [myid:0] - INFO  [Thread-47:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:18:09,255 [myid:0] - INFO  [Thread-47:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11293
2015-05-21 15:18:09,255 [myid:0] - INFO  [Thread-47:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:18:09,255 [myid:0] - INFO  [Thread-47:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:18:09,255 [myid:0] - INFO  [Thread-47:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:QuorumPeer@1181] - Local sessions disabled
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:QuorumPeer@1192] - Local session upgrading disabled
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:QuorumPeer@1159] - tickTime set to 4000
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:QuorumPeer@1203] - minSessionTimeout set to 8000
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:QuorumPeer@1214] - maxSessionTimeout set to 80000
2015-05-21 15:18:09,255 [myid:1] - INFO  [Thread-48:QuorumPeer@1229] - initLimit set to 10
2015-05-21 15:18:09,255 [myid:0] - INFO  [Thread-47:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:09,256 [myid:1] - INFO  [Thread-48:QuorumPeer@645] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:09,267 [myid:0] - INFO  [Thread-47:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:09,277 [myid:1] - INFO  [Thread-48:QuorumPeer@660] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-05-21 15:18:09,286 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11292
2015-05-21 15:18:09,286 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:18:09,286 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:18:09,287 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11295
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:407)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:09,287 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@384] - Cannot open channel to 1 at election address localhost/127.0.0.1:11295
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:369)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:414)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:346)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-05-21 15:18:09,287 [myid:2] - INFO  [localhost/127.0.0.1:11298:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43910
2015-05-21 15:18:09,287 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:18:09,287 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:18:09,288 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:54987
2015-05-21 15:18:09,288 [myid:3] - INFO  [localhost/127.0.0.1:11301:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47357
2015-05-21 15:18:09,288 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 0)
2015-05-21 15:18:09,288 [myid:4] - INFO  [localhost/127.0.0.1:11304:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41151
2015-05-21 15:18:09,288 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 0)
2015-05-21 15:18:09,288 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:54990
2015-05-21 15:18:09,288 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:18:09,288 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@294] - 0 Received version: 200000000 my version: 100000000
2015-05-21 15:18:09,288 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:54991
2015-05-21 15:18:09,289 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:18:09,289 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:18:09,293 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11295
2015-05-21 15:18:09,294 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:18:09,295 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:18:09,295 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:54992
2015-05-21 15:18:09,296 [myid:2] - INFO  [localhost/127.0.0.1:11298:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43917
2015-05-21 15:18:09,296 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:18:09,296 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:18:09,296 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56174
2015-05-21 15:18:09,296 [myid:3] - INFO  [localhost/127.0.0.1:11301:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47364
2015-05-21 15:18:09,296 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 1)
2015-05-21 15:18:09,296 [myid:4] - INFO  [localhost/127.0.0.1:11304:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41159
2015-05-21 15:18:09,296 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56176
2015-05-21 15:18:09,296 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 1)
2015-05-21 15:18:09,297 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:18:09,297 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56178
2015-05-21 15:18:09,297 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:18:09,297 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
2015-05-21 15:18:09,297 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@294] - 1 Received version: 200000000 my version: 100000000
2015-05-21 15:18:09,297 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
2015-05-21 15:18:09,318 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:18:09,319 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:09,319 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,319 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,320 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,319 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,320 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,319 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,319 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,320 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:18:09,319 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:18:09,319 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,321 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,319 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,319 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,321 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,319 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,322 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,319 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:09,322 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,319 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,322 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,319 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,322 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:18:09,319 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,323 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,322 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,322 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:18:09,321 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,321 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,323 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:18:09,320 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:18:09,320 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:18:09,320 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:18:09,320 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:09,324 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11292
2015-05-21 15:18:09,323 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:18:09,323 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,324 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):FastLeaderElection@889] - New election. My id =  0, proposed zxid=0x0
2015-05-21 15:18:09,324 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:18:09,325 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,325 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56179
2015-05-21 15:18:09,325 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (1, 0)
2015-05-21 15:18:09,326 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:55000
2015-05-21 15:18:09,326 [myid:2] - INFO  [localhost/127.0.0.1:11298:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43925
2015-05-21 15:18:09,326 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 0)
2015-05-21 15:18:09,326 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:55002
2015-05-21 15:18:09,326 [myid:3] - INFO  [localhost/127.0.0.1:11301:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47372
2015-05-21 15:18:09,326 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 0)
2015-05-21 15:18:09,327 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:55004
2015-05-21 15:18:09,327 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-05-21 15:18:09,327 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,327 [myid:4] - INFO  [localhost/127.0.0.1:11304:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41167
2015-05-21 15:18:09,328 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 0)
2015-05-21 15:18:09,327 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,328 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,328 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:55006
2015-05-21 15:18:09,328 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,328 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,328 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)200000000 (n.config version)
2015-05-21 15:18:09,328 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,329 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,329 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,329 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,329 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)200000000 (n.config version)
2015-05-21 15:18:09,329 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,330 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@299] - restarting leader election
2015-05-21 15:18:09,330 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,330 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:09,330 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,330 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,330 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:09,330 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
2015-05-21 15:18:09,330 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,330 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,330 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,330 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,330 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,331 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,330 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,331 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,330 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,330 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,331 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,331 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:18:09,331 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,331 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,330 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:18:09,330 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:18:09,330 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:18:09,330 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:18:09,330 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,331 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):QuorumPeer@887] - LOOKING
2015-05-21 15:18:09,330 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,332 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,332 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@550] - My election bind port: localhost/127.0.0.1:11295
2015-05-21 15:18:09,330 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,330 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:18:09,330 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,330 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:09,332 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):FastLeaderElection@889] - New election. My id =  1, proposed zxid=0x0
2015-05-21 15:18:09,332 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,331 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,331 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:18:09,331 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:18:09,331 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:18:09,332 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:55007
2015-05-21 15:18:09,332 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:18:09,332 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:18:09,332 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:09,332 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,332 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:09,333 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:18:09,332 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test6017469189908213534.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test6017469189908213534.junit.dir/data/version-2
2015-05-21 15:18:09,333 [myid:2] - INFO  [localhost/127.0.0.1:11298:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:43932
2015-05-21 15:18:09,333 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (2, 1)
2015-05-21 15:18:09,333 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,333 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 2
2015-05-21 15:18:09,333 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,333 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56189
2015-05-21 15:18:09,333 [myid:3] - INFO  [localhost/127.0.0.1:11301:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:47379
2015-05-21 15:18:09,333 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (3, 1)
2015-05-21 15:18:09,333 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,333 [myid:4] - INFO  [localhost/127.0.0.1:11304:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:41174
2015-05-21 15:18:09,333 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56193
2015-05-21 15:18:09,333 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60579:LearnerHandler@361] - Follower sid: 0 : info : localhost:11291:11292:participant;localhost:11290
2015-05-21 15:18:09,333 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@197] - Have smaller server identifier, so dropping the connection: (4, 1)
2015-05-21 15:18:09,334 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,334 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@556] - Received connection request /127.0.0.1:56194
2015-05-21 15:18:09,334 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,334 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)200000000 (n.config version)
2015-05-21 15:18:09,334 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,334 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,335 [myid:4] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)200000000 (n.config version)
2015-05-21 15:18:09,335 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,335 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,335 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,335 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,336 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@683] - Notification: 2 (message format version), 4 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 4 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)200000000 (n.config version)
2015-05-21 15:18:09,336 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
2015-05-21 15:18:09,336 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):QuorumPeer@963] - FOLLOWING
2015-05-21 15:18:09,336 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
2015-05-21 15:18:09,336 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
2015-05-21 15:18:09,336 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/mitake/github/zookeeper.git/build/test/tmp/test3176292431679947645.junit.dir/data/version-2 snapdir /home/mitake/github/zookeeper.git/build/test/tmp/test3176292431679947645.junit.dir/data/version-2
2015-05-21 15:18:09,336 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
2015-05-21 15:18:09,336 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60583:LearnerHandler@361] - Follower sid: 1 : info : localhost:11294:11295:participant;localhost:11293
2015-05-21 15:18:09,345 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60579:LearnerHandler@659] - Synchronizing with Follower sid: 0 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x0
2015-05-21 15:18:09,345 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60579:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:18:09,346 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60579:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000005, send zxid of db as 0x100000005, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:18:09,346 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:18:09,347 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:18:09,348 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test6017469189908213534.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:18:09,355 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60583:LearnerHandler@659] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x0
2015-05-21 15:18:09,356 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60583:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
2015-05-21 15:18:09,356 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-05-21 15:18:09,356 [myid:4] - INFO  [LearnerHandler-/127.0.0.1:60583:LearnerHandler@434] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000005, send zxid of db as 0x100000005, 1 concurrent snapshots, snapshot was exempt from throttle
2015-05-21 15:18:09,357 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-05-21 15:18:09,357 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/mitake/github/zookeeper.git/build/test/tmp/test3176292431679947645.junit.dir/data/version-2/snapshot.100000005
2015-05-21 15:18:09,363 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:18:09,363 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:18:09,370 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-05-21 15:18:09,371 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 12 worker threads.
2015-05-21 15:18:09,504 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11290
2015-05-21 15:18:09,505 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11290:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44987
2015-05-21 15:18:09,506 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:44987
2015-05-21 15:18:09,506 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:18:09,507 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44987 (no session established for client)
2015-05-21 15:18:09,507 [myid:] - INFO  [main:FourLetterWordMain@63] - connecting to 127.0.0.1 11293
2015-05-21 15:18:09,508 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11293:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47152
2015-05-21 15:18:09,509 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /127.0.0.1:47152
2015-05-21 15:18:09,509 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-05-21 15:18:09,509 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47152 (no session established for client)
2015-05-21 15:18:09,769 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:09,769 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:09,770 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:09,771 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:10,354 [myid:] - INFO  [main-SendThread(127.0.0.1:11290):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11290. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:10,354 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11290:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:44989
2015-05-21 15:18:10,354 [myid:] - INFO  [main-SendThread(127.0.0.1:11290):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:44989, server: 127.0.0.1/127.0.0.1:11290
2015-05-21 15:18:10,355 [myid:] - INFO  [main-SendThread(127.0.0.1:11293):ClientCnxn$SendThread@1096] - Opening socket connection to server 127.0.0.1/127.0.0.1:11293. Will not attempt to authenticate using SASL (unknown error)
2015-05-21 15:18:10,356 [myid:0] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:44989
2015-05-21 15:18:10,357 [myid:] - INFO  [main-SendThread(127.0.0.1:11293):ClientCnxn$SendThread@968] - Socket connection established, initiating session, client: /127.0.0.1:47154, server: 127.0.0.1/127.0.0.1:11293
2015-05-21 15:18:10,357 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11293:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:47154
2015-05-21 15:18:10,358 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):Follower@122] - Got zxid 0x100000006 expected 0x1
2015-05-21 15:18:10,358 [myid:1] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:47154
2015-05-21 15:18:10,359 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000006
2015-05-21 15:18:10,358 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):Follower@122] - Got zxid 0x100000006 expected 0x1
2015-05-21 15:18:10,359 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000006
2015-05-21 15:18:10,376 [myid:0] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x62ac8640000 with negotiated timeout 30000 for client /127.0.0.1:44989
2015-05-21 15:18:10,377 [myid:] - INFO  [main-SendThread(127.0.0.1:11290):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11290, sessionid = 0x62ac8640000, negotiated timeout = 30000
2015-05-21 15:18:10,392 [myid:1] - INFO  [CommitProcWorkThread-5:ZooKeeperServer@645] - Established session 0x100062ac86d0000 with negotiated timeout 30000 for client /127.0.0.1:47154
2015-05-21 15:18:10,393 [myid:] - INFO  [main-SendThread(127.0.0.1:11293):ClientCnxn$SendThread@1357] - Session establishment complete on server 127.0.0.1/127.0.0.1:11293, sessionid = 0x100062ac86d0000, negotiated timeout = 30000
2015-05-21 15:18:10,395 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x62ac8640000 type:create cxid:0x3 zxid:0x100000008 txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:18:10,416 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@849] - Got user-level KeeperException when processing sessionid:0x400062ac4ad0000 type:create cxid:0x1 zxid:0x10000000a txntype:-1 reqpath:n/a Error Path:/test Error:KeeperErrorCode = NodeExists for /test
2015-05-21 15:18:10,447 [myid:0] - INFO  [NIOWorkerThread-11:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x62ac8640000
2015-05-21 15:18:10,447 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x62ac8640000
2015-05-21 15:18:10,464 [myid:0] - INFO  [NIOWorkerThread-12:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x62ac8640000]
2015-05-21 15:18:10,464 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x62ac8640000 closed
2015-05-21 15:18:10,464 [myid:0] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:44989 which had sessionid 0x62ac8640000
2015-05-21 15:18:10,464 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled)
2015-05-21 15:18:10,464 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:18:10,464 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigAlreadyActive(ReconfigRecoveryTest.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:18:10,465 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:18:10,465 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:18:10,466 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:18:10,466 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:18:10,466 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:18:10,466 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:18:10,466 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:18:10,466 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:18:10,467 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:18:10,467 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:18:10,467 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:18:10,467 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:10,468 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:10,468 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11290:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:18:10,468 [myid:0] - INFO  [localhost/127.0.0.1:11292:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:10,468 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,468 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,469 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled)
2015-05-21 15:18:10,469 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,469 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,470 [myid:4] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,469 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,469 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 0
2015-05-21 15:18:10,468 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,468 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,471 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,469 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,471 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,468 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,472 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,468 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,472 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,468 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@836] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:10,472 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,468 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,472 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,473 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 1
2015-05-21 15:18:10,472 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,471 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 0
2015-05-21 15:18:10,470 [myid:0] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 0
2015-05-21 15:18:10,470 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,474 [myid:4] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 4
2015-05-21 15:18:10,469 [myid:0] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,469 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled) to exit thread
2015-05-21 15:18:10,469 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:10,473 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 3
2015-05-21 15:18:10,473 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 0
2015-05-21 15:18:10,474 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:10,474 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 0 my id = 2
2015-05-21 15:18:12,297 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:12,334 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:12,334 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:12,398 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
2015-05-21 15:18:12,399 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:18:12,399 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:18:12,399 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:18:12,399 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
2015-05-21 15:18:12,399 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
2015-05-21 15:18:12,399 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
2015-05-21 15:18:12,399 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
2015-05-21 15:18:12,399 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.3]
2015-05-21 15:18:12,399 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11290)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.4]
2015-05-21 15:18:12,402 [myid:1] - INFO  [NIOWorkerThread-11:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x100062ac86d0000
2015-05-21 15:18:12,402 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x100062ac86d0000
2015-05-21 15:18:12,416 [myid:1] - INFO  [NIOWorkerThread-12:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x100062ac86d0000]
2015-05-21 15:18:12,416 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x100062ac86d0000 closed
2015-05-21 15:18:12,417 [myid:1] - INFO  [NIOWorkerThread-12:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:47154 which had sessionid 0x100062ac86d0000
2015-05-21 15:18:12,417 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled)
2015-05-21 15:18:12,417 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigAlreadyActive(ReconfigRecoveryTest.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:18:12,417 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:18:12,416 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:18:12,418 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:18:12,419 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:18:12,419 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:18:12,419 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:18:12,419 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:18:12,420 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:18:12,420 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:18:12,420 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:18:12,421 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:18:12,422 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:18:12,423 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11293:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:18:12,423 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:12,424 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:12,424 [myid:1] - INFO  [localhost/127.0.0.1:11295:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:12,424 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:12,425 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:12,426 [myid:4] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:12,426 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 1
2015-05-21 15:18:12,426 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled)
2015-05-21 15:18:12,426 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:12,427 [myid:1] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:12,425 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:12,427 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:12,425 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:12,425 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:12,428 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:12,425 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:12,428 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 1
2015-05-21 15:18:12,425 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@836] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:12,429 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:12,425 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:12,429 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:12,429 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:12,428 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:12,430 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 2
2015-05-21 15:18:12,428 [myid:1] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 1
2015-05-21 15:18:12,426 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled) to exit thread
2015-05-21 15:18:12,426 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:12,431 [myid:4] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 4
2015-05-21 15:18:12,429 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 1 my id = 3
2015-05-21 15:18:14,399 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower]
2015-05-21 15:18:14,399 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:18:14,400 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:18:14,400 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:18:14,400 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
2015-05-21 15:18:14,400 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
2015-05-21 15:18:14,400 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
2015-05-21 15:18:14,400 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
2015-05-21 15:18:14,401 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3]
2015-05-21 15:18:14,401 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11293)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4]
2015-05-21 15:18:14,402 [myid:2] - INFO  [NIOWorkerThread-13:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x200062ac4990000
2015-05-21 15:18:14,403 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x200062ac4990000
2015-05-21 15:18:14,418 [myid:2] - INFO  [NIOWorkerThread-14:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x200062ac4990000]
2015-05-21 15:18:14,418 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x200062ac4990000 closed
2015-05-21 15:18:14,418 [myid:2] - INFO  [NIOWorkerThread-14:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:57233 which had sessionid 0x200062ac4990000
2015-05-21 15:18:14,418 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:18:14,418 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled)
2015-05-21 15:18:14,419 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigAlreadyActive(ReconfigRecoveryTest.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:18:14,420 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:18:14,420 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:18:14,420 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:18:14,420 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:18:14,420 [myid:2] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:18:14,420 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:18:14,421 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:18:14,421 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:18:14,422 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:18:14,422 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:18:14,422 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:18:14,423 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11296:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:18:14,423 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:14,424 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:14,424 [myid:2] - INFO  [localhost/127.0.0.1:11298:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:14,425 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:14,426 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:14,426 [myid:2] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:14,425 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled)
2015-05-21 15:18:14,425 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:14,425 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:14,427 [myid:4] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:14,425 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:14,427 [myid:2] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 2
2015-05-21 15:18:14,425 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@836] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:14,427 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:14,427 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:14,427 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:14,426 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled) to exit thread
2015-05-21 15:18:14,426 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 2
2015-05-21 15:18:14,428 [myid:4] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 4
2015-05-21 15:18:14,428 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:14,429 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 2 my id = 3
2015-05-21 15:18:15,334 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:15,334 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:15,334 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:15,336 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:16,399 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower]
2015-05-21 15:18:16,399 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:18:16,400 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:18:16,400 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:18:16,400 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
2015-05-21 15:18:16,400 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
2015-05-21 15:18:16,400 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
2015-05-21 15:18:16,401 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
2015-05-21 15:18:16,401 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3]
2015-05-21 15:18:16,401 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11296)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4]
2015-05-21 15:18:16,402 [myid:3] - INFO  [NIOWorkerThread-8:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x300062ac49a0000
2015-05-21 15:18:16,403 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x300062ac49a0000
2015-05-21 15:18:29,254 [myid:3] - WARN  [NIOWorkerThread-9:NIOServerCnxn@369] - Unable to read additional data from client sessionid 0x300062ac49a0000, likely client has closed socket
2015-05-21 15:18:29,255 [myid:3] - INFO  [NIOWorkerThread-9:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x300062ac49a0000]
2015-05-21 15:18:29,255 [myid:3] - INFO  [NIOWorkerThread-9:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:56372 which had sessionid 0x300062ac49a0000
2015-05-21 15:18:29,354 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x300062ac49a0000 closed
2015-05-21 15:18:29,354 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:18:29,354 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled)
2015-05-21 15:18:29,354 [myid:] - INFO  [main:Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1038)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigAlreadyActive(ReconfigRecoveryTest.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:18:29,355 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
2015-05-21 15:18:29,355 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:18:29,355 [myid:] - INFO  [main:FollowerRequestProcessor@136] - Shutting down
2015-05-21 15:18:29,355 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:18:29,355 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@107] - FollowerRequestProcessor exited loop!
2015-05-21 15:18:29,355 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:18:29,355 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:18:29,355 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree]
2015-05-21 15:18:29,355 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:18:29,355 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:18:29,356 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:18:29,356 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:29,356 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11299:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:18:29,356 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:29,356 [myid:3] - INFO  [localhost/127.0.0.1:11301:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:29,356 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:29,357 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled)
2015-05-21 15:18:29,357 [myid:3] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 4 my id = 3
2015-05-21 15:18:29,357 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@836] - Connection broken for id 3, my id = 4, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:29,357 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@836] - Connection broken for id 4, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:821)
2015-05-21 15:18:29,357 [myid:4] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:29,357 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled) to exit thread
2015-05-21 15:18:29,357 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@753] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:905)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:741)
2015-05-21 15:18:29,357 [myid:3] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@839] - Interrupting SendWorker
2015-05-21 15:18:29,357 [myid:4] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@762] - Send worker leaving thread  id 3 my id = 4
2015-05-21 15:18:30,335 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-05-21 15:18:30,335 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-05-21 15:18:30,401 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
2015-05-21 15:18:30,401 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):Follower@198] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:969)
2015-05-21 15:18:30,402 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:18:30,402 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:18:30,402 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3]
2015-05-21 15:18:30,402 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3]
2015-05-21 15:18:30,402 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.0]
2015-05-21 15:18:30,402 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1]
2015-05-21 15:18:30,403 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2]
2015-05-21 15:18:30,403 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11299)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4]
2015-05-21 15:18:30,404 [myid:4] - INFO  [NIOWorkerThread-9:QuorumZooKeeperServer@132] - Submitting global closeSession request for session 0x400062ac4ad0000
2015-05-21 15:18:30,405 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@675] - Processed session termination for sessionid: 0x400062ac4ad0000
2015-05-21 15:18:30,444 [myid:4] - WARN  [NIOWorkerThread-10:NIOServerCnxn@369] - Unable to read additional data from client sessionid 0x400062ac4ad0000, likely client has closed socket
2015-05-21 15:18:30,444 [myid:4] - INFO  [NIOWorkerThread-10:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x400062ac4ad0000]
2015-05-21 15:18:30,445 [myid:4] - INFO  [NIOWorkerThread-10:NIOServerCnxn@1007] - Closed socket connection for client /127.0.0.1:35006 which had sessionid 0x400062ac4ad0000
2015-05-21 15:18:30,544 [myid:] - INFO  [main:ZooKeeper@1111] - Session: 0x400062ac4ad0000 closed
2015-05-21 15:18:30,544 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled)
2015-05-21 15:18:30,544 [myid:] - INFO  [main:Leader@611] - Shutting down
2015-05-21 15:18:30,544 [myid:] - INFO  [main:Leader@617] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:617)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1035)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testNextConfigAlreadyActive(ReconfigRecoveryTest.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:52)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1165)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1016)
2015-05-21 15:18:30,544 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@531] - EventThread shut down
2015-05-21 15:18:30,545 [myid:4] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11303:Leader$LearnerCnxAcceptor@372] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2015-05-21 15:18:30,545 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
2015-05-21 15:18:30,546 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
2015-05-21 15:18:30,546 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
2015-05-21 15:18:30,546 [myid:] - INFO  [main:PrepRequestProcessor@973] - Shutting down
2015-05-21 15:18:30,546 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2015-05-21 15:18:30,546 [myid:] - INFO  [main:CommitProcessor@356] - Shutting down
2015-05-21 15:18:30,546 [myid:4] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@155] - PrepRequestProcessor exited loop!
2015-05-21 15:18:30,547 [myid:4] - INFO  [CommitProcessor:4:CommitProcessor@191] - CommitProcessor exited loop!
2015-05-21 15:18:30,547 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@912] - Shutting down
2015-05-21 15:18:30,547 [myid:] - INFO  [main:FinalRequestProcessor@489] - shutdown of request processor complete
2015-05-21 15:18:30,547 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
2015-05-21 15:18:30,548 [myid:4] - INFO  [SyncThread:4:SyncRequestProcessor@169] - SyncRequestProcessor exited!
2015-05-21 15:18:30,548 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader,name3=InMemoryDataTree]
2015-05-21 15:18:30,549 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60541:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:60541 ********
2015-05-21 15:18:30,549 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60579:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:60579 ********
2015-05-21 15:18:30,549 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60583:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:60583 ********
2015-05-21 15:18:30,549 [myid:4] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
2015-05-21 15:18:30,550 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60583:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:18:30,550 [myid:4] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:30,549 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60540:LearnerHandler@595] - ******* GOODBYE /127.0.0.1:60540 ********
2015-05-21 15:18:30,549 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60541:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:18:30,550 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60540:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:18:30,550 [myid:4] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11302:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
2015-05-21 15:18:30,550 [myid:4] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
2015-05-21 15:18:30,549 [myid:4] - WARN  [LearnerHandler-/127.0.0.1:60579:LearnerHandler@879] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:877)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:598)
2015-05-21 15:18:30,551 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Leader]
2015-05-21 15:18:30,551 [myid:4] - INFO  [localhost/127.0.0.1:11304:QuorumCnxManager$Listener@578] - Leaving listener
2015-05-21 15:18:30,552 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):QuorumPeer@981] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:557)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:978)
2015-05-21 15:18:30,552 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):Leader@611] - Shutting down
2015-05-21 15:18:30,552 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled)
2015-05-21 15:18:30,552 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):QuorumPeer@1012] - PeerState set to LOOKING
2015-05-21 15:18:30,553 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled) to exit thread
2015-05-21 15:18:30,553 [myid:4] - WARN  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):QuorumPeer@994] - QuorumPeer main thread exited
2015-05-21 15:18:30,553 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4]
2015-05-21 15:18:30,553 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4]
2015-05-21 15:18:30,554 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.0]
2015-05-21 15:18:30,554 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1]
2015-05-21 15:18:30,554 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2]
2015-05-21 15:18:30,554 [myid:4] - INFO  [QuorumPeer[myid=4](plain=/127.0.0.1:11302)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3]
2015-05-21 15:18:30,554 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@55] - Memory used 46330
2015-05-21 15:18:30,555 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@60] - Number of threads 7
2015-05-21 15:18:30,555 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@65] - FINISHED TEST METHOD testNextConfigAlreadyActive
2015-05-21 15:18:30,555 [myid:] - INFO  [main:ZKTestCase$1@65] - SUCCEEDED testNextConfigAlreadyActive
2015-05-21 15:18:30,555 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testNextConfigAlreadyActive
------------- ---------------- ---------------

Testcase: testNextConfigCompletion took 4.001 sec
Testcase: testObserverConvertedToParticipantDuringFLE took 21.329 sec
Testcase: testCurrentObserverIsParticipantInNewConfig took 33.623 sec
Testcase: testCurrentServersAreObserversInNextConfig took 33.498 sec
Testcase: testNextConfigUnreachable took 67.4 sec
Testcase: testNextConfigAlreadyActive took 22.47 sec
